<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 5.12.8"/><meta data-react-helmet="true" name="description" content="Docker 와 Github Actions , ECR , ECS 로 CI/ CD 구축하였습니다."/><meta data-react-helmet="true" name="viewport" content="width=device-width, initial-scale=1.0"/><meta data-react-helmet="true" http-equiv="Content-Type" content="text/html;charset=UTF-8"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="og:title" content="항해 플러스 1주차 - CI/CD 배포 파이프라인 구축"/><meta data-react-helmet="true" property="og:description" content="Docker 와 Github Actions , ECR , ECS 로 CI/ CD 구축하였습니다."/><meta data-react-helmet="true" property="og:image" content="/static/ac7b361e6bebe7a7963e36daf0d1a59e/img_7.png"/><meta data-react-helmet="true" property="og:url"/><meta data-react-helmet="true" property="og:site_name" content="항해 플러스 1주차 - CI/CD 배포 파이프라인 구축"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:title" content="항해 플러스 1주차 - CI/CD 배포 파이프라인 구축"/><meta data-react-helmet="true" name="twitter:description" content="Docker 와 Github Actions , ECR , ECS 로 CI/ CD 구축하였습니다."/><meta data-react-helmet="true" name="twitter:image" content="/static/ac7b361e6bebe7a7963e36daf0d1a59e/img_7.png"/><meta data-react-helmet="true" name="twitter:site" content="@사용자이름"/><meta data-react-helmet="true" name="twitter:creator" content="@사용자이름"/><meta data-react-helmet="true" name="google-site-verification" content="웹 마스터 도구가 제공하는 Meta 태그"/><meta data-react-helmet="true" name="naver-site-verification" content="웹 마스터 도구가 제공하는 Meta 태그"/><style data-href="/styles.9e907bc32054b7771552.css" data-identity="gatsby-global-css">code[class*=language-],pre[class*=language-]{word-wrap:normal;background:none;color:#ccc;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;-webkit-hyphens:none;hyphens:none;line-height:1.5;tab-size:4;text-align:left;white-space:pre;word-break:normal;word-spacing:normal}pre[class*=language-]{margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2d2d2d}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em;white-space:normal}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#999}.token.punctuation{color:#ccc}.token.attr-name,.token.deleted,.token.namespace,.token.tag{color:#e2777a}.token.function-name{color:#6196cc}.token.boolean,.token.function,.token.number{color:#f08d49}.token.class-name,.token.constant,.token.property,.token.symbol{color:#f8c555}.token.atrule,.token.builtin,.token.important,.token.keyword,.token.selector{color:#cc99cd}.token.attr-value,.token.char,.token.regex,.token.string,.token.variable{color:#7ec699}.token.entity,.token.operator,.token.url{color:#67cdcc}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.inserted{color:green}</style><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){const t=e.target;if(void 0===t.dataset.mainImage)return;if(void 0===t.dataset.gatsbyImageSsr)return;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><title data-react-helmet="true">항해 플러스 1주차 - CI/CD 배포 파이프라인 구축</title><link rel="sitemap" type="application/xml" href="/sitemap-index.xml"/><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="canonical" href="https://connieya.github.io/항해플러스/1주차/" data-baseprotocol="https:" data-basehost="connieya.github.io"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion="css 13ku56z">.css-13ku56z{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;height:100%;}</style><div class="css-13ku56z esjg9ma0"><style data-emotion="css 1l1mfmq">.css-1l1mfmq{position:fixed;top:0;z-index:10;width:100%;height:60px;background:linear-gradient(
    90deg,
    #423434,
    #988b3f 25%,
    #967950 46%,
    #af7a28 69%,
    #eceb08
  );}</style><div class="css-1l1mfmq e1o8p83g1"><style data-emotion="css 1p3pcfy">.css-1p3pcfy{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;font-size:28px;padding-top:6px;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:#fff;font-family:Catamaran;font-weight:800;margin-left:20px;opacity:0.7;}</style><a class="css-1p3pcfy e1o8p83g0" href="/">Connieya</a></div><style data-emotion="css-global kxm5mf">@import url('https://fonts.googleapis.com/css2?family=Nanum+Myeongjo:wght@400;700;800&display=swap');*{padding:0;margin:0;box-sizing:border-box;font-family:'Nanum Myeongjo',serif;}html,body,#___gatsby{height:100%;}a,a:hover{color:inherit;-webkit-text-decoration:none;text-decoration:none;cursor:pointer;}</style><style data-emotion="css 11k3q87">.css-11k3q87{position:relative;width:100%;max-width:768px;margin:0 auto;}</style><div class="css-11k3q87 e17f455w0"><style data-emotion="css 1fttcpj">.css-1fttcpj{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}</style><div class="css-1fttcpj ehbuenk5"><style data-emotion="css 9aqgc6">.css-9aqgc6{width:100%;max-width:768px;margin:4rem auto;}</style><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained css-9aqgc6 ehbuenk4"><div style="max-width:1378px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg%20height=&#x27;743&#x27;%20width=&#x27;1378&#x27;%20xmlns=&#x27;http://www.w3.org/2000/svg&#x27;%20version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><img aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear" decoding="async" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABLklEQVR42qVS27KDMAj0/7+11VwaA7nIWbBxqrVPhxkmwSHL7uKUcxbnvORM0nqXX7Hd1FyKELO01q3etk0m4iKLD5JWkow7oYlLxXnO6zftXTNLJpzEkkCo1iZTZpLH/DSWC9IBfJ/apIOxJSYn7lCw2X1krVVeaZWCAe3dO1FlMHTiAeS8lxCjgSn9z0hFQS6y0aNWVfSPeqpE4ufZ2M3LIvO8GHiML2SUlJINMEAg6qORHd6tazZmVivDhgnu8QSYkwfOEKLwRbISo7Z9LUYHDMCDYcPj6NW/XTbBYPXkTvLlkwFlKBy9B2BQMDCLYZeogEPGyFT25Zwkd5W8Hp6/JWeTvPjdwxDC/l9dGfL3Um4ld109mL3ATDesEsbWPoNvPFQAtegkWW6a/hN/ZDhhm8KGUtkAAAAASUVORK5CYII=" alt=""/><picture><source type="image/webp" data-srcset="/static/ac7b361e6bebe7a7963e36daf0d1a59e/f9263/img_7.webp 345w,/static/ac7b361e6bebe7a7963e36daf0d1a59e/faaa8/img_7.webp 689w,/static/ac7b361e6bebe7a7963e36daf0d1a59e/ba328/img_7.webp 1378w" sizes="(min-width: 1378px) 1378px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 1378px) 1378px, 100vw" decoding="async" loading="lazy" data-src="/static/ac7b361e6bebe7a7963e36daf0d1a59e/78f23/img_7.png" data-srcset="/static/ac7b361e6bebe7a7963e36daf0d1a59e/bd759/img_7.png 345w,/static/ac7b361e6bebe7a7963e36daf0d1a59e/dec9e/img_7.png 689w,/static/ac7b361e6bebe7a7963e36daf0d1a59e/78f23/img_7.png 1378w" alt="해당 포스트 썸네일 이미지"/></picture><noscript><picture><source type="image/webp" srcSet="/static/ac7b361e6bebe7a7963e36daf0d1a59e/f9263/img_7.webp 345w,/static/ac7b361e6bebe7a7963e36daf0d1a59e/faaa8/img_7.webp 689w,/static/ac7b361e6bebe7a7963e36daf0d1a59e/ba328/img_7.webp 1378w" sizes="(min-width: 1378px) 1378px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 1378px) 1378px, 100vw" decoding="async" loading="lazy" src="/static/ac7b361e6bebe7a7963e36daf0d1a59e/78f23/img_7.png" srcSet="/static/ac7b361e6bebe7a7963e36daf0d1a59e/bd759/img_7.png 345w,/static/ac7b361e6bebe7a7963e36daf0d1a59e/dec9e/img_7.png 689w,/static/ac7b361e6bebe7a7963e36daf0d1a59e/78f23/img_7.png 1378w" alt="해당 포스트 썸네일 이미지"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div><div><style data-emotion="css 255c6r">.css-255c6r{word-break:keep-all;}</style><h1 class="css-255c6r ehbuenk2">항해 플러스 1주차 - CI/CD 배포 파이프라인 구축</h1></div><style data-emotion="css jr6aws">.css-jr6aws{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;color:#757575;}</style><div class="css-jr6aws ehbuenk3"><style data-emotion="css s5xdrg">.css-s5xdrg{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}</style><div class="css-s5xdrg ehbuenk1"><style data-emotion="css onhpl3">.css-onhpl3{margin:0.25rem;padding:0.25rem;}.css-onhpl3:first-of-type{margin:0.25rem 0.25rem 0.25rem 0;}</style><span role="checkbox" aria-checked="false" class="css-onhpl3 e12y0cgh1"><style data-emotion="css 1gprwe9">.css-1gprwe9{z-index:9;display:inline-block;padding:0.25rem 0.75rem;color:#000000 font-size:0.9rem;font-weight:600;white-space:nowrap;background-color:-m-a-i-n:#f5f5f8;-s-u-b:#e4f1ff;-s-u-b_-m-i-d-d-l-e_-b-o-l-d:#badcff;-s-u-b_-b-o-l-d:#0E68C8;-w-h-i-t-e:#ffffff;-b-l-a-c-k:#000000;-g-r-a-y:#e2e5e6;-g-r-a-y_-b-o-l-d:#757575;-s-h-a-d-o-w:rgba(82,82,82,0.75);border:1px solid #b5a5a5;border-radius:1rem;-webkit-transform:scale(1);-moz-transform:scale(1);-ms-transform:scale(1);transform:scale(1);cursor:pointer;-webkit-transition:all 0.1s ease-out;transition:all 0.1s ease-out;}.css-1gprwe9:not(:first-of-type){margin-left:1rem;}.css-1gprwe9:hover{color:#000000 background-color:#b5a5a5;}@media (max-width: 768px){.css-1gprwe9{font-size:0.75rem;}}</style><a aria-label="항해플러스 카테고리" class="css-1gprwe9 e12y0cgh0" href="/?category=%ED%95%AD%ED%95%B4%ED%94%8C%EB%9F%AC%EC%8A%A4">항해플러스</a></span></div><div class="css-0 ehbuenk0">2023.12.09.</div></div></div><style data-emotion="css 1ybhd0e">.css-1ybhd0e{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:100%;margin:0 auto;padding:5rem 0;line-height:1.75;word-break:break-all;}.css-1ybhd0e h1,.css-1ybhd0e h2,.css-1ybhd0e h3{margin-bottom:1.5rem;font-weight:700;}.css-1ybhd0e h1{padding-left:0.2rem;font-size:2rem;border-bottom:1px solid #e2e5e6;}.css-1ybhd0e h2{font-size:1.75rem;border-bottom:1px solid #e2e5e6;}.css-1ybhd0e h3{font-size:1.25rem;}.css-1ybhd0e *+h1,.css-1ybhd0e *+h2,.css-1ybhd0e *+h3{margin-top:2rem;margin-bottom:0.5rem;}.css-1ybhd0e hr+h1,.css-1ybhd0e hr+h2,.css-1ybhd0e hr+h3{margin-top:0;}.css-1ybhd0e blockquote{margin:30px 0;padding:0 1rem;color:#757575;font-weight:800;border-left:2px solid #e2e5e6;}.css-1ybhd0e ol,.css-1ybhd0e ul{margin-top:0rem;margin-bottom:0rem;margin-left:1rem;padding:0.5rem 0;}.css-1ybhd0e li{font-weight:300;}.css-1ybhd0e hr{margin:100px 0;border:1px solid #000;}.css-1ybhd0e a{color:#0E68C8;}.css-1ybhd0e p{margin:0;padding:0.5rem 0;font-weight:300;}.css-1ybhd0e img{margin:3rem 0;}.css-1ybhd0e pre[class*='language-'],.css-1ybhd0e code[class*='language-']{color:#d4d4d4;font-size:13px;font-family:Menlo,Monaco,Consolas,'Andale Mono','Ubuntu Mono','Courier New',monospace;direction:ltr;white-space:pre;text-align:left;text-shadow:none;word-break:normal;word-spacing:normal;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;border-radius:0.5rem;}.css-1ybhd0e pre[class*='language-']::selection,.css-1ybhd0e code[class*='language-']::selection,.css-1ybhd0e pre[class*='language-'] *::selection,.css-1ybhd0e code[class*='language-'] *::selection{text-shadow:none;background:#264f78;}@media print{.css-1ybhd0e pre[class*='language-'],.css-1ybhd0e code[class*='language-']{text-shadow:none;}}.css-1ybhd0e pre[class*='language-']{padding:1rem;overflow:auto;background:#1e1e1e;}.css-1ybhd0e:not(pre)>code[class*='language-']{padding:0.1em 0.3em;background:#1e1e1e;border-radius:0;border-radius:0.3em;}.css-1ybhd0e .namespace{opacity:0.7;}.css-1ybhd0e .token.doctype .token.doctype-tag{color:#569cd6;}.css-1ybhd0e .token.doctype .token.name{color:#9cdcfe;}.css-1ybhd0e .token.comment,.css-1ybhd0e .token.prolog{color:#6a9955;}.css-1ybhd0e .token.punctuation,.css-1ybhd0e .language-html .language-css .token.punctuation,.css-1ybhd0e .language-html .language-javascript .token.punctuation{color:#d4d4d4;}.css-1ybhd0e .token.property,.css-1ybhd0e .token.tag,.css-1ybhd0e .token.boolean,.css-1ybhd0e .token.number,.css-1ybhd0e .token.constant,.css-1ybhd0e .token.symbol,.css-1ybhd0e .token.inserted,.css-1ybhd0e .token.unit{color:#b5cea8;}.css-1ybhd0e .token.selector,.css-1ybhd0e .token.attr-name,.css-1ybhd0e .token.string,.css-1ybhd0e .token.char,.css-1ybhd0e .token.builtin,.css-1ybhd0e .token.deleted{color:#ce9178;}.css-1ybhd0e .language-css .token.string.url{-webkit-text-decoration:underline;text-decoration:underline;}.css-1ybhd0e .token.operator,.css-1ybhd0e .token.entity{color:#d4d4d4;}.css-1ybhd0e .token.operator.arrow{color:#569cd6;}.css-1ybhd0e .token.atrule{color:#ce9178;}.css-1ybhd0e .token.atrule .token.rule{color:#c586c0;}.css-1ybhd0e .token.atrule .token.url{color:#9cdcfe;}.css-1ybhd0e .token.atrule .token.url .token.function{color:#dcdcaa;}.css-1ybhd0e .token.atrule .token.url .token.punctuation{color:#d4d4d4;}.css-1ybhd0e .token.keyword{color:#569cd6;}.css-1ybhd0e .token.keyword.module,.css-1ybhd0e .token.keyword.control-flow{color:#c586c0;}.css-1ybhd0e .token.function,.css-1ybhd0e .token.function .token.maybe-class-name{color:#dcdcaa;}.css-1ybhd0e .token.regex{color:#d16969;}.css-1ybhd0e .token.important{color:#569cd6;}.css-1ybhd0e .token.italic{font-style:italic;}.css-1ybhd0e .token.constant{color:#9cdcfe;}.css-1ybhd0e .token.class-name,.css-1ybhd0e .token.maybe-class-name{color:#4ec9b0;}.css-1ybhd0e .token.console{color:#9cdcfe;}.css-1ybhd0e .token.parameter{color:#9cdcfe;}.css-1ybhd0e .token.interpolation{color:#9cdcfe;}.css-1ybhd0e .token.punctuation.interpolation-punctuation{color:#569cd6;}.css-1ybhd0e .token.boolean{color:#569cd6;}.css-1ybhd0e .token.property,.css-1ybhd0e .token.variable,.css-1ybhd0e .token.imports .token.maybe-class-name,.css-1ybhd0e .token.exports .token.maybe-class-name{color:#9cdcfe;}.css-1ybhd0e .token.selector{color:#d7ba7d;}.css-1ybhd0e .token.escape{color:#d7ba7d;}.css-1ybhd0e .token.tag{color:#569cd6;}.css-1ybhd0e .token.tag .token.punctuation{color:#808080;}.css-1ybhd0e .token.cdata{color:#808080;}.css-1ybhd0e .token.attr-name{color:#9cdcfe;}.css-1ybhd0e .token.attr-value,.css-1ybhd0e .token.attr-value .token.punctuation{color:#ce9178;}.css-1ybhd0e .token.attr-value .token.punctuation.attr-equals{color:#d4d4d4;}.css-1ybhd0e .token.entity{color:#569cd6;}.css-1ybhd0e .token.namespace{color:#4ec9b0;}.css-1ybhd0e pre[class*='language-javascript'],.css-1ybhd0e code[class*='language-javascript'],.css-1ybhd0e pre[class*='language-jsx'],.css-1ybhd0e code[class*='language-jsx'],.css-1ybhd0e pre[class*='language-typescript'],.css-1ybhd0e code[class*='language-typescript'],.css-1ybhd0e pre[class*='language-tsx'],.css-1ybhd0e code[class*='language-tsx']{color:#9cdcfe;}.css-1ybhd0e pre[class*='language-css'],.css-1ybhd0e code[class*='language-css']{color:#ce9178;}.css-1ybhd0e pre[class*='language-html'],.css-1ybhd0e code[class*='language-html']{color:#d4d4d4;}.css-1ybhd0e .language-regex .token.anchor{color:#dcdcaa;}.css-1ybhd0e .language-html .token.punctuation{color:#808080;}.css-1ybhd0e pre[class*='language-']>code[class*='language-']{position:relative;z-index:1;}.css-1ybhd0e .line-highlight.line-highlight{z-index:0;background:#f7ebc6;box-shadow:inset 5px 0 0 #f7d87c;}.css-1ybhd0e pre[class*='language-text'],.css-1ybhd0e code[class*='language-text']{padding:0.25rem;color:#000000;background-color:#e2e5e6;}@media (max-width: 768px){.css-1ybhd0e img{width:100%;}.css-1ybhd0e pre[class*='language-']{width:100%;overflow-x:auto;}}</style><div class="css-1ybhd0e e13plzdv0"><p>항해 플러스 1주차는 Github Actions 와 Docker 를 활용하여
웹 어플리케이션의 CI/CD 를 구축해야 한다.</p>
<p>1주차의 과제를 완료하기 위한 3단계 과정</p>
<ul>
<li>STEP 01 웹서버 생성</li>
<li>STEP 02 빌드 환경 구축</li>
<li>STEP 03 배포 환경 구축</li>
</ul>
<h2 id="step-01-웹서버-생성" style="position:relative;"><a href="#step-01-%EC%9B%B9%EC%84%9C%EB%B2%84-%EC%83%9D%EC%84%B1" aria-label="step 01 웹서버 생성 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>STEP 01 웹서버 생성</h2>
<p>간단한 서버 어플리케이션 프로젝트를 생성하고 Health-Check router 를 구현해야 한다.</p>
<p>스프링에서는 health-check 에 유용한 라이브러리인 actuator 가 있다.</p>
<p><a href="https://docs.spring.io/spring-boot/docs/current/reference/html/actuator.html" target="_blank" rel="nofollow">spring actuator 공식 문서</a></p>
<p>actuator 를 사용하여 프로젝트를 생성해보자.</p>
<h3 id="spring-actuator" style="position:relative;"><a href="#spring-actuator" aria-label="spring actuator permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>spring actuator</h3>
<h4 id="dependency-추가" style="position:relative;"><a href="#dependency-%EC%B6%94%EA%B0%80" aria-label="dependency 추가 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Dependency 추가</h4>
<p>build.gradle 예시</p>
<div class="gatsby-highlight" data-language="groovy"><pre class="language-groovy"><code class="language-groovy">dependencies <span class="token punctuation">{</span>
	implementation <span class="token string">'org.springframework.boot:spring-boot-starter-actuator'</span>
<span class="token punctuation">}</span></code></pre></div>
<p>서버를 실행하고</p>
<p>localhost:8080/actuaor 를 입력하면</p>
<p>다음과 같이 애플리케이션의 헬스 상태를 볼 수 있는 URL을 제공해준다.
<span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 527px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/0ba0b785a6c782d980c41d48d61aa9de/c6c03/img.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 57.8125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAABVklEQVR42q1R2W6DMBDk//8sUo8oTZRCKIXicpTT4Qbb0zVEkZo0ecpK4/HKMDu7a+AUSipIKf9CXLP+TqnbMIqsgLUzkRM/IoxpmhD6ARzTQZbm6KoRNe9Rlx141qIqOmTBETxtwZMGQz/dF9Qt6PAdD+vVC7ZPe7r/wDYHxH6NhoSLn2YWLIn7brwvKMgh8xgiFqFpunlWy1Bv/6TuvBn6GIeRnG3wulrD2TMwJ4Vn1WB2MbfLrAyxWyL2KA8rBB852qr/X1A76vsex/KIL9uFe3DAywp5DpqXWqyqBfMm5bLpWzZnQeb6MDfvMLcWPu0YZUmLqYGiUHQHokhRAXXOk1SzQpYpcC4vlnKq9E2iu+c3bNc+7APHwQYYE0gSKsgkwlAiCOSca05JNI51kQtBalcMwyDEJETXdmLoOyGlIEBQXwRcQF3lZOqMs8NHhd6y9Uj8ArYipORw7ZzwAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <picture>
          <source
              srcset="/static/0ba0b785a6c782d980c41d48d61aa9de/a59e9/img.webp 192w,
/static/0ba0b785a6c782d980c41d48d61aa9de/0ca9f/img.webp 384w,
/static/0ba0b785a6c782d980c41d48d61aa9de/9ce6a/img.webp 527w"
              sizes="(max-width: 527px) 100vw, 527px"
              type="image/webp"
            />
          <source
            srcset="/static/0ba0b785a6c782d980c41d48d61aa9de/3b721/img.png 192w,
/static/0ba0b785a6c782d980c41d48d61aa9de/66595/img.png 384w,
/static/0ba0b785a6c782d980c41d48d61aa9de/c6c03/img.png 527w"
            sizes="(max-width: 527px) 100vw, 527px"
            type="image/png"
          />
          <img
            class="gatsby-resp-image-image"
            src="/static/0ba0b785a6c782d980c41d48d61aa9de/c6c03/img.png"
            alt="img.png"
            title=""
            loading="lazy"
            decoding="async"
            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
          />
        </picture>
  </a>
    </span></p>
<p>localhost:8080/actuator/health 에 링크에 들어가보면</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 365px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/f3cac9816cf2fea64bb691d4e69a66bc/dbde8/img_1.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 45.3125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAiUlEQVR42s3QzQqDMBAEYN//qNDXarAg7cGzmNgfoUZMdnckUSm9KXpwYNk9fQybZOoJgOBYIPI/zLxqiIgRFKJ7kl6bCH5tD1NptJ8WzjnoTmOgASvD8w6giZeuGxSqQPkoYQNuDTz77WCmpoYk2JMfeMnf8Qo/XH4C2QPeJtCzHNTwePB1bnAEZerC7kBA/00AAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <picture>
          <source
              srcset="/static/f3cac9816cf2fea64bb691d4e69a66bc/a59e9/img_1.webp 192w,
/static/f3cac9816cf2fea64bb691d4e69a66bc/3a8fd/img_1.webp 365w"
              sizes="(max-width: 365px) 100vw, 365px"
              type="image/webp"
            />
          <source
            srcset="/static/f3cac9816cf2fea64bb691d4e69a66bc/3b721/img_1.png 192w,
/static/f3cac9816cf2fea64bb691d4e69a66bc/dbde8/img_1.png 365w"
            sizes="(max-width: 365px) 100vw, 365px"
            type="image/png"
          />
          <img
            class="gatsby-resp-image-image"
            src="/static/f3cac9816cf2fea64bb691d4e69a66bc/dbde8/img_1.png"
            alt="img_1.png"
            title=""
            loading="lazy"
            decoding="async"
            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
          />
        </picture>
  </a>
    </span></p>
<p>서버가 잘 동작하는 지 헬스 상태를 볼 수 있다.</p>
<p>여기서 잠깐 !</p>
<p>위와 같이 요청에 필요한 URI 를 응답에 포함시켜 반환하는 것을 Hateoas 라고 한다.</p>
<h4 id="hateaos" style="position:relative;"><a href="#hateaos" aria-label="hateaos permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Hateaos</h4>
<blockquote>
<p>Hypermedia As Engine Of Application State 의 약자로 서버가 클라이언트에게
하이퍼 미디어를 통해 정보를 동적으로 제공해주는 것</p>
</blockquote>
<p>스프링 actuator 는 헬스 상태 뿐 아니라  수 많은 기능을 제공하는데,
이 기능들을 웹 환경에서 보이도록 노출할 수 있다.</p>
<p>application.yml 추가</p>
<div class="gatsby-highlight" data-language="properties"><pre class="language-properties"><code class="language-properties"><span class="token key attr-name">management</span><span class="token punctuation">:</span>
<span class="token key attr-name">  endpoints</span><span class="token punctuation">:</span>
<span class="token key attr-name">   web</span><span class="token punctuation">:</span>
<span class="token key attr-name">    exposure</span><span class="token punctuation">:</span>
<span class="token key attr-name">      include</span><span class="token punctuation">:</span> <span class="token value attr-value">"*"</span></code></pre></div>
<p>localhost:8080/actuator/health 입력하면</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/86c74a7e71a9b9f93a2db518ce0cb2e0/9c0ca/img_2.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 84.375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsTAAALEwEAmpwYAAABa0lEQVR42p2U0XaDIBBE8/9f2KapUQkhiYIYRUWB6aLtafNW9JyRF73u7Kx7ML1Boxo45+GWTcvsEEJAwvXz8OPgCSQuV9y5RCstnmogjZgJuhtYfObghUCnZ4y9xUSKp/chHRjvgl2RHQWk8tCNR0Nq2wClApYlpAFjr3jBIHhLIBAEaDSgW2Cadlh2zoHlJW6xh9qR1QWDWTCSdlu+lhwsu0PVM1Q1oaknaArIGE/Q1FDojcuZ4VJWeHYATRGBSAPQ9YHGCek9vHFBwTzQKqrqOcK0IyZjU2bxFbhazuV3KIHOsKZs+p3A/CPD6Y2t6RoTMAwB4xhgLXZWWFxwehdg5YCq8qQAKTfFD/zD+R+g33rImVytdl1A3/9WGGcxCRhT5lRhkT1Q1wFab39IhCbsh1fLcTmwQq49jLCoCI6Wd/16+TEDO3NaDgusmWAHCzvScnB+x7Yhy4Jx5J93qshD1pviklBrhWnAL4z8NYLkKm3XAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <picture>
          <source
              srcset="/static/86c74a7e71a9b9f93a2db518ce0cb2e0/a59e9/img_2.webp 192w,
/static/86c74a7e71a9b9f93a2db518ce0cb2e0/0ca9f/img_2.webp 384w,
/static/86c74a7e71a9b9f93a2db518ce0cb2e0/dc9b9/img_2.webp 768w,
/static/86c74a7e71a9b9f93a2db518ce0cb2e0/9feb0/img_2.webp 1075w"
              sizes="(max-width: 768px) 100vw, 768px"
              type="image/webp"
            />
          <source
            srcset="/static/86c74a7e71a9b9f93a2db518ce0cb2e0/3b721/img_2.png 192w,
/static/86c74a7e71a9b9f93a2db518ce0cb2e0/66595/img_2.png 384w,
/static/86c74a7e71a9b9f93a2db518ce0cb2e0/fe486/img_2.png 768w,
/static/86c74a7e71a9b9f93a2db518ce0cb2e0/9c0ca/img_2.png 1075w"
            sizes="(max-width: 768px) 100vw, 768px"
            type="image/png"
          />
          <img
            class="gatsby-resp-image-image"
            src="/static/86c74a7e71a9b9f93a2db518ce0cb2e0/fe486/img_2.png"
            alt="img_2.png"
            title=""
            loading="lazy"
            decoding="async"
            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
          />
        </picture>
  </a>
    </span></p>
<p>스프링 actuator 가 제공하는 수 많은 기능을 확인할 수 있다.</p>
<h3 id="서버-phase-구성" style="position:relative;"><a href="#%EC%84%9C%EB%B2%84-phase-%EA%B5%AC%EC%84%B1" aria-label="서버 phase 구성 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>서버 phase 구성</h3>
<h4 id="phase-란" style="position:relative;"><a href="#phase-%EB%9E%80" aria-label="phase 란 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Phase 란?</h4>
<blockquote>
<p>개발 환경(Phase) 은 Application 이 동작하는 환경을 의미한다.</p>
</blockquote>
<p>대부분의 Framework 는 각각의 개발 환경마다 설정 값을 다르게
세팅할 수 있는 기능이 있다.</p>
<p>Spring Boot 의 경우 Profile 기능이 있다.</p>
<h4 id="개발-환경을-분리하는-이유" style="position:relative;"><a href="#%EA%B0%9C%EB%B0%9C-%ED%99%98%EA%B2%BD%EC%9D%84-%EB%B6%84%EB%A6%AC%ED%95%98%EB%8A%94-%EC%9D%B4%EC%9C%A0" aria-label="개발 환경을 분리하는 이유 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>개발 환경을 분리하는 이유?</h4>
<p>제품을 개발할 때 Application 을 바로 운영 환경에 배포하지 않는다.
개발하고 있는 Local 에서 Application 을 실행해보면서 디버깅이나
테스트를 진행하고, 실제 운영 환경과 비슷한 시스템이 갖춰진
Develop 환경이나 Beta , RC 환경에 순차적으로 배포하면서 테스트 과정을 거친다.</p>
<p>개발 환경은 회사나 팀에 따라 레벨이 조금씩 달라 질 수 있지만
보통 <code class="language-text">local</code> -<code class="language-text">develop</code> - <code class="language-text">beta</code> - <code class="language-text">stage</code> - <code class="language-text">production</code> 순으로 구성하는 것이 보통이다.</p>
<ul>
<li>local
<ul>
<li>개인이 개발하는 PC 작업 환경</li>
<li>직접 IDE 를 통해서 코드를 개발하고 이를 바로 실행시키면서 디버깅할 수 있는 환경이다.</li>
</ul>
</li>
<li>develop
<ul>
<li>실제 운영환경과 동일하게 구축한 환경</li>
<li>application 에 필요한 서비스들을 최대한 구성하기 때문에 최대한 운영환경과 비슷하게 테스트나 동작 확인을 할 수 있다.</li>
</ul>
</li>
<li>beta
<ul>
<li>develop 과 마찬가지로 실제 운영환경과 동일하게 구축된 환경</li>
<li>develop 환경과의 다른 점은 보통 약속된 배포 주기, 배포 버전 관리 하에 운영된다.</li>
<li>보통 서비스 출시 직전 Application 의 QA 를 Beta 환경에 배포하여 진행한다.</li>
</ul>
</li>
<li>stage
<ul>
<li>Database 와 같은 Persistent 계층이 Production 과 동일하게 구성된다.</li>
<li>Stage 환경에 Web Applicaiton 을 배포하면 실제 물리적인 서비스 Data를 접근하기 대문에 실제 재고에 대한 주문 테스트나 결제 테스트가 가능해진다.</li>
</ul>
</li>
<li>production
<ul>
<li>실제 서비스의 운영 환경</li>
<li>Production 환경에 서비스를 배포하면 보통 Application 의 Release Notes 가 생성된다.</li>
</ul>
</li>
</ul>
<h4 id="환경-분리" style="position:relative;"><a href="#%ED%99%98%EA%B2%BD-%EB%B6%84%EB%A6%AC" aria-label="환경 분리 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>환경 분리</h4>
<p>개발 환경에 따라 설정 값을 다르게 하여 로딩한다.</p>
<p>우선 3단계로 환경을 나눈다고 가정 하여 dev , stage , prod 로 파일을 생성하자</p>
<p>spring 은 프로필이라는 개념을 지원하여</p>
<p>propeties , yml 파일에 설정 값을 넣으면 해당 프로필을 사용한다고 판단한다.</p>
<p>나는 yml 을 사용하였다.</p>
<p>프로필 작성 규칙</p>
<p>application-{profile}.yml</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/84b29226f2d0dde35620808c3cc80ebb/adb12/img_3.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 58.333333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAABlklEQVR42pVT2XKDMAzkb9okHDanuTEmEJIm/d78GzNbyUw6nUyStg87yEZaVivh7DyBnSeR5g3KqkWS5YjTHJkqofKKzgWyooYiZHT2RYStG2CtW0HnxeN7T1wde+kKJIlC1U1ozAm9GdEPB+ynGV2/p+fxG6kqsNn5zwn5a64vKcnDu0/KuguaVhPhhE4PFPfQHPcjWm1IafVaIZNxK9M4UNFgi5quhxeEVsnPYo7vyR4SchK30uq9VcI+vm1cq5xxT/CSkC9YSUzmazMRRlSNtsO4qfoXIRcwoQgTGopG3Rnyj/0abNuMW6vPQPWLyxa5/tXhNfADQhyhNj3G6WRVdtQ+T7qiATGpzXsCer/IKAWpvDr9MIOhxwOmzzP2F1qPM+HjiOE0YzjOFM8w45r3CNoclvFwpnWbrw4zyzBFqGgPTYe0LVbUBZIyR1IR6hxRpmyezb8D2bXwzyCiZPVwu6NdlBJxTUVFDJlHEIQgXZ9CsSXS5v3q4TolAS8MkTalJZMqhshiBFGEsEyIkGLy+C9T/gKyVoBM+ZGgPAAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <picture>
          <source
              srcset="/static/84b29226f2d0dde35620808c3cc80ebb/a59e9/img_3.webp 192w,
/static/84b29226f2d0dde35620808c3cc80ebb/0ca9f/img_3.webp 384w,
/static/84b29226f2d0dde35620808c3cc80ebb/dc9b9/img_3.webp 768w,
/static/84b29226f2d0dde35620808c3cc80ebb/66318/img_3.webp 970w"
              sizes="(max-width: 768px) 100vw, 768px"
              type="image/webp"
            />
          <source
            srcset="/static/84b29226f2d0dde35620808c3cc80ebb/3b721/img_3.png 192w,
/static/84b29226f2d0dde35620808c3cc80ebb/66595/img_3.png 384w,
/static/84b29226f2d0dde35620808c3cc80ebb/fe486/img_3.png 768w,
/static/84b29226f2d0dde35620808c3cc80ebb/adb12/img_3.png 970w"
            sizes="(max-width: 768px) 100vw, 768px"
            type="image/png"
          />
          <img
            class="gatsby-resp-image-image"
            src="/static/84b29226f2d0dde35620808c3cc80ebb/fe486/img_3.png"
            alt="img_3.png"
            title=""
            loading="lazy"
            decoding="async"
            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
          />
        </picture>
  </a>
    </span></p>
<p>application.yml</p>
<div class="gatsby-highlight" data-language="properties"><pre class="language-properties"><code class="language-properties"><span class="token key attr-name">spring</span><span class="token punctuation">:</span>
<span class="token key attr-name"> profiles</span><span class="token punctuation">:</span>
<span class="token key attr-name">  active</span><span class="token punctuation">:</span> <span class="token value attr-value">dev</span></code></pre></div>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/e0e5f5576fe4be60c0d526bca729493a/550d9/img_4.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 42.1875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABSklEQVR42m2SXXKDMAyEcw7ABhL+wcY2pO30/vfISZjtSiSZPPRhR5Kx159kLtbWsIay/8t8qKDyj1pyW15hyvooq5usPS6m6ZEvHsW0IB+pWXKnubl1GIYZI9fmJcAvKyLzcfJYuMdzT9uN6Prp6LmvG+bHpegnZCEhixuyNVKS78jSDsPNjkaBtae+w4Zffp9dQHIRiSaFqYTyqOoGtrrRUGh4c+6D0kmupqzttcXCw2vY4XyE47qj6cQz/ejQSaRpVbeHjsHUJ2FBdKXjofwlrlm2vDCP25eaxnhX2pDu2PYfREYRLzuk9aYdacjkTfUky0gh5pbzFTIxO7XBr5tG5xPpo0bWB81QX9uTMGdbSiVxfRKy/VfLQhUTKTW+qWieNBdDqU9CNVzPObqTTgzlhUvOReYmLb/IxERo5aKmHSCPQemjyG/zB7zn6qYNlpvIAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <picture>
          <source
              srcset="/static/e0e5f5576fe4be60c0d526bca729493a/a59e9/img_4.webp 192w,
/static/e0e5f5576fe4be60c0d526bca729493a/0ca9f/img_4.webp 384w,
/static/e0e5f5576fe4be60c0d526bca729493a/dc9b9/img_4.webp 768w,
/static/e0e5f5576fe4be60c0d526bca729493a/e2c2f/img_4.webp 1152w,
/static/e0e5f5576fe4be60c0d526bca729493a/f3efb/img_4.webp 1536w,
/static/e0e5f5576fe4be60c0d526bca729493a/c6086/img_4.webp 2140w"
              sizes="(max-width: 768px) 100vw, 768px"
              type="image/webp"
            />
          <source
            srcset="/static/e0e5f5576fe4be60c0d526bca729493a/3b721/img_4.png 192w,
/static/e0e5f5576fe4be60c0d526bca729493a/66595/img_4.png 384w,
/static/e0e5f5576fe4be60c0d526bca729493a/fe486/img_4.png 768w,
/static/e0e5f5576fe4be60c0d526bca729493a/d2d74/img_4.png 1152w,
/static/e0e5f5576fe4be60c0d526bca729493a/e8464/img_4.png 1536w,
/static/e0e5f5576fe4be60c0d526bca729493a/550d9/img_4.png 2140w"
            sizes="(max-width: 768px) 100vw, 768px"
            type="image/png"
          />
          <img
            class="gatsby-resp-image-image"
            src="/static/e0e5f5576fe4be60c0d526bca729493a/fe486/img_4.png"
            alt="img_4.png"
            title=""
            loading="lazy"
            decoding="async"
            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
          />
        </picture>
  </a>
    </span></p>
<h2 id="step02-빌드-환경-구축" style="position:relative;"><a href="#step02-%EB%B9%8C%EB%93%9C-%ED%99%98%EA%B2%BD-%EA%B5%AC%EC%B6%95" aria-label="step02 빌드 환경 구축 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>STEP02 빌드 환경 구축</h2>
<p><code class="language-text">docker</code> or <code class="language-text">docker-compose</code> 등 컨테이너 기술을 활용해
이미지를 빌드, 배포해보자</p>
<h3 id="빌드란" style="position:relative;"><a href="#%EB%B9%8C%EB%93%9C%EB%9E%80" aria-label="빌드란 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>빌드란?</h3>
<blockquote>
<p>소스코드 파일을 실행가능한 소프트웨어 산출물로 만드는 일련의 과정</p>
</blockquote>
<p>빌드의 산출물</p>
<ul>
<li>jar
<ul>
<li>java 어플리케이션이 동작할 수 있도록 자바 프로젝트를 압축한 파일</li>
<li>Class (Java 리소스 , 속성 파일) , 라이브러리 파일을 포함함</li>
<li>JRE(Java Runtime Environment) 만 있어도 실행 가능함</li>
</ul>
</li>
<li>war
<ul>
<li>웹 애플리케이션을 압축하고 배포하는 데 사용되는 파일 형태</li>
<li>웹 관련 자원을 포함함 (JSP , Servlet , JAR , Class ,XML , HTML , Javascript)</li>
</ul>
</li>
</ul>
<h3 id="jar-vs-war" style="position:relative;"><a href="#jar-vs-war" aria-label="jar vs war permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>jar vs war</h3>
<p>스프링부트 는 내장 톰캣을 포함하고 있기 때문에 간단하게 JAR 배포만으로 실행이 가능하다.</p>
<p>스프링 부트에서 JSP를 지양하는데 JAR 에서 JSP를 사용할 수 없다.</p>
<p>JSP 를 사용하여 화면을 구성해야 하거나 or 외장 WAS를 이용할 계획이 아니라면
jar 를 사용하면 된다.</p>
<p>jar 파일은  java -jar 프로젝트네임.jar 명령어로 실행 한다.</p>
<h3 id="배포" style="position:relative;"><a href="#%EB%B0%B0%ED%8F%AC" aria-label="배포 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>배포</h3>
<blockquote>
<p>빌드의 결과물을 사용자가 접근할 수 있는 환경에 배치하는 것</p>
</blockquote>
<h2 id="도커" style="position:relative;"><a href="#%EB%8F%84%EC%BB%A4" aria-label="도커 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>도커</h2>
<blockquote>
<p>컨테이너 기반의 오픈소스 가상화 플랫폼</p>
</blockquote>
<ul>
<li>플랫폼에 상관없이 Application 을 실행할 수 있는 기술</li>
<li>컨테이너 기술로 컨테이너를 생성하고 관리하기 위한 도구이다.</li>
<li>소프트웨어 개발 에서 컨테이너는 표준화된 소프트웨어 유닛이다.</li>
<li>기본적으로 코드 패키지로, 코드를 실행하는 데 필요한 종속성과 도구가 포함되어 있다.</li>
</ul>
<h3 id="도커를-사용하는-이유는" style="position:relative;"><a href="#%EB%8F%84%EC%BB%A4%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%98%EB%8A%94-%EC%9D%B4%EC%9C%A0%EB%8A%94" aria-label="도커를 사용하는 이유는 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>도커를 사용하는 이유는?</h3>
<p>애플리케이션을 환경에 구애 받지 않고 실행할 수 있다는 장점 때문에</p>
<p>※
docker – help 를 사용하면 여러 가지 명령어를 볼 수 있다.</p>
<h3 id="도커-이미지" style="position:relative;"><a href="#%EB%8F%84%EC%BB%A4-%EC%9D%B4%EB%AF%B8%EC%A7%80" aria-label="도커 이미지 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>도커 이미지</h3>
<blockquote>
<p>서비스 운영에 필요한 서버 프로그램 , 소스코드 및 라이브러리, 컴파일된 실행 파일을 묶는 형태</p>
</blockquote>
<ul>
<li>하나의 이미지는 여러 컨테이너를 생성할 수 있고, 컨테이너가 삭제되더라도 이미지는 변하지 않고 그대로 남아 있다.</li>
<li>Dockerfile 이라는 파일로 이미지를 만든다. Dockerfile 에는 소스와 함께 의존성 패키지 등 사용했던 설정 파일을 버전 관리하기 쉽도록 명시 된다.</li>
</ul>
<h3 id="도커-컨테이너" style="position:relative;"><a href="#%EB%8F%84%EC%BB%A4-%EC%BB%A8%ED%85%8C%EC%9D%B4%EB%84%88" aria-label="도커 컨테이너 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>도커 컨테이너</h3>
<blockquote>
<p>이미지를 실행한 상태로, 응용프로그램의 종속성과 함께 응용프로그램 자체를 패키징 or 캡슐화하여 격리된 공간에서
프로세스를 동작시키는 기술이다.</p>
</blockquote>
<ul>
<li>docker ps : 실행 중인 모든 컨테이너를 보여준다.</li>
<li>docker ps -a : 중지된 컨테이너를 포함하여 과거 모든 컨테이너틀 보여준다.</li>
<li>docker ps –help : docker ps 에 사용 가능한 모든 구성 옵션을 볼 수 있다.</li>
<li>docker run : 이미지를 기반으로 새 컨테이너를 만든다.</li>
</ul>
<h3 id="dockerfile" style="position:relative;"><a href="#dockerfile" aria-label="dockerfile permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Dockerfile</h3>
<p><code class="language-text">docker build </code> 명령어를 통해서 Docker 가 Dockerfile 을 읽어서 자동으로
도커 이미지를 빌드한다.</p>
<ul>
<li>Dockerfile 은 DockerImage 를 생성하기 위한 스크립트(설정 파일) 이다.</li>
<li>Dockerfile 은 최상위 루트 프로젝트 경로에 위치한다. 파일 이름은 Dockerfile 이라고 저장해야 한다.</li>
<li>Dockerfile 에 정의한 순서대로 읽어서 Docker 데몬에 해당 명령어를 실행한다.</li>
<li><code class="language-text">FROM</code> 키워드로 시작해야 한다.</li>
</ul>
<h3 id="레이어-시스템" style="position:relative;"><a href="#%EB%A0%88%EC%9D%B4%EC%96%B4-%EC%8B%9C%EC%8A%A4%ED%85%9C" aria-label="레이어 시스템 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>레이어 시스템</h3>
<p>도커파일을 만들 때 레이어 시스템을 사용하는 데 명령어 당 한줄 씩 레이어라고 칭한다.
맨 처음 이미지 빌드하는 경우 모든 레이어가 다 호출되지만, 그 다음 부터는
변경된 것만 파악하여 빌드를 하게 되는데 이때 cache 메모리를 많이 잡아 먹게 된다.
이때 속도 개선을 하게 위해서는 변경되는 레이어를 아래에 두어야 한다.
변경된 것을 파악한 시점 부터 모두 재빌드 하게 된다.</p>
<p>예를 들어 1<del>5 레이어로 구성된 dockerfile 이 있다고 하고,
3번째 레이어에서 변경된 것이 파악이 되면 1</del>2 번째 까지는 다시 빌드하지 않고
Cache에 저장되어 있는 상태를 그대로 사용하고 3~끝까지는 다시 image 를 만든다.</p>
<h3 id="명령어" style="position:relative;"><a href="#%EB%AA%85%EB%A0%B9%EC%96%B4" aria-label="명령어 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>명령어</h3>
<h4 id="from" style="position:relative;"><a href="#from" aria-label="from permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code class="language-text">FROM</code></h4>
<p><a href="https://docs.docker.com/engine/reference/builder/#from" target="_blank" rel="nofollow">https://docs.docker.com/engine/reference/builder/#from</a></p>
<p>베이스 도커 이미지를 지정한다.</p>
<p>어떤 이미지를 기반으로 새로운 이미지를 생성할 것인지를 나타낸다.</p>
<p>보통 OS 나 프로그래밍 언어 이미지를 지정한다.</p>
<h4 id="label" style="position:relative;"><a href="#label" aria-label="label permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code class="language-text">LABEL</code></h4>
<p>이미지에 레이블을 추가하여 프로젝트별 이미지 구성, 라이센스 정보 기록, 자동화 정보 등
기타 여러가지 정보를 기록할 수 있다. 각 레이블은 LABEL 로 시작하고,
하나 이상의 키-값 쌍으로 추가하면 된다.</p>
<div class="gatsby-highlight" data-language="dockerfile"><pre class="language-dockerfile"><code class="language-dockerfile"><span class="token comment"># Set one or more individual labels</span>
<span class="token instruction"><span class="token keyword">LABEL</span> com.example.version=<span class="token string">"0.0.1-beta"</span></span>
<span class="token instruction"><span class="token keyword">LABEL</span> vendor1=<span class="token string">"ACME Incorporated"</span></span>
<span class="token instruction"><span class="token keyword">LABEL</span> vendor2=ZENITH\ Incorporated</span>
<span class="token instruction"><span class="token keyword">LABEL</span> com.example.release-date=<span class="token string">"2023-12-05"</span></span>
<span class="token instruction"><span class="token keyword">LABEL</span> com.example.version.is-production=<span class="token string">""</span></span></code></pre></div>
<h4 id="workdir" style="position:relative;"><a href="#workdir" aria-label="workdir permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code class="language-text">WORKDIR</code></h4>
<p>현재 작업 폴더를 지정한다. 리눅스 cd 커맨드를 떠올리면 된다.</p>
<p>명확성 그리고 신뢰성을 위해 WORKDIR 은 항상 절대 경로를 사용해야 한다.</p>
<h4 id="arg" style="position:relative;"><a href="#arg" aria-label="arg permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code class="language-text">ARG</code></h4>
<p>docker build 커맨드로 docker image 를 빌드할 때 설정할 수 있는 옵션들을
지정해 준다.</p>
<h4 id="run" style="position:relative;"><a href="#run" aria-label="run permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code class="language-text">RUN</code></h4>
<p>이미지 생성 시 특정 명령어를 실행한다.</p>
<p>길거나 복잡한 RUN 구문은 백슬래시를 활용하여 여러 줄로 분할하는 것이 Dockerfile 관리에 좋다.</p>
<p>RUN 에서 자주 사용되는 명령어는 <code class="language-text">apt-get</code> 이다.  <code class="language-text">RUN apt-get</code> 은
패키지를 설치하는 명령어이기 때문에 몇가지를 고려 해야 한다.</p>
<div class="gatsby-highlight" data-language="dockerfile"><pre class="language-dockerfile"><code class="language-dockerfile"><span class="token instruction"><span class="token keyword">RUN</span> apt-get update &amp;&amp; apt-get install -y <span class="token operator">\</span>
    package-bar <span class="token operator">\</span>
    package-baz <span class="token operator">\</span>
    package-foo  <span class="token operator">\</span>
    &amp;&amp; rm -rf /var/lib/apt/lists/*</span></code></pre></div>
<h4 id="env" style="position:relative;"><a href="#env" aria-label="env permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code class="language-text">ENV</code></h4>
<p>환경 변수를 지정할 때 사용된다.</p>
<h4 id="add" style="position:relative;"><a href="#add" aria-label="add permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code class="language-text">ADD</code></h4>
<p>이미지에 호스트에 존재하는 파일을 더한다.
(build 명령 중간에 호스트의 파일 시스템으로부터 파일을 가져온다.)</p>
<p>파일과 디렉토리를 호스트에서 지정한 도커 이미지 디렉토리 안으로 복사 한다.
만약 디렉토리가 없다면 새로 생성해서 복사한다.</p>
<p>디렉토리를 ADD 하려면 끝이 ”/“로 끝나야 한다.</p>
<h4 id="copy" style="position:relative;"><a href="#copy" aria-label="copy permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code class="language-text">COPY</code></h4>
<p>ADD 와 기본적으로 동일하나 URL 지정이 불가하며 압축파일을 자동으로
풀어주지 않는다.</p>
<h4 id="cmd" style="position:relative;"><a href="#cmd" aria-label="cmd permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code class="language-text">CMD</code></h4>
<p>CMD 는 나열되어 있는 인수와 함께, 이미지에 포함되어 있는
소프트웨어를 실행하는 데 사용된다. CMD는 거의 대부분 항상</p>
<p><code class="language-text">["실행 파일", "param1" , "param2"]</code> 와 같은 형태로 사용되어야 한다.</p>
<h4 id="expose" style="position:relative;"><a href="#expose" aria-label="expose permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code class="language-text">EXPOSE</code></h4>
<p>‘EXPOSE’ 는 컨테이너가 연결을 받는 포트를 나타낸다.
따라서 애플리케이션에서 공통으로 사용되는 기존 포트를 사용해야 한다.</p>
<h3 id="실습" style="position:relative;"><a href="#%EC%8B%A4%EC%8A%B5" aria-label="실습 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>실습</h3>
<p>Dockerfile 생성</p>
<div class="gatsby-highlight" data-language="dockerfile"><pre class="language-dockerfile"><code class="language-dockerfile"><span class="token instruction"><span class="token keyword">FROM</span> openjdk:17</span>

<span class="token instruction"><span class="token keyword">RUN</span> mkdir /app</span>

<span class="token instruction"><span class="token keyword">COPY</span> build/libs/hanghae-plus-0.0.1-SNAPSHOT.jar  /app/app.jar</span>

<span class="token instruction"><span class="token keyword">WORKDIR</span> /app</span>


<span class="token instruction"><span class="token keyword">CMD</span> [<span class="token string">"java"</span>, <span class="token string">"-jar"</span>, <span class="token string">"app.jar"</span>]</span></code></pre></div>
<p>빌드 하기</p>
<p>gradle 을 사용하기 때문에</p>
<p>프로젝트 루트 경로에 ./gradle build 명령어 입력</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/33441647a959270e2621166164c4da7d/d3b48/img_5.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 82.8125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsTAAALEwEAmpwYAAACSUlEQVR42p2S23KbMBRF+ZDGmKsBcxMCAeLm4Jg0SadJ2pn8/5/sHslpMr40D31Yc0YILe0jyRjaCo93I34+dHg8dJgkR1smkFVGpOhETmT6W5WHH5RZgIZvwVkGc+3AtBysqRqiSDC2BZraRpn7YEkInoYoNNFH5YrsE/VdsJiEOQld3Jg2Qn8DQ+28dAx3jQdBO1+jusJ5whUJXceDMXAbP4SPt9bGvlthV1oYC/sSfjoemI3byiVpjBUlVELf9WH0NHkrAhykj0Nv4tCtMXGHFp0ynNEzB7vKOxEG3kYJHeyrDZ47D4Ow0dJY/oV/0vOvhKplC56rWqbJiVLeiwJPMsIveYOXZo3n+shLY+K1NfHQrrET1hVhgrXlE55GtzxTy4v08JsWvgkSZfY7Dp5zG6/EQoL+PGHpQgqGcMvg+FukcUZCZumWHzsXU7NCX9noqfVjtdCVdAyq5eLfl/JtZdNN27p1o2EhxibHsquwkwGG2iU8zUhPSRY+mnyDOg9OEPRsJI9QFhlulNC09fMxUlZhmhf044wk4wjjHFHMPknyq4TUXpwVyHJOQkvfshbGKUMjR3TDjLKqsVU/pvkF2+SUiP5LSHYh1BO0U93fU9LvenEQpXTQR4JtQuNEC86lKoyaOxHqCd0Gxzjfo5UDSiFRtwMlH9D2EySRUpJzqRJ6m+hSeCQDrxrs5gNu9wtmoqpbkrcQTae7uCb0vxKqlM30RMIDiRedrO1GXRkX/yFMOcruAfPdgnHa66rSZazUCa+d4bnwD4E9EJiru7QuAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <picture>
          <source
              srcset="/static/33441647a959270e2621166164c4da7d/a59e9/img_5.webp 192w,
/static/33441647a959270e2621166164c4da7d/0ca9f/img_5.webp 384w,
/static/33441647a959270e2621166164c4da7d/dc9b9/img_5.webp 768w,
/static/33441647a959270e2621166164c4da7d/e2c2f/img_5.webp 1152w,
/static/33441647a959270e2621166164c4da7d/f0eed/img_5.webp 1340w"
              sizes="(max-width: 768px) 100vw, 768px"
              type="image/webp"
            />
          <source
            srcset="/static/33441647a959270e2621166164c4da7d/3b721/img_5.png 192w,
/static/33441647a959270e2621166164c4da7d/66595/img_5.png 384w,
/static/33441647a959270e2621166164c4da7d/fe486/img_5.png 768w,
/static/33441647a959270e2621166164c4da7d/d2d74/img_5.png 1152w,
/static/33441647a959270e2621166164c4da7d/d3b48/img_5.png 1340w"
            sizes="(max-width: 768px) 100vw, 768px"
            type="image/png"
          />
          <img
            class="gatsby-resp-image-image"
            src="/static/33441647a959270e2621166164c4da7d/fe486/img_5.png"
            alt="img_5.png"
            title=""
            loading="lazy"
            decoding="async"
            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
          />
        </picture>
  </a>
    </span></p>
<p>jar 파일이 build/libs 경로에 생성된다.</p>
<h4 id="도커-이미지-빌드" style="position:relative;"><a href="#%EB%8F%84%EC%BB%A4-%EC%9D%B4%EB%AF%B8%EC%A7%80-%EB%B9%8C%EB%93%9C" aria-label="도커 이미지 빌드 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>도커 이미지 빌드</h4>
<p>docker build -t [dockerHub ID]/[이미지명]:[태그명] [Dockerfile 위치]</p>
<ul>
<li>docker build -t hanghae-plus .</li>
<li>hanghae-plus 라는 이름으로 도커 이미지를 생성한다.</li>
<li>마지막 . 은 현 위치라는 뜻이다.</li>
</ul>
<h4 id="이미지-실행" style="position:relative;"><a href="#%EC%9D%B4%EB%AF%B8%EC%A7%80-%EC%8B%A4%ED%96%89" aria-label="이미지 실행 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>이미지 실행</h4>
<p>이미지를 실행하는 명령어는 docker run - 이미지 이름이다.</p>
<p>docker run hanghae-plus</p>
<p>나중에 배포할 서버에서 도커 이미지를 가져오고 실행하면 될 것 같다.</p>
<h3 id="github-actions" style="position:relative;"><a href="#github-actions" aria-label="github actions permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>GitHub Actions</h3>
<blockquote>
<p>깃허브에서 제공하는 CI 와 CD 를 위한 서비스</p>
</blockquote>
<h4 id="ci-continuous-integration" style="position:relative;"><a href="#ci-continuous-integration" aria-label="ci continuous integration permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>CI (Continuous Integration)</h4>
<blockquote>
<p>지속적 통합이라는 뜻으로 개발을 진행하면서도 품질을 관리할 수 있도록</p>
</blockquote>
<p>여러 명이 하나의 코드에 대해서 수정을 진행해도 지속적으로 통합하면서 관리할 수 있음을 의미한다.</p>
<p>마틴 파울러가 제시하는 CI의 4가지 규칙</p>
<ul>
<li>모든 소스코드가 살아 있고 누구든 현재의 소스에 접근할 수 있는 단일 지점을 유지할 것</li>
<li>빌드 프로세스를 자동화해서 누구든 소스로부터 시스템을 빌드할 수 있게 할 것</li>
<li>테스팅을 자동화해서 언제든지 시스템에 대한 건전한 테스트 수트를 실행할 수 있게 할 것</li>
<li>누구든 현재 실행 파일을 얻으면 지금까지 가장 완전한 실행 파일을 얻었다는 확신을 하게 할 것</li>
</ul>
<h4 id="cd-continuous-deployment" style="position:relative;"><a href="#cd-continuous-deployment" aria-label="cd continuous deployment permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>CD (Continuous Deployment)</h4>
<blockquote>
<p>지속적 배포라는 뜻으로 빌드의 결과물을 프로덕션으로 릴리스하는 작업을 자동화하는 것을
의미한다.</p>
</blockquote>
<p>GitHub Actions 를 사용하면 자동으로 코드 저장소에서 어떤 이벤트를
발생했을 때 특정 작업이 일어나게 하거나 주기적으로 어떤 작업들을 반복해서
실행시킬 수도 있다.</p>
<h4 id="핵심-개념" style="position:relative;"><a href="#%ED%95%B5%EC%8B%AC-%EA%B0%9C%EB%85%90" aria-label="핵심 개념 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>핵심 개념</h4>
<p><code class="language-text">Workflows</code></p>
<ul>
<li>자동화 해놓은 작업 과정</li>
<li>워크플로우는 코드 저장소 내에서 .github/workflows 폴더 아래 yml 파일로 설정한다.</li>
<li>하나의 코드 저장소에 여러 개의 워크 플로우. 즉 여러 개의 yml 파일을 생성할 수 있다</li>
<li>on 속성을 통해서 해당 워크플로우가 언제 실행 되는지를 정의한다,</li>
</ul>
<p>예시 1) - main 브랜치에 push 이벤트가 발생할 때 마다 워크플로우 실행</p>
<div class="gatsby-highlight" data-language="properties"><pre class="language-properties"><code class="language-properties"><span class="token key attr-name">on</span><span class="token punctuation">:</span>
<span class="token key attr-name">  push</span><span class="token punctuation">:</span>
<span class="token key attr-name">    branches</span><span class="token punctuation">:</span> <span class="token value attr-value">[main]</span>

<span class="token key attr-name">jobs</span><span class="token punctuation">:</span>
<span class="token comment">  # ...(생략)...</span></code></pre></div>
<p>예시 2) - 매일 자정에 워크플로우 실행</p>
<div class="gatsby-highlight" data-language="properties"><pre class="language-properties"><code class="language-properties"><span class="token key attr-name">on</span><span class="token punctuation">:</span>
<span class="token key attr-name">  schedule</span><span class="token punctuation">:</span>
<span class="token key attr-name">    -</span> <span class="token value attr-value">cron: "0 0 * * *"</span>

<span class="token key attr-name">jobs</span><span class="token punctuation">:</span>
<span class="token comment">  # ...(생략)...</span></code></pre></div>
<p><code class="language-text">Jobs</code></p>
<ul>
<li>GitHub Actions 에서 작업(Job) 이란 독립된 가상 머신 또는 컨테이너에서 돌아가는 하나의 처리 단위</li>
<li>하나의 워크플로우는 여러 개의 작업으로 구성되며 적어도 하나의 작업은 있어야 한다.</li>
<li>모든 작업은 기본적으로 동시에 실행되며 필요 시 작업 간에 의존 관계를 설정하여 작업이 실행되는 순서를 제어할 수도 있다.</li>
<li>작업은 워크프로우 yml 파일 내에서 jobs 속성을 사용하며 작업 식별자와 작업 세부 내용 간의 맵핑 형태로 명시가 된다.</li>
</ul>
<p>예시 ) job1, job2, job3 이라는 작업 ID 를 가진 3개의 작업</p>
<div class="gatsby-highlight" data-language="properties"><pre class="language-properties"><code class="language-properties"><span class="token key attr-name">jobs</span><span class="token punctuation">:</span>
<span class="token key attr-name">  job1</span><span class="token punctuation">:</span>
<span class="token comment">    # job1에 대한 세부 내용</span>
<span class="token key attr-name">  job2</span><span class="token punctuation">:</span>
<span class="token comment">    # job2에 대한 세부 내용</span>
<span class="token key attr-name">  job3</span><span class="token punctuation">:</span>
<span class="token comment">    # job3에 대한 세부 내용</span></code></pre></div>
<ul>
<li>작업의 세부 내용으로 여러 가지 내용을 명시할 수 있다. runs-on 명령어는 필수로 들어가야 한다.</li>
<li>runs-on 은 실행 환경을 지정하는 명령어다.</li>
</ul>
<p>예시 ) 많이 사용되는 우분투의 최신 실행 환경에서 해당 작업 실행</p>
<div class="gatsby-highlight" data-language="properties"><pre class="language-properties"><code class="language-properties"><span class="token key attr-name">jobs</span><span class="token punctuation">:</span>
<span class="token key attr-name">  job1</span><span class="token punctuation">:</span>
<span class="token key attr-name">    runs-on</span><span class="token punctuation">:</span> <span class="token value attr-value">ubuntu-latest</span>
<span class="token key attr-name">    steps</span><span class="token punctuation">:</span>
<span class="token comment">      # ...(생략)...</span></code></pre></div>
<p><code class="language-text">Steps</code></p>
<ul>
<li>단순한 작업이 아닌 이상 하나의 작업은 여러 단계의 명령을 순차적으로 실행한다.</li>
<li>GitHub Actions 에서는 각 작업이 하나 이상의 단계로 모델링 된다.</li>
<li>작업 단계는 단순한 command 나 script 가 될 수도 있고 action 이라는 복접한 명령일 수도 있다.</li>
<li>command 나 script 를 실행할 때는 run 속성을 사용하며, action 을 사용할 때는 uses 속성을 사용한다.</li>
<li>워크플로우 파일내에서 작업 단계를 명시해줄 때는 yml 문법에서 시퀀스 타입을 사용하기 때문에 각 단계 앞에서 반드시 ’-’ 를 붙여줘야 한다.</li>
</ul>
<p><code class="language-text">Actions</code></p>
<ul>
<li>GitHub Actions 에서 빈번하게 필요한 반복 단계를 재사용하기 용이하도록 제공되는 일종의 작업 공유 매커니즘</li>
</ul>
<h4 id="실습-1" style="position:relative;"><a href="#%EC%8B%A4%EC%8A%B5-1" aria-label="실습 1 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>실습</h4>
<p>최상위 루트에 .github / workflow / [이름].yml 파일 생성 하면 된다.</p>
<p>근데 이 작업을 직접 안하고</p>
<p>github repository 에서 Actions 탭에 들어가서</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/645f49de0aed998f0c502b9ef6bf0599/671b0/img_6.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 51.041666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABMklEQVR42n1S2ZKDMAzj/7+zL12ukvtEK6fAwNJuZjQhJpZkO90wvdCPM+ZFY1EWRltYH4h4wLj32YV0gcSU8dDWH/e6nAtyzkjcU+RFpaC0htaGEBHVEEJEXVfUesLlXBs6/FkhBPTDQIz46Qeix8CztQ65vMXPWEl6XjfCwiTNZOsTfLwnyJLYPfqFMNHh9HhAP59wy4LCcsrmTPaGVYRri8lqpW/CN0LpwzzN8M6jMllceg5pYAuU0jDGwpPIGINpfiEn/k8JiQIfCaUcRwJRlO/EBIGlwLrFaskIMbZBtRwZyOb2o0O1qDZh6yyKNJ+EipOWEts06dxRQO7JEMVd/uZQEkaWYp2jM5ZCJ5FYNkJxm3OEZsl7LPC5pf8ceu+PJq9bw0utl7bs724fyu7wF7piEZKswbeEAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <picture>
          <source
              srcset="/static/645f49de0aed998f0c502b9ef6bf0599/a59e9/img_6.webp 192w,
/static/645f49de0aed998f0c502b9ef6bf0599/0ca9f/img_6.webp 384w,
/static/645f49de0aed998f0c502b9ef6bf0599/dc9b9/img_6.webp 768w,
/static/645f49de0aed998f0c502b9ef6bf0599/e2c2f/img_6.webp 1152w,
/static/645f49de0aed998f0c502b9ef6bf0599/f3efb/img_6.webp 1536w,
/static/645f49de0aed998f0c502b9ef6bf0599/e7e3c/img_6.webp 1627w"
              sizes="(max-width: 768px) 100vw, 768px"
              type="image/webp"
            />
          <source
            srcset="/static/645f49de0aed998f0c502b9ef6bf0599/3b721/img_6.png 192w,
/static/645f49de0aed998f0c502b9ef6bf0599/66595/img_6.png 384w,
/static/645f49de0aed998f0c502b9ef6bf0599/fe486/img_6.png 768w,
/static/645f49de0aed998f0c502b9ef6bf0599/d2d74/img_6.png 1152w,
/static/645f49de0aed998f0c502b9ef6bf0599/e8464/img_6.png 1536w,
/static/645f49de0aed998f0c502b9ef6bf0599/671b0/img_6.png 1627w"
            sizes="(max-width: 768px) 100vw, 768px"
            type="image/png"
          />
          <img
            class="gatsby-resp-image-image"
            src="/static/645f49de0aed998f0c502b9ef6bf0599/fe486/img_6.png"
            alt="img_6.png"
            title=""
            loading="lazy"
            decoding="async"
            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
          />
        </picture>
  </a>
    </span></p>
<p>여기서 선택하여 생성할 수 있다.</p>
<p>Docker 를 사용하기 때문에 Docker Image 로 만들었다.</p>
<p>생성된 yml 파일은 다음과 같다</p>
<div class="gatsby-highlight" data-language="properties"><pre class="language-properties"><code class="language-properties"><span class="token key attr-name">name</span><span class="token punctuation">:</span> <span class="token value attr-value">Docker Image CI</span>

<span class="token key attr-name">on</span><span class="token punctuation">:</span>
<span class="token key attr-name">  push</span><span class="token punctuation">:</span>
<span class="token key attr-name">    branches</span><span class="token punctuation">:</span> <span class="token value attr-value">[ "master" ]</span>
<span class="token key attr-name">  pull_request</span><span class="token punctuation">:</span>
<span class="token key attr-name">    branches</span><span class="token punctuation">:</span> <span class="token value attr-value">[ "master" ]</span>

<span class="token key attr-name">jobs</span><span class="token punctuation">:</span>

<span class="token key attr-name">  build</span><span class="token punctuation">:</span>

<span class="token key attr-name">    runs-on</span><span class="token punctuation">:</span> <span class="token value attr-value">ubuntu-latest</span>

<span class="token key attr-name">    steps</span><span class="token punctuation">:</span>
<span class="token key attr-name">    -</span> <span class="token value attr-value">uses: actions/checkout@v3</span>
<span class="token key attr-name">    -</span> <span class="token value attr-value">name: Build the Docker image</span>
<span class="token key attr-name">      run</span><span class="token punctuation">:</span> <span class="token value attr-value">docker build . --file Dockerfile --tag my-image-name:$(date +%s)</span>
</code></pre></div>
<p>그리고 아래 과정을 겪으며  yml 최종 변경 하였다.</p>
<ul>
<li>build 과정 에서 경로 관련 에러가 발생 하여  ./gradlw build 명령어 추가</li>
<li>access denied 에러가 발생 하여  chomd +x gralew 추가</li>
<li>버전 관련 에러가 발생 하여 actions/set-up java 명령어를 추가</li>
</ul>
<div class="gatsby-highlight" data-language="properties"><pre class="language-properties"><code class="language-properties"><span class="token key attr-name">name</span><span class="token punctuation">:</span> <span class="token value attr-value">hanghae-plus-actions</span>

<span class="token key attr-name">on</span><span class="token punctuation">:</span>
<span class="token key attr-name">  push</span><span class="token punctuation">:</span>
<span class="token key attr-name">    branches</span><span class="token punctuation">:</span> <span class="token value attr-value">[ "master" ]</span>
<span class="token key attr-name">  pull_request</span><span class="token punctuation">:</span>
<span class="token key attr-name">    branches</span><span class="token punctuation">:</span> <span class="token value attr-value">[ "master" ]</span>

<span class="token key attr-name">jobs</span><span class="token punctuation">:</span>
<span class="token key attr-name">  build</span><span class="token punctuation">:</span>
<span class="token key attr-name">    runs-on</span><span class="token punctuation">:</span> <span class="token value attr-value">ubuntu-latest</span>

<span class="token key attr-name">    steps</span><span class="token punctuation">:</span>
<span class="token key attr-name">    -</span> <span class="token value attr-value">uses: actions/checkout@v3</span>
<span class="token key attr-name">    -</span> <span class="token value attr-value">name: Set up JDK 17</span>
<span class="token key attr-name">      uses</span><span class="token punctuation">:</span> <span class="token value attr-value">actions/setup-java@v1</span>
<span class="token key attr-name">      with</span><span class="token punctuation">:</span>
<span class="token key attr-name">          java-version</span><span class="token punctuation">:</span> <span class="token value attr-value">17</span>
<span class="token key attr-name">    -</span> <span class="token value attr-value">name: Grant execute permission for gradlew</span>
<span class="token key attr-name">      run</span><span class="token punctuation">:</span> <span class="token value attr-value">chmod +x gradlew</span>
<span class="token key attr-name">    -</span> <span class="token value attr-value">name: Build with Gradle</span>
<span class="token key attr-name">      run</span><span class="token punctuation">:</span> <span class="token value attr-value">./gradlew build</span>
<span class="token key attr-name">    -</span> <span class="token value attr-value">name: Build the Docker image</span>
<span class="token key attr-name">      run</span><span class="token punctuation">:</span> <span class="token value attr-value">docker build -t hanghae-plus .</span></code></pre></div>
<p>그리고 드디어 빌드에 성공 하였다!!</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/ac7b361e6bebe7a7963e36daf0d1a59e/d234e/img_7.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 54.166666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABLklEQVR42qVS27KDMAj0/7+11VwaA7nIWbBxqrVPhxkmwSHL7uKUcxbnvORM0nqXX7Hd1FyKELO01q3etk0m4iKLD5JWkow7oYlLxXnO6zftXTNLJpzEkkCo1iZTZpLH/DSWC9IBfJ/apIOxJSYn7lCw2X1krVVeaZWCAe3dO1FlMHTiAeS8lxCjgSn9z0hFQS6y0aNWVfSPeqpE4ufZ2M3LIvO8GHiML2SUlJINMEAg6qORHd6tazZmVivDhgnu8QSYkwfOEKLwRbISo7Z9LUYHDMCDYcPj6NW/XTbBYPXkTvLlkwFlKBy9B2BQMDCLYZeogEPGyFT25Zwkd5W8Hp6/JWeTvPjdwxDC/l9dGfL3Um4ld109mL3ATDesEsbWPoNvPFQAtegkWW6a/hN/ZDhhm8KGUtkAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <picture>
          <source
              srcset="/static/ac7b361e6bebe7a7963e36daf0d1a59e/a59e9/img_7.webp 192w,
/static/ac7b361e6bebe7a7963e36daf0d1a59e/0ca9f/img_7.webp 384w,
/static/ac7b361e6bebe7a7963e36daf0d1a59e/dc9b9/img_7.webp 768w,
/static/ac7b361e6bebe7a7963e36daf0d1a59e/e2c2f/img_7.webp 1152w,
/static/ac7b361e6bebe7a7963e36daf0d1a59e/640c8/img_7.webp 1378w"
              sizes="(max-width: 768px) 100vw, 768px"
              type="image/webp"
            />
          <source
            srcset="/static/ac7b361e6bebe7a7963e36daf0d1a59e/3b721/img_7.png 192w,
/static/ac7b361e6bebe7a7963e36daf0d1a59e/66595/img_7.png 384w,
/static/ac7b361e6bebe7a7963e36daf0d1a59e/fe486/img_7.png 768w,
/static/ac7b361e6bebe7a7963e36daf0d1a59e/d2d74/img_7.png 1152w,
/static/ac7b361e6bebe7a7963e36daf0d1a59e/d234e/img_7.png 1378w"
            sizes="(max-width: 768px) 100vw, 768px"
            type="image/png"
          />
          <img
            class="gatsby-resp-image-image"
            src="/static/ac7b361e6bebe7a7963e36daf0d1a59e/fe486/img_7.png"
            alt="img_7.png"
            title=""
            loading="lazy"
            decoding="async"
            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
          />
        </picture>
  </a>
    </span></p>
<h2 id="step03-배포-환경-구축" style="position:relative;"><a href="#step03-%EB%B0%B0%ED%8F%AC-%ED%99%98%EA%B2%BD-%EA%B5%AC%EC%B6%95" aria-label="step03 배포 환경 구축 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>STEP03 배포 환경 구축</h2>
<h3 id="ecr" style="position:relative;"><a href="#ecr" aria-label="ecr permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ECR</h3>
<p>AWS ECR 이란?</p>
<blockquote>
<p>AWS 에서 제공하는 Docker Hub 와 비슷한 개념으로, Amazon Elastic Container
Registry 의 약자로 안전하고 확장 가능한 신뢰할 수 있는 AWS 관리형 컨테이너
이미지 레지스트리 서비스</p>
</blockquote>
<ul>
<li>ECR 은 이미지를 가용성과 확장성이 뛰어난 아키텍처에 호스팅하여 사용자는 애플리케이션을 위한 컨테이너를 안정적으로 배포할 수 있다.</li>
<li>ECR를 사용함으로써 이미지 리포지토리를 직ㅈ버 구축하고 관리할 필요가 없습니다.</li>
</ul>
<p>ECR 을  사용하기 전 IAM 계정을 만들자</p>
<h3 id="iam" style="position:relative;"><a href="#iam" aria-label="iam permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>IAM</h3>
<p>IAM (AWS Identity and Access Management)  이란?</p>
<blockquote>
<p>AWS 리소스에 대한 액세스를 안전하게 제어할 수 있는 웹 서비스이다.
IAM을 사용하여 리소스를 사용하도록 인증 및 권한 부여된 대상을 제어한다.</p>
</blockquote>
<p>IAM 의 기능을 정리하자면 누가 , 무엇을 , 어떻게 할 것인지에 대해 인증과 인가를
제어 하는 서비스이다.</p>
<p>어떤 유저가 어느 AWS 서비스에 어떠한 요청을 보내면서 인증알 위한 유저의 자격 증명도
함께 보낸다.
AWS 서비스에서는 해당 요청을 처리하기 전에 우선 자격 증명을 IAM 에 보낸다.
그리고 IAM 에서는 해당 자격 증명을 보고 해당 유저가 올바른 유저인지, 유저가
올바르다면 해당 서비스와 서비스의 기능을 이용해도 되는지 등을 판별한 뒤
문제가 없다면 서비스 이용을 허용한다.</p>
<p>사용자 IAM 생성하기</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/afc420a8d54048efb265499baafaa36d/4b033/img_8.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 42.708333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABD0lEQVR42o2S626DMAyFef8H2FvtV/9va1XuGhDIjXA5s92GBWmVhvQpycE+sQ3Z571EXjAVPr6uuN1zlHWDsqqfNCh4Ja1q2jN/aFndK2hjMChFpgWatoUaRzkzcT9OI4w1B9ZaWGdPGpN9dz0FT5i0Rtd38N5j33ds2ybrsiyY5/nQIqxxbKoxGVfAhgJVEkKQ4IhzThJT7aXuZ2TRjNsq6xZ+DmIa4URD7cVzTOaONJFqji44DJmW5jlpIyb2CZvxZUZm5iTJUzLPnc+8TzkMJ0INA4x5GMaWYltRCzRTnuu6rrL+ErCEpEK+sR/4i1sJTh/+IOn+JfT+1PKjUi3z+S/8Ow3aQ+UXjO9v+AEE3repfTaq1QAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <picture>
          <source
              srcset="/static/afc420a8d54048efb265499baafaa36d/a59e9/img_8.webp 192w,
/static/afc420a8d54048efb265499baafaa36d/0ca9f/img_8.webp 384w,
/static/afc420a8d54048efb265499baafaa36d/dc9b9/img_8.webp 768w,
/static/afc420a8d54048efb265499baafaa36d/e2c2f/img_8.webp 1152w,
/static/afc420a8d54048efb265499baafaa36d/f3efb/img_8.webp 1536w,
/static/afc420a8d54048efb265499baafaa36d/c25ec/img_8.webp 1797w"
              sizes="(max-width: 768px) 100vw, 768px"
              type="image/webp"
            />
          <source
            srcset="/static/afc420a8d54048efb265499baafaa36d/3b721/img_8.png 192w,
/static/afc420a8d54048efb265499baafaa36d/66595/img_8.png 384w,
/static/afc420a8d54048efb265499baafaa36d/fe486/img_8.png 768w,
/static/afc420a8d54048efb265499baafaa36d/d2d74/img_8.png 1152w,
/static/afc420a8d54048efb265499baafaa36d/e8464/img_8.png 1536w,
/static/afc420a8d54048efb265499baafaa36d/4b033/img_8.png 1797w"
            sizes="(max-width: 768px) 100vw, 768px"
            type="image/png"
          />
          <img
            class="gatsby-resp-image-image"
            src="/static/afc420a8d54048efb265499baafaa36d/fe486/img_8.png"
            alt="img_8.png"
            title=""
            loading="lazy"
            decoding="async"
            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
          />
        </picture>
  </a>
    </span></p>
<p>ACCESS_KEY , SECRET_KEY 발급</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/d94a9b8f379d2244f60862c22c3cf8bf/d539b/img_9.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 42.708333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABFUlEQVR42pVSW26EMAzk/ufpWdqPfvUlAmwS8gACiZiOs7ttV6LqFmlkGztjj5NGaYuPk8WgDV7eXtG2Cm3Xw4UIH8K/0dhxRAgeIUaoroMxtvrTPGMmxC7Lcvanqfq/QWqb0TlOc2Y3o8PExLquJFiQUqqF0tSxycy4lIKS8yGkvk5Yx+UBrRRs22IW0m2rSCQPwwlOddUma+u/I8i55qf+kcUD9+e9/yKTrolSNhZnYmO8MXeE5UookmVvMU7ougFaaxiSO64jMCek+77jr2/L6/eEQuh9gKK0vh/qLadcMK0E91lKvoMw30qOvMX5clvihws8ySU+gqzHONr2EfH54ZbQMXnFve9OXslIZU6/w6snfAI4zLdPeSSJiQAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <picture>
          <source
              srcset="/static/d94a9b8f379d2244f60862c22c3cf8bf/a59e9/img_9.webp 192w,
/static/d94a9b8f379d2244f60862c22c3cf8bf/0ca9f/img_9.webp 384w,
/static/d94a9b8f379d2244f60862c22c3cf8bf/dc9b9/img_9.webp 768w,
/static/d94a9b8f379d2244f60862c22c3cf8bf/e2c2f/img_9.webp 1152w,
/static/d94a9b8f379d2244f60862c22c3cf8bf/db0d4/img_9.webp 1487w"
              sizes="(max-width: 768px) 100vw, 768px"
              type="image/webp"
            />
          <source
            srcset="/static/d94a9b8f379d2244f60862c22c3cf8bf/3b721/img_9.png 192w,
/static/d94a9b8f379d2244f60862c22c3cf8bf/66595/img_9.png 384w,
/static/d94a9b8f379d2244f60862c22c3cf8bf/fe486/img_9.png 768w,
/static/d94a9b8f379d2244f60862c22c3cf8bf/d2d74/img_9.png 1152w,
/static/d94a9b8f379d2244f60862c22c3cf8bf/d539b/img_9.png 1487w"
            sizes="(max-width: 768px) 100vw, 768px"
            type="image/png"
          />
          <img
            class="gatsby-resp-image-image"
            src="/static/d94a9b8f379d2244f60862c22c3cf8bf/fe486/img_9.png"
            alt="img_9.png"
            title=""
            loading="lazy"
            decoding="async"
            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
          />
        </picture>
  </a>
    </span></p>
<h4 id="ecr-리포지토리-생성" style="position:relative;"><a href="#ecr-%EB%A6%AC%ED%8F%AC%EC%A7%80%ED%86%A0%EB%A6%AC-%EC%83%9D%EC%84%B1" aria-label="ecr 리포지토리 생성 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ECR 리포지토리 생성</h4>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/9efa005eb8ab8f292d576e59ff83ce59/19d94/img_10.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 30.729166666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA40lEQVR42pWPP08DMQzF8/33MlSIUqFK8EFoizpWbHQsx0Lv4sTOn1Z62DlA6AQDw0+xnWf72T3sVlhubrDaXONuO8diPcPt+upfLB5n2B2e8HI8wGW+gPqCGi9ABXD+gzqJJ9ocCEID3PvQ49i9onvrQCEgchyRCBYeSYyUBaJY7INv70gCxxNovwQ938NFZgyecOoHiAhqPSsVOZdPcstZdUmbLS6lIOhy0dxq9se6hNScMzeBE0gxNyYwobk1vGINNsDr4tCuMBN+HKQmQrSLUsN9NbZmom9+1qfYvw35TfsBoIq/WkFCxDwAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <picture>
          <source
              srcset="/static/9efa005eb8ab8f292d576e59ff83ce59/a59e9/img_10.webp 192w,
/static/9efa005eb8ab8f292d576e59ff83ce59/0ca9f/img_10.webp 384w,
/static/9efa005eb8ab8f292d576e59ff83ce59/dc9b9/img_10.webp 768w,
/static/9efa005eb8ab8f292d576e59ff83ce59/e2c2f/img_10.webp 1152w,
/static/9efa005eb8ab8f292d576e59ff83ce59/f3efb/img_10.webp 1536w,
/static/9efa005eb8ab8f292d576e59ff83ce59/a3fe1/img_10.webp 1555w"
              sizes="(max-width: 768px) 100vw, 768px"
              type="image/webp"
            />
          <source
            srcset="/static/9efa005eb8ab8f292d576e59ff83ce59/3b721/img_10.png 192w,
/static/9efa005eb8ab8f292d576e59ff83ce59/66595/img_10.png 384w,
/static/9efa005eb8ab8f292d576e59ff83ce59/fe486/img_10.png 768w,
/static/9efa005eb8ab8f292d576e59ff83ce59/d2d74/img_10.png 1152w,
/static/9efa005eb8ab8f292d576e59ff83ce59/e8464/img_10.png 1536w,
/static/9efa005eb8ab8f292d576e59ff83ce59/19d94/img_10.png 1555w"
            sizes="(max-width: 768px) 100vw, 768px"
            type="image/png"
          />
          <img
            class="gatsby-resp-image-image"
            src="/static/9efa005eb8ab8f292d576e59ff83ce59/fe486/img_10.png"
            alt="img_10.png"
            title=""
            loading="lazy"
            decoding="async"
            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
          />
        </picture>
  </a>
    </span></p>
<p>Github Repository 의 Secret 이용하기</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/b0ab33b9c49d4bee3947dbc4ae0e58bc/ed887/img_11.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 47.39583333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAy0lEQVR42p2S2w6CMBBE/f+f8tWP8MEHQ0KC2EBv23YZtyByCURxyCRsQs/uLD1RiBhtrIN1Dp5yHWB9gNKEuqyhqgeM84gxISZeOPH0fsJMRATvaaqlibaEEBlBGmR366cbPGoFDGiaVgCxrzNca6mlEb8P8o5H6AKYAVZij+KOwTGA82SzKba0CTTGCNB+PmDZza/aBSql+t1klW2F8/WClNJ/wBzXzSJrsrjV969x51rt0KPVpv85RyC7QCeRn0UB22q5W8MOj4Jfg9nHae+Px0cAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <picture>
          <source
              srcset="/static/b0ab33b9c49d4bee3947dbc4ae0e58bc/a59e9/img_11.webp 192w,
/static/b0ab33b9c49d4bee3947dbc4ae0e58bc/0ca9f/img_11.webp 384w,
/static/b0ab33b9c49d4bee3947dbc4ae0e58bc/dc9b9/img_11.webp 768w,
/static/b0ab33b9c49d4bee3947dbc4ae0e58bc/e2c2f/img_11.webp 1152w,
/static/b0ab33b9c49d4bee3947dbc4ae0e58bc/0e833/img_11.webp 1484w"
              sizes="(max-width: 768px) 100vw, 768px"
              type="image/webp"
            />
          <source
            srcset="/static/b0ab33b9c49d4bee3947dbc4ae0e58bc/3b721/img_11.png 192w,
/static/b0ab33b9c49d4bee3947dbc4ae0e58bc/66595/img_11.png 384w,
/static/b0ab33b9c49d4bee3947dbc4ae0e58bc/fe486/img_11.png 768w,
/static/b0ab33b9c49d4bee3947dbc4ae0e58bc/d2d74/img_11.png 1152w,
/static/b0ab33b9c49d4bee3947dbc4ae0e58bc/ed887/img_11.png 1484w"
            sizes="(max-width: 768px) 100vw, 768px"
            type="image/png"
          />
          <img
            class="gatsby-resp-image-image"
            src="/static/b0ab33b9c49d4bee3947dbc4ae0e58bc/fe486/img_11.png"
            alt="img_11.png"
            title=""
            loading="lazy"
            decoding="async"
            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
          />
        </picture>
  </a>
    </span></p>
<p>ACCESS_KEY 와 SECRET_KEY 를 감추고</p>
<p>이후 Github Action yml 파일을 작성할 때 사용하면 된다.</p>
<div class="gatsby-highlight" data-language="properties"><pre class="language-properties"><code class="language-properties"><span class="token key attr-name">name</span><span class="token punctuation">:</span> <span class="token value attr-value">hanghae-plus-actions</span>

<span class="token key attr-name">on</span><span class="token punctuation">:</span>
<span class="token key attr-name">  push</span><span class="token punctuation">:</span>
<span class="token key attr-name">    branches</span><span class="token punctuation">:</span> <span class="token value attr-value">[ "master" ]</span>
<span class="token key attr-name">  pull_request</span><span class="token punctuation">:</span>
<span class="token key attr-name">    branches</span><span class="token punctuation">:</span> <span class="token value attr-value">[ "master" ]</span>

<span class="token key attr-name">jobs</span><span class="token punctuation">:</span>
<span class="token key attr-name">  build</span><span class="token punctuation">:</span>
<span class="token key attr-name">    runs-on</span><span class="token punctuation">:</span> <span class="token value attr-value">ubuntu-latest</span>

<span class="token key attr-name">    steps</span><span class="token punctuation">:</span>
<span class="token key attr-name">    -</span> <span class="token value attr-value">uses: actions/checkout@v3</span>
<span class="token key attr-name">    -</span> <span class="token value attr-value">name: Set up JDK 17</span>
<span class="token key attr-name">      uses</span><span class="token punctuation">:</span> <span class="token value attr-value">actions/setup-java@v1</span>
<span class="token key attr-name">      with</span><span class="token punctuation">:</span>
<span class="token key attr-name">          java-version</span><span class="token punctuation">:</span> <span class="token value attr-value">17</span>
<span class="token key attr-name">    -</span> <span class="token value attr-value">name: Grant execute permission for gradlew</span>
<span class="token key attr-name">      run</span><span class="token punctuation">:</span> <span class="token value attr-value">chmod +x gradlew</span>
<span class="token key attr-name">    -</span> <span class="token value attr-value">name: Build with Gradle</span>
<span class="token key attr-name">      run</span><span class="token punctuation">:</span> <span class="token value attr-value">./gradlew build</span>
<span class="token key attr-name">    -</span> <span class="token value attr-value">name: Configure AWS credentials</span>
<span class="token key attr-name">      uses</span><span class="token punctuation">:</span> <span class="token value attr-value">aws-actions/configure-aws-credentials@v1</span>
<span class="token key attr-name">      with</span><span class="token punctuation">:</span>
<span class="token key attr-name">        aws-access-key-id</span> <span class="token punctuation">:</span> <span class="token value attr-value">${{secrets.AWS_ACCESS_KEY}}</span>
<span class="token key attr-name">        aws-secret-access-key</span> <span class="token punctuation">:</span> <span class="token value attr-value">${{secrets.AWS_SECRET_KEY}}</span>
<span class="token key attr-name">        aws-region</span><span class="token punctuation">:</span> <span class="token value attr-value">ap-northeast-2</span>
<span class="token key attr-name">    -</span> <span class="token value attr-value">name: Login to AWS ECR</span>
<span class="token key attr-name">      run</span><span class="token punctuation">:</span> <span class="token value attr-value">aws ecr get-login-password --region ap-northeast-2 | docker login --username AWS --password-stdin ${{secrets.ECR_URL}}</span>
<span class="token key attr-name">    -</span> <span class="token value attr-value">name: Build the Docker image</span>
<span class="token key attr-name">      run</span><span class="token punctuation">:</span> <span class="token value attr-value">docker build -t hanghae-plus .</span>
<span class="token key attr-name">    -</span> <span class="token value attr-value">name : ADD Tag</span>
<span class="token key attr-name">      run</span> <span class="token punctuation">:</span> <span class="token value attr-value">docker tag hanghae-plus:latest ${{secrets.ECR_URL}}/hanghae-plus:latest</span>
<span class="token key attr-name">    -</span> <span class="token value attr-value">name: Push Docker image to ECR</span>
<span class="token key attr-name">      run</span><span class="token punctuation">:</span> <span class="token value attr-value">docker push ${{secrets.ECR_URL}}/hanghae-plus:latest</span>
<span class="token key attr-name">      env</span><span class="token punctuation">:</span>
<span class="token key attr-name">          AWS_ACCESS_KEY_ID</span><span class="token punctuation">:</span> <span class="token value attr-value">${{ secrets.AWS_ACCESS_KEY }}</span>
<span class="token key attr-name">          AWS_SECRET_ACCESS_KEY</span><span class="token punctuation">:</span> <span class="token value attr-value">${{ secrets.AWS_SECRET_ACCESS }}</span>
</code></pre></div>
<p>ECR 에 나와 있는 푸시 명령을 토대로 yml 파일을 완성 하였다.</p>
<h4 id="ec2-실행하기" style="position:relative;"><a href="#ec2-%EC%8B%A4%ED%96%89%ED%95%98%EA%B8%B0" aria-label="ec2 실행하기 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>EC2 실행하기</h4>
<p>EC2 인스턴스를 생성하고  ec2 에 도커를 설치한다.</p>
<ul>
<li>sudo yum docker -y</li>
</ul>
<p>도커 서비스를 실행 시키자</p>
<ul>
<li>sudo systemctl start docker</li>
</ul>
<p>자격 증명을 활성화 하자.</p>
<ul>
<li>aws configure</li>
</ul>
<p>ACCESS_KEY , SECRET_KEY 를 입력하여 자격 증명을 완료하자</p>
<p>docker image 다운 받기 위해 권한 설정을 하자</p>
<ul>
<li>sudo usermode -a -G docker $USER</li>
</ul>
<p>ecr 에 올린 도커 이미지를 pull 받기 위해 ecr 에 로그인 하자</p>
<ul>
<li>aws ecr get-login-password –region ap-northeast-2 | docker login –username AWS –password-stdin [ECR URL ]</li>
</ul>
<p>도커 이미지를 다운 받자</p>
<ul>
<li>docker pull  [ECR URL]</li>
</ul>
<p>docker image ls  명령어를 통해 이미지가 잘 다운 받아졌는지 확인 해보자</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 697px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/aad85cc2d6f2dd62261720159a836149/11663/img_12.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 60.416666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAAB60lEQVR42pVSa4+aUBAFQR5yQUAei4Ko1HSTmrSuSTepRl3a1Q/b//87bv/APZ17UftOuh8mMzzmzJwzR0vTlCdJguEwEFmeQ9Yyx3GMKI7Uc0w5yzLEoxHCKIRlWzBNE/1+v6v7JjRN68J1He64LhjzhPxJvtR1Hb1eTzVcw7IsGPSdMR9N02CxWGA8HmNEQ4IgQI96FODhsP92Op9wPp/Ey9cXtG2LzeYBk8kEHvPgODZsCpeGStA8y9F+bnE8HrFerxW4BDZMowNs3jR8Np+hrmtRTaeoZ7WaHvg+0TJ+UPnfKIqCl1VFGqUiDEMU4wJVNYFhmP9skvT0W/z2vaxKPilL5HkupB4FrV/XU7gD9xcNpb7mT8+3d5fQrxoSGKdLE2CmrnxX3CFJE7pmBEa05ZARXfqak0tk1BOPEqR0fVpGDVCAaZLwh80Gz89fxH5/wNNTi91uh+1ui+12i9l8ruzjeZ4K5jPKA2IwoIM5f0pC/uIlUaZjCNITHe2CvJipWlrKtm1lo6tuslHSJMup2ifbSAcowOVyyd/e3+PdaiU+0Uar1QqPjx/xYf0e/jBQdmGMdZm280kG8qwClBsbhoEB5RvlKBryiPQicwrfD2iaT5YJMAhcaBaZXNNfax2NXwrxas/9Jb4Dix0Xe2X7tQkAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <picture>
          <source
              srcset="/static/aad85cc2d6f2dd62261720159a836149/a59e9/img_12.webp 192w,
/static/aad85cc2d6f2dd62261720159a836149/0ca9f/img_12.webp 384w,
/static/aad85cc2d6f2dd62261720159a836149/dc6fe/img_12.webp 697w"
              sizes="(max-width: 697px) 100vw, 697px"
              type="image/webp"
            />
          <source
            srcset="/static/aad85cc2d6f2dd62261720159a836149/3b721/img_12.png 192w,
/static/aad85cc2d6f2dd62261720159a836149/66595/img_12.png 384w,
/static/aad85cc2d6f2dd62261720159a836149/11663/img_12.png 697w"
            sizes="(max-width: 697px) 100vw, 697px"
            type="image/png"
          />
          <img
            class="gatsby-resp-image-image"
            src="/static/aad85cc2d6f2dd62261720159a836149/11663/img_12.png"
            alt="img_12.png"
            title=""
            loading="lazy"
            decoding="async"
            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
          />
        </picture>
  </a>
    </span></p>
<p>ECR에 올린 이미지가 잘 다운 받아졌고 이제 컨테이너를 실행하자</p>
<ul>
<li>docker run –name hanghae-plus-web -p 8000:8000 [이미지 ID]</li>
</ul>
<p>컨테이너가 실행 되었다. 확인 해보자</p>
<p>퍼블릭 IP 주소를 입력 해보면</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 740px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/3a9cee6e2b921788ceac97e221f10f89/b38af/img_13.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 41.14583333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAhklEQVR42uWOyw7CIBBF+f//NArMQIsIgQSuQEvTutWdNznzSjhB2GVFjHHg/QvOOYQQ8Wzz7a7wULwhCVKZBjdo7xualwORUkLOuUkC2FhoYhAbkDFQ1EUKSlOT6qN35L5rZvj2diKcW2GtHb/qqbUOZs77nM983kUvpZSL5JsI/Dh/KHwDxD91PSuqnWEAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <picture>
          <source
              srcset="/static/3a9cee6e2b921788ceac97e221f10f89/a59e9/img_13.webp 192w,
/static/3a9cee6e2b921788ceac97e221f10f89/0ca9f/img_13.webp 384w,
/static/3a9cee6e2b921788ceac97e221f10f89/c30c1/img_13.webp 740w"
              sizes="(max-width: 740px) 100vw, 740px"
              type="image/webp"
            />
          <source
            srcset="/static/3a9cee6e2b921788ceac97e221f10f89/3b721/img_13.png 192w,
/static/3a9cee6e2b921788ceac97e221f10f89/66595/img_13.png 384w,
/static/3a9cee6e2b921788ceac97e221f10f89/b38af/img_13.png 740w"
            sizes="(max-width: 740px) 100vw, 740px"
            type="image/png"
          />
          <img
            class="gatsby-resp-image-image"
            src="/static/3a9cee6e2b921788ceac97e221f10f89/b38af/img_13.png"
            alt="img_13.png"
            title=""
            loading="lazy"
            decoding="async"
            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
          />
        </picture>
  </a>
    </span></p>
<p>짠! 로컬에서 환경 설정하고 개발했던 것과 동일하게 잘 실행 된다.</p>
<h3 id="단점" style="position:relative;"><a href="#%EB%8B%A8%EC%A0%90" aria-label="단점 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>단점</h3>
<p>도커 덕분에 환경 구성을 위해 새로 설치 해야 할 것도 없이 쉽게 실행 할 수 있었지만</p>
<p>이 방식에 단점이 있다.</p>
<ul>
<li>인스턴스를 수동으로 생성하고 구성해야 한다.</li>
<li>인스턴스를 수동으로 연결하고, 수동으로 도커를 설치한다.</li>
</ul>
<p>조금 더 좋은 방법이 없을까? 위에 수동으로 하는 작업도 다 자동으로 할 수 없을까??</p>
<p>방법이 있다. !</p>
<h3 id="ecs" style="position:relative;"><a href="#ecs" aria-label="ecs permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ECS</h3>
<blockquote>
<p>Elastic Container Service 는 클러스트에서 컨테이너를 쉽게 실행, 중지 및 관리
할 수 있게 해주는 컨테이너 관리 서비스이다.</p>
</blockquote>
<p>EC2 인스턴스를 실행하는 것 처럼 자체 머신을 실행하는 대신 관리형 서비스를 사용할 수 있다</p>
<h4 id="구성-요소" style="position:relative;"><a href="#%EA%B5%AC%EC%84%B1-%EC%9A%94%EC%86%8C" aria-label="구성 요소 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>구성 요소</h4>
<ul>
<li>Cluster : 작업 또는 서비스의 논리적 그룹이다. 클러스터를 실행하여 작업을 실행할 수 있다.
<ul>
<li>클러스터 템플릿 선택 (Fargate | EC2 | External)</li>
<li>클러스 이름 설정</li>
</ul>
</li>
<li>Service : 클러스터에서 지정된 수의 작업을 동시에 실행하고 관리할 수 있게 해주는 구성 서비스는 Task를 포함하며, Task 와 관련된 Auto Scaling 과</li>
</ul>
<p>Load Balancing 을 관리한다.</p>
<ul>
<li>시작 유형 선택 (Fargate | EC2 | External)</li>
<li>작업 정의 선택</li>
<li>클러스터 선택</li>
<li>서비스 이름 설정</li>
<li>작업 개수 설정</li>
<li>배포 유형 설정</li>
<li>네트워크 구성 (VPC , 서브넷 , 보안그룹)</li>
<li>Load Balancing 설정</li>
<li>Auto Scaling 설정</li>
<li>Task : 작업 정의에서 정의된 설정으로 인스턴스화 하는 것이다. Task는 Cluster 에 속한 컨테이너 인스턴스나 Fargate 에 배포하게 된다.</li>
<li>Task Definition : 작업 정의는 애플리케이션을 구성하는 컨테이너를 설명하는 텍스트(JSON) 이다.
<ul>
<li>시작 유형 호환성 선택 (Fargate | EC2 | External)</li>
<li>사용할 컨테이너 이미지 설정</li>
<li>애플리케이션을 위해 개방할 포트 설정</li>
<li>CPU/메모리 리소스 할당 설정</li>
<li>작업의 컨테이너에 사용할 데이터 볼륨 설정</li>
</ul>
</li>
</ul>
<h4 id="aws-fargate" style="position:relative;"><a href="#aws-fargate" aria-label="aws fargate permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>AWS Fargate</h4>
<blockquote>
<p>AWS Fargate 는 Amazon EC2 인스턴스의 서버나 클러스터를 관리할 필요 없이
컨테이너를 실행하기 위해 Amazon ECS 에 사용할 수 있는 기술이다.
Fargate 를 사용하면 더 이상 컨테이너를 실행하기 위해 가상 머신의
클러스터를 프로비저닝, 구성 또는 조정할 필요가 없습니다.</p>
</blockquote>
<h4 id="태스크-정의" style="position:relative;"><a href="#%ED%83%9C%EC%8A%A4%ED%81%AC-%EC%A0%95%EC%9D%98" aria-label="태스크 정의 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>태스크 정의</h4>
<p>Fargate 를 선택! Fargate 는 컨테이너가 무한대로 확장되는 서버리스 실행 환경이다.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/d547e0c7d2b6c572c834590ad0824426/b4bc2/img_14.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 60.9375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAABE0lEQVR42qWSiU7DQAxE+/8/iSrSKkeTvc/sZrArCEQpkIKlt1Eka3Y83lPX93g5n/HaNGiuV9wmCeMcjLWH0casnPgQUsAYi2VZUGtBYcr8LfP8SUppK6i0waUdcekEBkG3uQQbZrhY4FPd4GJFniu+VillL9j2E4ZRYpR2RWoa28UN2kb4kH52aLRG3/VEB0d5pBgQgqdvfEgkQggrzvutoKUF3CYBRRn69wZu5FFqrb+SyeVGcKLRumGkH4tAt7MQL+do7TL0PkApBSkkOYvImXLJ+bDoTlBThm1LGZJLY/3d5YfTPwla6yDInWd3cyF36X8j8zHyUsgdL4V5ph4KSqVpu/H+pnhcdsiN/M6eFXwD0h2oK4mI5IsAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <picture>
          <source
              srcset="/static/d547e0c7d2b6c572c834590ad0824426/a59e9/img_14.webp 192w,
/static/d547e0c7d2b6c572c834590ad0824426/0ca9f/img_14.webp 384w,
/static/d547e0c7d2b6c572c834590ad0824426/dc9b9/img_14.webp 768w,
/static/d547e0c7d2b6c572c834590ad0824426/e2c2f/img_14.webp 1152w,
/static/d547e0c7d2b6c572c834590ad0824426/0528b/img_14.webp 1310w"
              sizes="(max-width: 768px) 100vw, 768px"
              type="image/webp"
            />
          <source
            srcset="/static/d547e0c7d2b6c572c834590ad0824426/3b721/img_14.png 192w,
/static/d547e0c7d2b6c572c834590ad0824426/66595/img_14.png 384w,
/static/d547e0c7d2b6c572c834590ad0824426/fe486/img_14.png 768w,
/static/d547e0c7d2b6c572c834590ad0824426/d2d74/img_14.png 1152w,
/static/d547e0c7d2b6c572c834590ad0824426/b4bc2/img_14.png 1310w"
            sizes="(max-width: 768px) 100vw, 768px"
            type="image/png"
          />
          <img
            class="gatsby-resp-image-image"
            src="/static/d547e0c7d2b6c572c834590ad0824426/fe486/img_14.png"
            alt="img_14.png"
            title=""
            loading="lazy"
            decoding="async"
            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
          />
        </picture>
  </a>
    </span></p>
<p>ECR 의 이미지 URI 를 등록한다.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/10504113db1b8579f354f915f105aa4a/abff7/img_15.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 59.895833333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAABkElEQVR42pWSyW7cMBBE/f/flyCXOJcggGeGEvdNolippqTxMvbBAgoUSfGxq1pPORcoF3HRnnIwqSIsG3xtCJSMkfPU8KC4dMS1I1E+BDjv8ZRzxhQrlBdwwsVGvBheYAJHSgfcfIYp7UGxdQTCLN/dCUwE3tQN18sF1gfIPH+QrKWU7ooxDv34+Qu/n//AOTtgR4WFCw7WWpRS0Fob2s5x26h9PPd639A5V2qC4bl1XV8tC0TNFhOteeY3G4/rZGFoX9uEibaVlo8j5lmzwjygb5/e9wwtCxvAq5rx998VyiS4WLiZ4TlaTyCbNfGSEDOWZWFlnRW1O0iEt8BMoNYa2phRvuQlFuSwjENtnzfavEO+qlCAxtCi9TzIzsU0bAlI8g0MvxJWSoVnRvJ9rcvI9Uugc7TEDgtQAAISW9JRCToe3bXWYV3agMvaWel7IA/LzdM8D9iynh3djg5vDxY/Pp9avvEX8Kwy8vY9w/We4beB508pNmKuowGSm2RVj/dSj/W65yka+3UvQNwJ8D/p4KXx8U7LhwAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <picture>
          <source
              srcset="/static/10504113db1b8579f354f915f105aa4a/a59e9/img_15.webp 192w,
/static/10504113db1b8579f354f915f105aa4a/0ca9f/img_15.webp 384w,
/static/10504113db1b8579f354f915f105aa4a/dc9b9/img_15.webp 768w,
/static/10504113db1b8579f354f915f105aa4a/e2c2f/img_15.webp 1152w,
/static/10504113db1b8579f354f915f105aa4a/3af10/img_15.webp 1267w"
              sizes="(max-width: 768px) 100vw, 768px"
              type="image/webp"
            />
          <source
            srcset="/static/10504113db1b8579f354f915f105aa4a/3b721/img_15.png 192w,
/static/10504113db1b8579f354f915f105aa4a/66595/img_15.png 384w,
/static/10504113db1b8579f354f915f105aa4a/fe486/img_15.png 768w,
/static/10504113db1b8579f354f915f105aa4a/d2d74/img_15.png 1152w,
/static/10504113db1b8579f354f915f105aa4a/abff7/img_15.png 1267w"
            sizes="(max-width: 768px) 100vw, 768px"
            type="image/png"
          />
          <img
            class="gatsby-resp-image-image"
            src="/static/10504113db1b8579f354f915f105aa4a/fe486/img_15.png"
            alt="img_15.png"
            title=""
            loading="lazy"
            decoding="async"
            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
          />
        </picture>
  </a>
    </span></p>
<h2 id="회고" style="position:relative;"><a href="#%ED%9A%8C%EA%B3%A0" aria-label="회고 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>회고</h2>
<p>CI CD 를 경험 한적도 없었고, Phase 를 구성한 적도 없어서
개념을 이해하고 적용하는 데 시간이 많이 걸려 과제를 수행 하는 것이 쉽지 않았다.</p>
<p>블로그와 문서 , 강의를 통해서 개념들을 익히고 현재 요구사항에 필요한 최소한의 조건으로 설정하였다.</p>
<p>완벽하게 이해한 것도 아니고 설정 파일도 수정할 것이 있지만  하나의 cycle 다 경험 할 수 있어서 좋았다.</p>
<p>회사에 이번에 배운 것을 차근차근 적용 해봐야 겠다.</p>
<p>Dockefile , Github Actions workflow 파일 , phase 설정 들은 개선할 것이 많아 보인다.
앞으로 과제를 진행 하면서 점차 개선해야 겠다.</p></div><style data-emotion="css hx9xpc">@media (max-width: 768px){.css-hx9xpc{padding:0 20px;}}</style><div class="css-hx9xpc e12j4d8y0"></div><style data-emotion="css fmunkh">.css-fmunkh{position:absolute;top:0;left:768px;height:100%;padding-left:4rem;}@media (max-width: 1400px){.css-fmunkh{display:none;}}</style><aside class="css-fmunkh ek4ynda1"><style data-emotion="css 1s5ilwz">.css-1s5ilwz{position:-webkit-sticky;position:sticky;top:6rem;width:240px;overflow:hidden;font-size:0.8rem;}.css-1s5ilwz p{margin:0;}.css-1s5ilwz a{display:block;padding:0.5rem;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;border-radius:4px;-webkit-transition:all 0.1s ease-out;transition:all 0.1s ease-out;}.css-1s5ilwz a:hover{background-color:#badcff;}.css-1s5ilwz ul:first-child{border-left:none;}.css-1s5ilwz ul{margin-left:0.5rem;padding:0 0.5rem;list-style:none;border-left:2px solid #e2e5e6;}</style><nav class="css-1s5ilwz ek4ynda0"><ul>
<li>
<p><a href="#step-01-%EC%9B%B9%EC%84%9C%EB%B2%84-%EC%83%9D%EC%84%B1">STEP 01 웹서버 생성</a></p>
<ul>
<li>
<p><a href="#spring-actuator">spring actuator</a></p>
<ul>
<li><a href="#dependency-%EC%B6%94%EA%B0%80">Dependency 추가</a></li>
<li><a href="#hateaos">Hateaos</a></li>
</ul>
</li>
<li>
<p><a href="#%EC%84%9C%EB%B2%84-phase-%EA%B5%AC%EC%84%B1">서버 phase 구성</a></p>
<ul>
<li><a href="#phase-%EB%9E%80">Phase 란?</a></li>
<li><a href="#%EA%B0%9C%EB%B0%9C-%ED%99%98%EA%B2%BD%EC%9D%84-%EB%B6%84%EB%A6%AC%ED%95%98%EB%8A%94-%EC%9D%B4%EC%9C%A0">개발 환경을 분리하는 이유?</a></li>
<li><a href="#%ED%99%98%EA%B2%BD-%EB%B6%84%EB%A6%AC">환경 분리</a></li>
</ul>
</li>
</ul>
</li>
<li>
<p><a href="#step02-%EB%B9%8C%EB%93%9C-%ED%99%98%EA%B2%BD-%EA%B5%AC%EC%B6%95">STEP02 빌드 환경 구축</a></p>
<ul>
<li><a href="#%EB%B9%8C%EB%93%9C%EB%9E%80">빌드란?</a></li>
<li><a href="#jar-vs-war">jar vs war</a></li>
<li><a href="#%EB%B0%B0%ED%8F%AC">배포</a></li>
</ul>
</li>
<li>
<p><a href="#%EB%8F%84%EC%BB%A4">도커</a></p>
<ul>
<li>
<p><a href="#%EB%8F%84%EC%BB%A4%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%98%EB%8A%94-%EC%9D%B4%EC%9C%A0%EB%8A%94">도커를 사용하는 이유는?</a></p>
</li>
<li>
<p><a href="#%EB%8F%84%EC%BB%A4-%EC%9D%B4%EB%AF%B8%EC%A7%80">도커 이미지</a></p>
</li>
<li>
<p><a href="#%EB%8F%84%EC%BB%A4-%EC%BB%A8%ED%85%8C%EC%9D%B4%EB%84%88">도커 컨테이너</a></p>
</li>
<li>
<p><a href="#dockerfile">Dockerfile</a></p>
</li>
<li>
<p><a href="#%EB%A0%88%EC%9D%B4%EC%96%B4-%EC%8B%9C%EC%8A%A4%ED%85%9C">레이어 시스템</a></p>
</li>
<li>
<p><a href="#%EB%AA%85%EB%A0%B9%EC%96%B4">명령어</a></p>
<ul>
<li><a href="#from"><code class="language-text">FROM</code></a></li>
<li><a href="#label"><code class="language-text">LABEL</code></a></li>
<li><a href="#workdir"><code class="language-text">WORKDIR</code></a></li>
<li><a href="#arg"><code class="language-text">ARG</code></a></li>
<li><a href="#run"><code class="language-text">RUN</code></a></li>
<li><a href="#env"><code class="language-text">ENV</code></a></li>
<li><a href="#add"><code class="language-text">ADD</code></a></li>
<li><a href="#copy"><code class="language-text">COPY</code></a></li>
<li><a href="#cmd"><code class="language-text">CMD</code></a></li>
<li><a href="#expose"><code class="language-text">EXPOSE</code></a></li>
</ul>
</li>
<li>
<p><a href="#%EC%8B%A4%EC%8A%B5">실습</a></p>
<ul>
<li><a href="#%EB%8F%84%EC%BB%A4-%EC%9D%B4%EB%AF%B8%EC%A7%80-%EB%B9%8C%EB%93%9C">도커 이미지 빌드</a></li>
<li><a href="#%EC%9D%B4%EB%AF%B8%EC%A7%80-%EC%8B%A4%ED%96%89">이미지 실행</a></li>
</ul>
</li>
<li>
<p><a href="#github-actions">GitHub Actions</a></p>
<ul>
<li><a href="#ci-continuous-integration">CI (Continuous Integration)</a></li>
<li><a href="#cd-continuous-deployment">CD (Continuous Deployment)</a></li>
<li><a href="#%ED%95%B5%EC%8B%AC-%EA%B0%9C%EB%85%90">핵심 개념</a></li>
<li><a href="#%EC%8B%A4%EC%8A%B5-1">실습</a></li>
</ul>
</li>
</ul>
</li>
<li>
<p><a href="#step03-%EB%B0%B0%ED%8F%AC-%ED%99%98%EA%B2%BD-%EA%B5%AC%EC%B6%95">STEP03 배포 환경 구축</a></p>
<ul>
<li>
<p><a href="#ecr">ECR</a></p>
</li>
<li>
<p><a href="#iam">IAM</a></p>
<ul>
<li><a href="#ecr-%EB%A6%AC%ED%8F%AC%EC%A7%80%ED%86%A0%EB%A6%AC-%EC%83%9D%EC%84%B1">ECR 리포지토리 생성</a></li>
<li><a href="#ec2-%EC%8B%A4%ED%96%89%ED%95%98%EA%B8%B0">EC2 실행하기</a></li>
</ul>
</li>
<li>
<p><a href="#%EB%8B%A8%EC%A0%90">단점</a></p>
</li>
<li>
<p><a href="#ecs">ECS</a></p>
<ul>
<li><a href="#%EA%B5%AC%EC%84%B1-%EC%9A%94%EC%86%8C">구성 요소</a></li>
<li><a href="#aws-fargate">AWS Fargate</a></li>
<li><a href="#%ED%83%9C%EC%8A%A4%ED%81%AC-%EC%A0%95%EC%9D%98">태스크 정의</a></li>
</ul>
</li>
</ul>
</li>
<li>
<p><a href="#%ED%9A%8C%EA%B3%A0">회고</a></p>
</li>
</ul></nav></aside></div><style data-emotion="css 3xgn3f">.css-3xgn3f{display:grid;place-items:center;margin-top:auto;padding:50px 0;font-size:15px;color:#aaa;font-weight:bold;text-align:center;line-height:1.5;background-color:#f0f0f0;}@media (max-width: 768px){.css-3xgn3f{font-size:13px;}}</style><div class="css-3xgn3f ehmnl590"><br/>© 2023 박건희 Powered By Gatsby.</div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/항해플러스/1주차/";/*]]>*/</script><!-- slice-start id="_gatsby-scripts-1" -->
          <script
            id="gatsby-chunk-mapping"
          >
            window.___chunkMapping="{\"app\":[\"/app-11e3db64e010c7ace7b9.js\"],\"component---src-pages-404-tsx\":[\"/component---src-pages-404-tsx-e0c32f7568409678d965.js\"],\"component---src-pages-index-tsx\":[\"/component---src-pages-index-tsx-5d7d9b297e49292a0605.js\"],\"component---src-templates-post-template-tsx\":[\"/component---src-templates-post-template-tsx-cb73f70df489f33d96a5.js\"]}";
          </script>
        <script>window.___webpackCompilationHash="ed33943491e35a199c5f";</script><script src="/webpack-runtime-e4e282c4b34170b3f4c3.js" async></script><script src="/framework-3fd3aa0b19c33d97812d.js" async></script><script src="/app-11e3db64e010c7ace7b9.js" async></script><!-- slice-end id="_gatsby-scripts-1" --></body></html>