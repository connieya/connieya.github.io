"use strict";(self.webpackChunkmy_blog=self.webpackChunkmy_blog||[]).push([[663],{4620:function(e,t,r){r.d(t,{Q:function(){return o}});var i=r(6540);let n=null;try{const{supabase:e}=r(3001);n=e}catch(a){console.warn("Supabase not configured:",a)}const o=(e,t)=>{const{0:r,1:o}=(0,i.useState)(0),{0:a,1:s}=(0,i.useState)(!0),{0:l,1:c}=(0,i.useState)(null),d=async()=>{if(!n)return c("Supabase not configured"),void s(!1);try{const{data:t,error:r}=await n.from("posts").select("view_count").eq("slug",e).single();r&&"PGRST116"!==r.code?(console.error("Error fetching view count:",r),c("조회수를 불러오는데 실패했습니다.")):(o((null==t?void 0:t.view_count)||0),c(null))}catch(t){console.error("Error:",t),c("조회수를 불러오는데 실패했습니다.")}finally{s(!1)}};return(0,i.useEffect)(()=>{d()},[e]),{viewCount:r,loading:a,error:l,incrementViewCount:async()=>{if(n)try{const{data:r}=await n.from("posts").select("id, view_count").eq("slug",e).single();if(r){const{error:t}=await n.from("posts").update({view_count:r.view_count+1}).eq("slug",e);t?console.error("Error incrementing view count:",t):o(r.view_count+1)}else{const{error:r}=await n.from("posts").insert([{slug:e,title:t||"Untitled",view_count:1}]);r?console.error("Error creating new post:",r):o(1)}}catch(r){console.error("Error incrementing view count:",r)}},refetch:d}}},5738:function(e,t,r){r.r(t),r.d(t,{default:function(){return v}});var i=r(7276),n=r(4810),o=r(4620),a=r(4848);var s=e=>{let{date:t,summary:r,title:i,link:s,timeToRead:f,slug:x}=e;const{viewCount:h,loading:b}=(0,o.Q)(x);return(0,a.jsx)(l,{to:s,children:(0,a.jsxs)(c,{children:[(0,a.jsx)(d,{onClick:()=>{(0,n.oo)(s)},children:i}),(0,a.jsx)(u,{children:r}),(0,a.jsxs)(m,{children:[(0,a.jsxs)(g,{children:[t,(0,a.jsxs)(p,{children:["약 ",f,"분"]})]}),!b&&(0,a.jsxs)(w,{children:[h.toLocaleString(),"회 조회"]})]})]})})};const l=(0,i.A)(n.N_,{target:"e1gcb2zr7"})({name:"q9hu3x",styles:"display:block;padding:1.5rem 0;transition:all 0.1s ease-out"}),c=(0,i.A)("div",{target:"e1gcb2zr6"})({name:"tf7i9m",styles:"width:100%;display:flex;flex-direction:column;justify-content:space-between"}),d=(0,i.A)("h3",{target:"e1gcb2zr5"})({name:"52sa6w",styles:"margin-top:0.5rem;margin-bottom:0.5rem;font-size:1.3rem;line-height:1.3;word-break:keep-all;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;cursor:pointer;&:hover{text-decoration:underline;}@media (max-width: 768px){font-size:1.25rem;}"}),u=(0,i.A)("div",{target:"e1gcb2zr4"})({name:"147pzeu",styles:"display:-webkit-box;overflow:hidden;color:#757575;text-overflow:ellipsis;word-break:keep-all;-webkit-line-clamp:3;-webkit-box-orient:vertical;margin-bottom:1rem"}),m=(0,i.A)("div",{target:"e1gcb2zr3"})({name:"9w8gg7",styles:"display:flex;gap:0.5rem;align-items:center;padding-top:0.5rem;color:#757575;font-size:14px"}),g=(0,i.A)("span",{target:"e1gcb2zr2"})({name:"1bmnxg7",styles:"white-space:nowrap"}),p=(0,i.A)("span",{target:"e1gcb2zr1"})({name:"uaob3j",styles:"margin-left:0.5rem"}),w=(0,i.A)("span",{target:"e1gcb2zr0"})({name:"jh8xdc",styles:"white-space:nowrap;color:#757575;font-size:14px"});const f=(0,i.A)("div",{target:"e1nctdvm1"})({name:"1x1wxw6",styles:"display:grid;width:100%;max-width:768px;margin:0 auto;padding:40px 1rem 100px;@media (max-width: 768px){grid-template-columns:1fr;width:100%;padding:50px 0.75rem;}"}),x=(0,i.A)("div",{target:"e1nctdvm0"})("");var h=function(e){let{posts:t}=e;return(0,a.jsx)(f,{children:(0,a.jsx)(x,{children:t.map(e=>{let{node:{id:t,fields:{slug:r},timeToRead:i,frontmatter:n}}=e;return(0,a.jsx)(s,{title:n.title,date:n.date,categories:n.categories,summary:n.summary,link:r,timeToRead:i,slug:r},t)})})})},b=r(5567);var v=e=>{let{location:{search:t},data:{site:{siteMetadata:{title:r,description:i,siteUrl:n}},allMarkdownRemark:{edges:o},file:{childImageSharp:{gatsbyImageData:s},publicURL:l}}}=e;return(0,a.jsx)(b.A,{title:`${r} - 개발`,description:i,url:n,image:l,children:(0,a.jsx)(h,{posts:o})})}}}]);
//# sourceMappingURL=component---src-pages-blog-tsx-110f92f4ff04fceed11c.js.map