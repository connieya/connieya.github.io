{"componentChunkName":"component---src-templates-post-template-tsx","path":"/항해플러스/CI-CD/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"tableOfContents":"<ul>\n<li>\n<p><a href=\"#step-01-%EC%9B%B9%EC%84%9C%EB%B2%84-%EC%83%9D%EC%84%B1\">STEP 01 웹서버 생성</a></p>\n<ul>\n<li>\n<p><a href=\"#spring-actuator\">spring actuator</a></p>\n<ul>\n<li><a href=\"#dependency-%EC%B6%94%EA%B0%80\">Dependency 추가</a></li>\n<li><a href=\"#hateaos\">Hateaos</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%84%9C%EB%B2%84-phase-%EA%B5%AC%EC%84%B1\">서버 phase 구성</a></p>\n<ul>\n<li><a href=\"#phase-%EB%9E%80\">Phase 란?</a></li>\n<li><a href=\"#%EA%B0%9C%EB%B0%9C-%ED%99%98%EA%B2%BD%EC%9D%84-%EB%B6%84%EB%A6%AC%ED%95%98%EB%8A%94-%EC%9D%B4%EC%9C%A0\">개발 환경을 분리하는 이유?</a></li>\n<li><a href=\"#%ED%99%98%EA%B2%BD-%EB%B6%84%EB%A6%AC\">환경 분리</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#step02-%EB%B9%8C%EB%93%9C-%ED%99%98%EA%B2%BD-%EA%B5%AC%EC%B6%95\">STEP02 빌드 환경 구축</a></p>\n<ul>\n<li><a href=\"#%EB%B9%8C%EB%93%9C%EB%9E%80\">빌드란?</a></li>\n<li><a href=\"#jar-vs-war\">jar vs war</a></li>\n<li><a href=\"#%EB%B0%B0%ED%8F%AC\">배포</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%8F%84%EC%BB%A4\">도커</a></p>\n<ul>\n<li>\n<p><a href=\"#%EB%8F%84%EC%BB%A4%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%98%EB%8A%94-%EC%9D%B4%EC%9C%A0%EB%8A%94\">도커를 사용하는 이유는?</a></p>\n</li>\n<li>\n<p><a href=\"#%EB%8F%84%EC%BB%A4-%EC%9D%B4%EB%AF%B8%EC%A7%80\">도커 이미지</a></p>\n</li>\n<li>\n<p><a href=\"#%EB%8F%84%EC%BB%A4-%EC%BB%A8%ED%85%8C%EC%9D%B4%EB%84%88\">도커 컨테이너</a></p>\n</li>\n<li>\n<p><a href=\"#dockerfile\">Dockerfile</a></p>\n</li>\n<li>\n<p><a href=\"#%EB%A0%88%EC%9D%B4%EC%96%B4-%EC%8B%9C%EC%8A%A4%ED%85%9C\">레이어 시스템</a></p>\n</li>\n<li>\n<p><a href=\"#%EB%AA%85%EB%A0%B9%EC%96%B4\">명령어</a></p>\n<ul>\n<li><a href=\"#from\"><code class=\"language-text\">FROM</code></a></li>\n<li><a href=\"#label\"><code class=\"language-text\">LABEL</code></a></li>\n<li><a href=\"#workdir\"><code class=\"language-text\">WORKDIR</code></a></li>\n<li><a href=\"#arg\"><code class=\"language-text\">ARG</code></a></li>\n<li><a href=\"#run\"><code class=\"language-text\">RUN</code></a></li>\n<li><a href=\"#env\"><code class=\"language-text\">ENV</code></a></li>\n<li><a href=\"#add\"><code class=\"language-text\">ADD</code></a></li>\n<li><a href=\"#copy\"><code class=\"language-text\">COPY</code></a></li>\n<li><a href=\"#cmd\"><code class=\"language-text\">CMD</code></a></li>\n<li><a href=\"#expose\"><code class=\"language-text\">EXPOSE</code></a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%8B%A4%EC%8A%B5\">실습</a></p>\n<ul>\n<li><a href=\"#%EB%8F%84%EC%BB%A4-%EC%9D%B4%EB%AF%B8%EC%A7%80-%EB%B9%8C%EB%93%9C\">도커 이미지 빌드</a></li>\n<li><a href=\"#%EC%9D%B4%EB%AF%B8%EC%A7%80-%EC%8B%A4%ED%96%89\">이미지 실행</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#github-actions\">GitHub Actions</a></p>\n<ul>\n<li><a href=\"#ci-continuous-integration\">CI (Continuous Integration)</a></li>\n<li><a href=\"#cd-continuous-deployment\">CD (Continuous Deployment)</a></li>\n<li><a href=\"#%ED%95%B5%EC%8B%AC-%EA%B0%9C%EB%85%90\">핵심 개념</a></li>\n<li><a href=\"#%EC%8B%A4%EC%8A%B5-1\">실습</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#step03-%EB%B0%B0%ED%8F%AC-%ED%99%98%EA%B2%BD-%EA%B5%AC%EC%B6%95\">STEP03 배포 환경 구축</a></p>\n<ul>\n<li>\n<p><a href=\"#ecr\">ECR</a></p>\n</li>\n<li>\n<p><a href=\"#iam\">IAM</a></p>\n<ul>\n<li><a href=\"#ecr-%EB%A6%AC%ED%8F%AC%EC%A7%80%ED%86%A0%EB%A6%AC-%EC%83%9D%EC%84%B1\">ECR 리포지토리 생성</a></li>\n<li><a href=\"#ec2-%EC%8B%A4%ED%96%89%ED%95%98%EA%B8%B0\">EC2 실행하기</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%8B%A8%EC%A0%90\">단점</a></p>\n</li>\n<li>\n<p><a href=\"#ecs\">ECS</a></p>\n<ul>\n<li><a href=\"#%EA%B5%AC%EC%84%B1-%EC%9A%94%EC%86%8C\">구성 요소</a></li>\n<li><a href=\"#vpc-%EC%83%9D%EC%84%B1\">VPC 생성</a></li>\n<li><a href=\"#%EB%8C%80%EC%83%81-%EA%B7%B8%EB%A3%B9-%EC%83%9D%EC%84%B1\">대상 그룹 생성</a></li>\n<li><a href=\"#alb-%EC%83%9D%EC%84%B1\">ALB 생성</a></li>\n<li><a href=\"#aws-fargate\">AWS Fargate</a></li>\n<li><a href=\"#%ED%83%9C%EC%8A%A4%ED%81%AC-%EC%A0%95%EC%9D%98\">태스크 정의</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#github-actions-%EB%B0%B0%ED%8F%AC-%EC%9E%90%EB%8F%99%ED%99%94\">Github Actions 배포 자동화</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%9E%90%EB%8F%99-%EB%B0%B0%ED%8F%AC-%ED%99%95%EC%9D%B8\">자동 배포 확인</a></p>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%ED%9A%8C%EA%B3%A0\">회고</a></p>\n</li>\n</ul>","html":"<p>항해 플러스 1주차는 Github Actions 와 Docker 를 활용하여\n웹 어플리케이션의 CI/CD 를 구축해야 한다.</p>\n<p>1주차의 과제를 완료하기 위한 3단계 과정</p>\n<ul>\n<li>STEP 01 웹서버 생성</li>\n<li>STEP 02 빌드 환경 구축</li>\n<li>STEP 03 배포 환경 구축</li>\n</ul>\n<h2 id=\"step-01-웹서버-생성\" style=\"position:relative;\"><a href=\"#step-01-%EC%9B%B9%EC%84%9C%EB%B2%84-%EC%83%9D%EC%84%B1\" aria-label=\"step 01 웹서버 생성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>STEP 01 웹서버 생성</h2>\n<p>간단한 서버 어플리케이션 프로젝트를 생성하고 Health-Check router 를 구현해야 한다.</p>\n<p>스프링에서는 health-check 에 유용한 라이브러리인 actuator 가 있다.</p>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/actuator.html\" target=\"_blank\" rel=\"nofollow\">spring actuator 공식 문서</a></p>\n<p>actuator 를 사용하여 프로젝트를 생성해보자.</p>\n<h3 id=\"spring-actuator\" style=\"position:relative;\"><a href=\"#spring-actuator\" aria-label=\"spring actuator permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>spring actuator</h3>\n<h4 id=\"dependency-추가\" style=\"position:relative;\"><a href=\"#dependency-%EC%B6%94%EA%B0%80\" aria-label=\"dependency 추가 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Dependency 추가</h4>\n<p>build.gradle 예시</p>\n<div class=\"gatsby-highlight\" data-language=\"groovy\"><pre class=\"language-groovy\"><code class=\"language-groovy\">dependencies <span class=\"token punctuation\">{</span>\n\timplementation <span class=\"token string\">'org.springframework.boot:spring-boot-starter-actuator'</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>서버를 실행하고</p>\n<p>localhost:8080/actuaor 를 입력하면</p>\n<p>다음과 같이 애플리케이션의 헬스 상태를 볼 수 있는 URL을 제공해준다.\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 527px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/0ba0b785a6c782d980c41d48d61aa9de/c6c03/img.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 57.8125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAABT0lEQVR42q1SCWrDMBD0/1/W0pKWJBDHcRzXR2J8yZd8r6Zrp7QQUkNLBKNdHTsaaaRBAROI6CHQRCJgbPdIOT6iacMw4OJdYBkWkihFXfSosgalqJHFEkVaI/YL5JFExuiaYZlQkZoT1/rA+/MK29cd3GMIU+8QuBUkk4tQImfyLKzQNv0y4cgKXdtllQGkbOZ3mJv6vUgtrGlT13c9Ni9rvD29wdp58I4x7H0J95DydXO4eozAFjPicwHfTCCL9i65Nilq2xZlVsAxbdiHE3JRskngeVarCNOzKK6cI/2M7yqkcYR3crFf69DZbcsIkGVsTEUQQnGuEAQKSaq+x2F0jUmikOd0Y8rXSd7JYUPW2KwcmEYO48BGOSOiiOB5hPOZ4PuEMLzmcUx8ECFNbwj5utR1HbE51Mia2qYmVj0Jn3b+GZpasuw/H5thPhKfns+kmwQT64MAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/0ba0b785a6c782d980c41d48d61aa9de/a59e9/img.webp 192w,\n/static/0ba0b785a6c782d980c41d48d61aa9de/0ca9f/img.webp 384w,\n/static/0ba0b785a6c782d980c41d48d61aa9de/9ce6a/img.webp 527w\"\n              sizes=\"(max-width: 527px) 100vw, 527px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/0ba0b785a6c782d980c41d48d61aa9de/3b721/img.png 192w,\n/static/0ba0b785a6c782d980c41d48d61aa9de/66595/img.png 384w,\n/static/0ba0b785a6c782d980c41d48d61aa9de/c6c03/img.png 527w\"\n            sizes=\"(max-width: 527px) 100vw, 527px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/0ba0b785a6c782d980c41d48d61aa9de/c6c03/img.png\"\n            alt=\"img.png\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>localhost:8080/actuator/health 에 링크에 들어가보면</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 365px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f3cac9816cf2fea64bb691d4e69a66bc/dbde8/img_1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 45.3125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAjElEQVR42s3QQQuCQBAFYP//McG/lRRIHbzHjmkJu+XuzDx1FaqbpYcGhnmnj+ElaX4FwPCiUP1cEVm0zCwYFeZTsttXEbTuCboQ7rcW3gcYa9Bxh4Uj8x1BismYCkVeoDyXcO4BsoQg4XswnT9kxZp5gdmhicm/dTLUh6HFH8HjBAbRjT7cHqz/G+wBbOvC7xsfjXcAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/f3cac9816cf2fea64bb691d4e69a66bc/a59e9/img_1.webp 192w,\n/static/f3cac9816cf2fea64bb691d4e69a66bc/3a8fd/img_1.webp 365w\"\n              sizes=\"(max-width: 365px) 100vw, 365px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/f3cac9816cf2fea64bb691d4e69a66bc/3b721/img_1.png 192w,\n/static/f3cac9816cf2fea64bb691d4e69a66bc/dbde8/img_1.png 365w\"\n            sizes=\"(max-width: 365px) 100vw, 365px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/f3cac9816cf2fea64bb691d4e69a66bc/dbde8/img_1.png\"\n            alt=\"img_1.png\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>서버가 잘 동작하는 지 헬스 상태를 볼 수 있다.</p>\n<p>여기서 잠깐 !</p>\n<p>위와 같이 요청에 필요한 URI 를 응답에 포함시켜 반환하는 것을 Hateoas 라고 한다.</p>\n<h4 id=\"hateaos\" style=\"position:relative;\"><a href=\"#hateaos\" aria-label=\"hateaos permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Hateaos</h4>\n<blockquote>\n<p>Hypermedia As Engine Of Application State 의 약자로 서버가 클라이언트에게\n하이퍼 미디어를 통해 정보를 동적으로 제공해주는 것</p>\n</blockquote>\n<p>스프링 actuator 는 헬스 상태 뿐 아니라 수 많은 기능을 제공하는데,\n이 기능들을 웹 환경에서 보이도록 노출할 수 있다.</p>\n<p>application.yml 추가</p>\n<div class=\"gatsby-highlight\" data-language=\"properties\"><pre class=\"language-properties\"><code class=\"language-properties\"><span class=\"token key attr-name\">management</span><span class=\"token punctuation\">:</span>\n<span class=\"token key attr-name\">  endpoints</span><span class=\"token punctuation\">:</span>\n<span class=\"token key attr-name\">   web</span><span class=\"token punctuation\">:</span>\n<span class=\"token key attr-name\">    exposure</span><span class=\"token punctuation\">:</span>\n<span class=\"token key attr-name\">      include</span><span class=\"token punctuation\">:</span> <span class=\"token value attr-value\">\"*\"</span></code></pre></div>\n<p>localhost:8080/actuator/health 입력하면</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/86c74a7e71a9b9f93a2db518ce0cb2e0/9c0ca/img_2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 84.375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsTAAALEwEAmpwYAAABaUlEQVR42p2U3XKDIBCF+/5P2DY1UQmaxB9ARUWB00WTzrRXFWeOeOF8c3bPLm+61xCNgLUOdtm1Lhbeexx4Xj8/3hyBymuBO6+hGoNOjOjaCYuxkUDnkCcprmmJTi6YB4PpKef8cWB4l6xAcirRNA5C7FLKoW0dlsUfA4Ze8Yyh5ApCAq3AdkoFGBNRcgiDXXLcQg+lpVJXjHrFRIoq2dN3kXPk5zuaaoGoZoiaRAENgyNoRCgszcGyCl0HggBak0agHzyNE4738MZLCuYB1RpoNW2atTkyi39CoZJZ2lC62JJtWw8pPbmNBKanM07vbANq7TGOHtPkKeVIYJFd8fVRgrERVeVInmbSb06Dy39U/ht4px5yVpNDj77ftTvEdh4ChpQ5OczOD9T13rsXOGqXg8NwObCsfoayA5Xy2ypaG7F6l8+EtoWjlyuNy7zJjHQ5rDbutikYR5rQptT2R5IuiOBwXY85/AYYijVTX2BMHgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/86c74a7e71a9b9f93a2db518ce0cb2e0/a59e9/img_2.webp 192w,\n/static/86c74a7e71a9b9f93a2db518ce0cb2e0/0ca9f/img_2.webp 384w,\n/static/86c74a7e71a9b9f93a2db518ce0cb2e0/dc9b9/img_2.webp 768w,\n/static/86c74a7e71a9b9f93a2db518ce0cb2e0/9feb0/img_2.webp 1075w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/86c74a7e71a9b9f93a2db518ce0cb2e0/3b721/img_2.png 192w,\n/static/86c74a7e71a9b9f93a2db518ce0cb2e0/66595/img_2.png 384w,\n/static/86c74a7e71a9b9f93a2db518ce0cb2e0/fe486/img_2.png 768w,\n/static/86c74a7e71a9b9f93a2db518ce0cb2e0/9c0ca/img_2.png 1075w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/86c74a7e71a9b9f93a2db518ce0cb2e0/fe486/img_2.png\"\n            alt=\"img_2.png\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>스프링 actuator 가 제공하는 수 많은 기능을 확인할 수 있다.</p>\n<h3 id=\"서버-phase-구성\" style=\"position:relative;\"><a href=\"#%EC%84%9C%EB%B2%84-phase-%EA%B5%AC%EC%84%B1\" aria-label=\"서버 phase 구성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>서버 phase 구성</h3>\n<h4 id=\"phase-란\" style=\"position:relative;\"><a href=\"#phase-%EB%9E%80\" aria-label=\"phase 란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Phase 란?</h4>\n<blockquote>\n<p>개발 환경(Phase) 은 Application 이 동작하는 환경을 의미한다.\n대부분의 Framework 는 각각의 개발 환경마다 설정 값을 다르게\n세팅할 수 있는 기능이 있다.</p>\n</blockquote>\n<p>Spring Boot 의 경우 Profile 기능이 있다.</p>\n<h4 id=\"개발-환경을-분리하는-이유\" style=\"position:relative;\"><a href=\"#%EA%B0%9C%EB%B0%9C-%ED%99%98%EA%B2%BD%EC%9D%84-%EB%B6%84%EB%A6%AC%ED%95%98%EB%8A%94-%EC%9D%B4%EC%9C%A0\" aria-label=\"개발 환경을 분리하는 이유 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>개발 환경을 분리하는 이유?</h4>\n<p>제품을 개발할 때 Application 을 바로 운영 환경에 배포하지 않는다.\n개발하고 있는 Local 에서 Application 을 실행해보면서 디버깅이나\n테스트를 진행하고, 실제 운영 환경과 비슷한 시스템이 갖춰진\nDevelop 환경이나 Beta , RC 환경에 순차적으로 배포하면서 테스트 과정을 거친다.</p>\n<p>개발 환경은 회사나 팀에 따라 레벨이 조금씩 달라 질 수 있지만\n보통 <code class=\"language-text\">local</code> -<code class=\"language-text\">develop</code> - <code class=\"language-text\">beta</code> - <code class=\"language-text\">stage</code> - <code class=\"language-text\">production</code> 순으로 구성하는 것이 보통이다.</p>\n<ul>\n<li>local\n<ul>\n<li>개인이 개발하는 PC 작업 환경</li>\n<li>직접 IDE 를 통해서 코드를 개발하고 이를 바로 실행시키면서 디버깅할 수 있는 환경이다.</li>\n</ul>\n</li>\n<li>develop\n<ul>\n<li>실제 운영환경과 동일하게 구축한 환경</li>\n<li>application 에 필요한 서비스들을 최대한 구성하기 때문에 최대한 운영환경과 비슷하게 테스트나 동작 확인을 할 수 있다.</li>\n</ul>\n</li>\n<li>beta\n<ul>\n<li>develop 과 마찬가지로 실제 운영환경과 동일하게 구축된 환경</li>\n<li>develop 환경과의 다른 점은 보통 약속된 배포 주기, 배포 버전 관리 하에 운영된다.</li>\n<li>보통 서비스 출시 직전 Application 의 QA 를 Beta 환경에 배포하여 진행한다.</li>\n</ul>\n</li>\n<li>stage\n<ul>\n<li>Database 와 같은 Persistent 계층이 Production 과 동일하게 구성된다.</li>\n<li>Stage 환경에 Web Applicaiton 을 배포하면 실제 물리적인 서비스 Data를 접근하기 대문에 실제 재고에 대한 주문 테스트나 결제 테스트가 가능해진다.</li>\n</ul>\n</li>\n<li>production\n<ul>\n<li>실제 서비스의 운영 환경</li>\n<li>Production 환경에 서비스를 배포하면 보통 Application 의 Release Notes 가 생성된다.</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"환경-분리\" style=\"position:relative;\"><a href=\"#%ED%99%98%EA%B2%BD-%EB%B6%84%EB%A6%AC\" aria-label=\"환경 분리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>환경 분리</h4>\n<p>개발 환경에 따라 설정 값을 다르게 하여 로딩한다.</p>\n<p>spring 은 프로필이라는 개념을 지원하여</p>\n<p>propeties , yml 파일에 설정 값을 넣으면 해당 프로필을 사용한다고 판단한다.</p>\n<p>나는 yml 을 사용하였다.</p>\n<p>프로필 작성 규칙</p>\n<p>application-{profile}.yml</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 611px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/9b62f0ea102689617b228e165bbdf03e/a91ec/img_16.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 72.39583333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB8klEQVR42oVU2ZLTMBDMz1BLHEe25CuOj/iQj5wsy0JlWQqK//+IpiUTWKjd5KFrRvJMT2uk8axqehi03Q79eMTh9EB8xOn+82//AacPj9D9Dpu6wyX+LcwavYVBPx4w7O7x7fwJT+cznp5/4vz1Ox6/PNP/gf3xgQkDLvFvYbb0AkxQ1s5dH2WlUWw0sqKmKo0oyeAKBeGH+Bv/OmaO6+GCxdLHe8dFuWnQ6pEVByrfY5XmeHfn4G7u4mX8a5gZkpeYLwTVtcjK2mKdb1igteR52TDGFJb4P++CfwhdIUm4JIG2CnVHhcMW+/0R43aPuumwYEGHMY4rbhNasIdu4EOuE4iogBcXtLn1BX0vWkOlNbwwtbE3CZ2FB5XHKNoWUTEgzDWCdY0ga0hUwU8KKK6FiuE4S6v2OiGrilCRIIVclVCEsTKdrFFmieNs+k5/6usVhXIdI29ahMVI4o5JRl1LcnPUjAob+GyBObqxC/caIT+KKCDZigoUkxTVBSQJrPVjrhOzH7CfEioLIKS0J7uqMKsreGsJL5W8DCKZrCvZktif9uw+87wbt7yMFOIyg9Y7Pp1ppDRnvWlHFHyLVc3Zp28mqR8OUGFCIeLKLWcxSq0xbI/8KYzY8P01urdjmOUVqrazflnxwfOt+ir8M2m/AGE9y4XkR4sHAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/9b62f0ea102689617b228e165bbdf03e/a59e9/img_16.webp 192w,\n/static/9b62f0ea102689617b228e165bbdf03e/0ca9f/img_16.webp 384w,\n/static/9b62f0ea102689617b228e165bbdf03e/8dd45/img_16.webp 611w\"\n              sizes=\"(max-width: 611px) 100vw, 611px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/9b62f0ea102689617b228e165bbdf03e/3b721/img_16.png 192w,\n/static/9b62f0ea102689617b228e165bbdf03e/66595/img_16.png 384w,\n/static/9b62f0ea102689617b228e165bbdf03e/a91ec/img_16.png 611w\"\n            sizes=\"(max-width: 611px) 100vw, 611px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/9b62f0ea102689617b228e165bbdf03e/a91ec/img_16.png\"\n            alt=\"img_16.png\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>로컬에서 개발하고 테스트하는 환경인 local 과 배포 후 운영 환경 전에 테스트 해볼 dev , 그리고 운영 환경인 prod 로\n분리 하였다.</p>\n<p>application.yml</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">spring</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">profiles</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">active</span><span class=\"token punctuation\">:</span> local</code></pre></div>\n<p>application-local.yml</p>\n<p>로컬 개발은 In Memory DB 인 H2 데이터 베이스를 사용 할 것이고,\n개발한 것을 바로 테스트 코드를 작성하여 테스트 할 수 있게\nJPA ddl 속성을 create 로 하였다.</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">management</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">endpoints</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">web</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">exposure</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">include</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'*'</span>\n        <span class=\"token key atrule\">exclude</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'cache'</span>\n  <span class=\"token key atrule\">endpoint</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">health</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">show-details</span><span class=\"token punctuation\">:</span> always\n\n<span class=\"token key atrule\">spring</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">datasource</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">driver-class-name</span><span class=\"token punctuation\">:</span> org.h2.Driver\n    <span class=\"token key atrule\">url</span><span class=\"token punctuation\">:</span> jdbc<span class=\"token punctuation\">:</span>h2<span class=\"token punctuation\">:</span>~/test;\n    <span class=\"token key atrule\">username</span><span class=\"token punctuation\">:</span> sa\n    <span class=\"token key atrule\">password</span><span class=\"token punctuation\">:</span>\n\n  <span class=\"token key atrule\">jpa</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">hibernate</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">ddl-auto</span><span class=\"token punctuation\">:</span> create\n    <span class=\"token key atrule\">show-sql</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n    <span class=\"token key atrule\">properties</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">hibernate</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">format_sql</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></code></pre></div>\n<p>그리고 개발 환경은 실제 운영환경과 동일한 환경이기 때문에 Mysql DB 를 사용할 것이고</p>\n<p>DB 테이블이 날아가면 안되기 때문에 JPA ddl 속성은 validate 로 지정하였다.</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">server</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">port</span><span class=\"token punctuation\">:</span> <span class=\"token number\">8080</span>\n\n<span class=\"token key atrule\">spring</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">application</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> hanghae<span class=\"token punctuation\">-</span>plus<span class=\"token punctuation\">-</span>dev\n\n  <span class=\"token key atrule\">datasource</span><span class=\"token punctuation\">:</span>\n   <span class=\"token key atrule\">driver-class-name</span><span class=\"token punctuation\">:</span> com.mysql.cj.jdbc.Driver\n   <span class=\"token key atrule\">url</span><span class=\"token punctuation\">:</span> jdbc<span class=\"token punctuation\">:</span>mysql<span class=\"token punctuation\">:</span>//localhost<span class=\"token punctuation\">:</span>3306/hanghae<span class=\"token punctuation\">-</span>plus<span class=\"token punctuation\">?</span>serverTimezone=Asia/Seoul\n    <span class=\"token key atrule\">username</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># 유저 네임</span>\n    <span class=\"token key atrule\">password</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># 비밀 번호</span>\n\n  <span class=\"token key atrule\">jpa</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">hibernate</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">ddl-auto</span><span class=\"token punctuation\">:</span> validate\n    <span class=\"token key atrule\">show-sql</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n    <span class=\"token key atrule\">properties</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">hibernate</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">format_sql</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n</code></pre></div>\n<h2 id=\"step02-빌드-환경-구축\" style=\"position:relative;\"><a href=\"#step02-%EB%B9%8C%EB%93%9C-%ED%99%98%EA%B2%BD-%EA%B5%AC%EC%B6%95\" aria-label=\"step02 빌드 환경 구축 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>STEP02 빌드 환경 구축</h2>\n<p><code class=\"language-text\">docker</code> or <code class=\"language-text\">docker-compose</code> 등 컨테이너 기술을 활용해\n이미지를 빌드, 배포해보자</p>\n<h3 id=\"빌드란\" style=\"position:relative;\"><a href=\"#%EB%B9%8C%EB%93%9C%EB%9E%80\" aria-label=\"빌드란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>빌드란?</h3>\n<blockquote>\n<p>소스코드 파일을 실행가능한 소프트웨어 산출물로 만드는 일련의 과정</p>\n</blockquote>\n<p>빌드의 산출물</p>\n<ul>\n<li>jar\n<ul>\n<li>java 어플리케이션이 동작할 수 있도록 자바 프로젝트를 압축한 파일</li>\n<li>Class (Java 리소스 , 속성 파일) , 라이브러리 파일을 포함함</li>\n<li>JRE(Java Runtime Environment) 만 있어도 실행 가능함</li>\n</ul>\n</li>\n<li>war\n<ul>\n<li>웹 애플리케이션을 압축하고 배포하는 데 사용되는 파일 형태</li>\n<li>웹 관련 자원을 포함함 (JSP , Servlet , JAR , Class ,XML , HTML , Javascript)</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"jar-vs-war\" style=\"position:relative;\"><a href=\"#jar-vs-war\" aria-label=\"jar vs war permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>jar vs war</h3>\n<p>스프링부트 는 내장 톰캣을 포함하고 있기 때문에 간단하게 JAR 배포만으로 실행이 가능하다.</p>\n<p>스프링 부트에서 JSP를 지양하는데 JAR 에서 JSP를 사용할 수 없다.</p>\n<p>JSP 를 사용하여 화면을 구성해야 하거나 or 외장 WAS를 이용할 계획이 아니라면\njar 를 사용하면 된다.</p>\n<p>jar 파일은 java -jar 프로젝트네임.jar 명령어로 실행 한다.</p>\n<h3 id=\"배포\" style=\"position:relative;\"><a href=\"#%EB%B0%B0%ED%8F%AC\" aria-label=\"배포 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>배포</h3>\n<blockquote>\n<p>빌드의 결과물을 사용자가 접근할 수 있는 환경에 배치하는 것</p>\n</blockquote>\n<h2 id=\"도커\" style=\"position:relative;\"><a href=\"#%EB%8F%84%EC%BB%A4\" aria-label=\"도커 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>도커</h2>\n<blockquote>\n<p>컨테이너 기반의 오픈소스 가상화 플랫폼</p>\n</blockquote>\n<ul>\n<li>플랫폼에 상관없이 Application 을 실행할 수 있는 기술</li>\n<li>컨테이너 기술로 컨테이너를 생성하고 관리하기 위한 도구이다.</li>\n<li>소프트웨어 개발 에서 컨테이너는 표준화된 소프트웨어 유닛이다.</li>\n<li>기본적으로 코드 패키지로, 코드를 실행하는 데 필요한 종속성과 도구가 포함되어 있다.</li>\n</ul>\n<h3 id=\"도커를-사용하는-이유는\" style=\"position:relative;\"><a href=\"#%EB%8F%84%EC%BB%A4%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%98%EB%8A%94-%EC%9D%B4%EC%9C%A0%EB%8A%94\" aria-label=\"도커를 사용하는 이유는 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>도커를 사용하는 이유는?</h3>\n<p>애플리케이션을 환경에 구애 받지 않고 실행할 수 있다는 장점 때문에</p>\n<p>※\ndocker – help 를 사용하면 여러 가지 명령어를 볼 수 있다.</p>\n<h3 id=\"도커-이미지\" style=\"position:relative;\"><a href=\"#%EB%8F%84%EC%BB%A4-%EC%9D%B4%EB%AF%B8%EC%A7%80\" aria-label=\"도커 이미지 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>도커 이미지</h3>\n<blockquote>\n<p>서비스 운영에 필요한 서버 프로그램 , 소스코드 및 라이브러리, 컴파일된 실행 파일을 묶는 형태</p>\n</blockquote>\n<ul>\n<li>하나의 이미지는 여러 컨테이너를 생성할 수 있고, 컨테이너가 삭제되더라도 이미지는 변하지 않고 그대로 남아 있다.</li>\n<li>Dockerfile 이라는 파일로 이미지를 만든다. Dockerfile 에는 소스와 함께 의존성 패키지 등 사용했던 설정 파일을 버전 관리하기 쉽도록 명시 된다.</li>\n</ul>\n<h3 id=\"도커-컨테이너\" style=\"position:relative;\"><a href=\"#%EB%8F%84%EC%BB%A4-%EC%BB%A8%ED%85%8C%EC%9D%B4%EB%84%88\" aria-label=\"도커 컨테이너 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>도커 컨테이너</h3>\n<blockquote>\n<p>이미지를 실행한 상태로, 응용프로그램의 종속성과 함께 응용프로그램 자체를 패키징 or 캡슐화하여 격리된 공간에서\n프로세스를 동작시키는 기술이다.</p>\n</blockquote>\n<ul>\n<li>docker ps : 실행 중인 모든 컨테이너를 보여준다.</li>\n<li>docker ps -a : 중지된 컨테이너를 포함하여 과거 모든 컨테이너틀 보여준다.</li>\n<li>docker ps –help : docker ps 에 사용 가능한 모든 구성 옵션을 볼 수 있다.</li>\n<li>docker run : 이미지를 기반으로 새 컨테이너를 만든다.</li>\n</ul>\n<h3 id=\"dockerfile\" style=\"position:relative;\"><a href=\"#dockerfile\" aria-label=\"dockerfile permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Dockerfile</h3>\n<p><code class=\"language-text\">docker build </code> 명령어를 통해서 Docker 가 Dockerfile 을 읽어서 자동으로\n도커 이미지를 빌드한다.</p>\n<ul>\n<li>Dockerfile 은 DockerImage 를 생성하기 위한 스크립트(설정 파일) 이다.</li>\n<li>Dockerfile 은 최상위 루트 프로젝트 경로에 위치한다. 파일 이름은 Dockerfile 이라고 저장해야 한다.</li>\n<li>Dockerfile 에 정의한 순서대로 읽어서 Docker 데몬에 해당 명령어를 실행한다.</li>\n<li><code class=\"language-text\">FROM</code> 키워드로 시작해야 한다.</li>\n</ul>\n<h3 id=\"레이어-시스템\" style=\"position:relative;\"><a href=\"#%EB%A0%88%EC%9D%B4%EC%96%B4-%EC%8B%9C%EC%8A%A4%ED%85%9C\" aria-label=\"레이어 시스템 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>레이어 시스템</h3>\n<p>도커파일을 만들 때 레이어 시스템을 사용하는 데 명령어 당 한줄 씩 레이어라고 칭한다.\n맨 처음 이미지 빌드하는 경우 모든 레이어가 다 호출되지만, 그 다음 부터는\n변경된 것만 파악하여 빌드를 하게 되는데 이때 cache 메모리를 많이 잡아 먹게 된다.\n이때 속도 개선을 하게 위해서는 변경되는 레이어를 아래에 두어야 한다.\n변경된 것을 파악한 시점 부터 모두 재빌드 하게 된다.</p>\n<p>예를 들어 1<del>5 레이어로 구성된 dockerfile 이 있다고 하고,\n3번째 레이어에서 변경된 것이 파악이 되면 1</del>2 번째 까지는 다시 빌드하지 않고\nCache에 저장되어 있는 상태를 그대로 사용하고 3~끝까지는 다시 image 를 만든다.</p>\n<h3 id=\"명령어\" style=\"position:relative;\"><a href=\"#%EB%AA%85%EB%A0%B9%EC%96%B4\" aria-label=\"명령어 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>명령어</h3>\n<h4 id=\"from\" style=\"position:relative;\"><a href=\"#from\" aria-label=\"from permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">FROM</code></h4>\n<p><a href=\"https://docs.docker.com/engine/reference/builder/#from\" target=\"_blank\" rel=\"nofollow\">https://docs.docker.com/engine/reference/builder/#from</a></p>\n<p>베이스 도커 이미지를 지정한다.</p>\n<p>어떤 이미지를 기반으로 새로운 이미지를 생성할 것인지를 나타낸다.</p>\n<p>보통 OS 나 프로그래밍 언어 이미지를 지정한다.</p>\n<h4 id=\"label\" style=\"position:relative;\"><a href=\"#label\" aria-label=\"label permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">LABEL</code></h4>\n<p>이미지에 레이블을 추가하여 프로젝트별 이미지 구성, 라이센스 정보 기록, 자동화 정보 등\n기타 여러가지 정보를 기록할 수 있다. 각 레이블은 LABEL 로 시작하고,\n하나 이상의 키-값 쌍으로 추가하면 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"dockerfile\"><pre class=\"language-dockerfile\"><code class=\"language-dockerfile\"><span class=\"token comment\"># Set one or more individual labels</span>\n<span class=\"token instruction\"><span class=\"token keyword\">LABEL</span> com.example.version=<span class=\"token string\">\"0.0.1-beta\"</span></span>\n<span class=\"token instruction\"><span class=\"token keyword\">LABEL</span> vendor1=<span class=\"token string\">\"ACME Incorporated\"</span></span>\n<span class=\"token instruction\"><span class=\"token keyword\">LABEL</span> vendor2=ZENITH\\ Incorporated</span>\n<span class=\"token instruction\"><span class=\"token keyword\">LABEL</span> com.example.release-date=<span class=\"token string\">\"2023-12-05\"</span></span>\n<span class=\"token instruction\"><span class=\"token keyword\">LABEL</span> com.example.version.is-production=<span class=\"token string\">\"\"</span></span></code></pre></div>\n<h4 id=\"workdir\" style=\"position:relative;\"><a href=\"#workdir\" aria-label=\"workdir permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">WORKDIR</code></h4>\n<p>현재 작업 폴더를 지정한다. 리눅스 cd 커맨드를 떠올리면 된다.</p>\n<p>명확성 그리고 신뢰성을 위해 WORKDIR 은 항상 절대 경로를 사용해야 한다.</p>\n<h4 id=\"arg\" style=\"position:relative;\"><a href=\"#arg\" aria-label=\"arg permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">ARG</code></h4>\n<p>docker build 커맨드로 docker image 를 빌드할 때 설정할 수 있는 옵션들을\n지정해 준다.</p>\n<h4 id=\"run\" style=\"position:relative;\"><a href=\"#run\" aria-label=\"run permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">RUN</code></h4>\n<p>이미지 생성 시 특정 명령어를 실행한다.</p>\n<p>길거나 복잡한 RUN 구문은 백슬래시를 활용하여 여러 줄로 분할하는 것이 Dockerfile 관리에 좋다.</p>\n<p>RUN 에서 자주 사용되는 명령어는 <code class=\"language-text\">apt-get</code> 이다. <code class=\"language-text\">RUN apt-get</code> 은\n패키지를 설치하는 명령어이기 때문에 몇가지를 고려 해야 한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"dockerfile\"><pre class=\"language-dockerfile\"><code class=\"language-dockerfile\"><span class=\"token instruction\"><span class=\"token keyword\">RUN</span> apt-get update &amp;&amp; apt-get install -y <span class=\"token operator\">\\</span>\n    package-bar <span class=\"token operator\">\\</span>\n    package-baz <span class=\"token operator\">\\</span>\n    package-foo  <span class=\"token operator\">\\</span>\n    &amp;&amp; rm -rf /var/lib/apt/lists/*</span></code></pre></div>\n<h4 id=\"env\" style=\"position:relative;\"><a href=\"#env\" aria-label=\"env permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">ENV</code></h4>\n<p>환경 변수를 지정할 때 사용된다.</p>\n<h4 id=\"add\" style=\"position:relative;\"><a href=\"#add\" aria-label=\"add permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">ADD</code></h4>\n<p>이미지에 호스트에 존재하는 파일을 더한다.\n(build 명령 중간에 호스트의 파일 시스템으로부터 파일을 가져온다.)</p>\n<p>파일과 디렉토리를 호스트에서 지정한 도커 이미지 디렉토리 안으로 복사 한다.\n만약 디렉토리가 없다면 새로 생성해서 복사한다.</p>\n<p>디렉토리를 ADD 하려면 끝이 ”/“로 끝나야 한다.</p>\n<h4 id=\"copy\" style=\"position:relative;\"><a href=\"#copy\" aria-label=\"copy permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">COPY</code></h4>\n<p>ADD 와 기본적으로 동일하나 URL 지정이 불가하며 압축파일을 자동으로\n풀어주지 않는다.</p>\n<h4 id=\"cmd\" style=\"position:relative;\"><a href=\"#cmd\" aria-label=\"cmd permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">CMD</code></h4>\n<p>CMD 는 나열되어 있는 인수와 함께, 이미지에 포함되어 있는\n소프트웨어를 실행하는 데 사용된다. CMD는 거의 대부분 항상</p>\n<p><code class=\"language-text\">[\"실행 파일\", \"param1\" , \"param2\"]</code> 와 같은 형태로 사용되어야 한다.</p>\n<h4 id=\"expose\" style=\"position:relative;\"><a href=\"#expose\" aria-label=\"expose permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">EXPOSE</code></h4>\n<p>‘EXPOSE’ 는 컨테이너가 연결을 받는 포트를 나타낸다.\n따라서 애플리케이션에서 공통으로 사용되는 기존 포트를 사용해야 한다.</p>\n<h3 id=\"실습\" style=\"position:relative;\"><a href=\"#%EC%8B%A4%EC%8A%B5\" aria-label=\"실습 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>실습</h3>\n<p>Dockerfile 생성</p>\n<div class=\"gatsby-highlight\" data-language=\"dockerfile\"><pre class=\"language-dockerfile\"><code class=\"language-dockerfile\"><span class=\"token instruction\"><span class=\"token keyword\">FROM</span> openjdk:17</span>\n\n<span class=\"token instruction\"><span class=\"token keyword\">RUN</span> mkdir /app</span>\n\n<span class=\"token instruction\"><span class=\"token keyword\">COPY</span> build/libs/hanghae-plus-0.0.1-SNAPSHOT.jar  /app/app.jar</span>\n\n<span class=\"token instruction\"><span class=\"token keyword\">WORKDIR</span> /app</span>\n\n\n<span class=\"token instruction\"><span class=\"token keyword\">CMD</span> [<span class=\"token string\">\"java\"</span>, <span class=\"token string\">\"-jar\"</span>, <span class=\"token string\">\"app.jar\"</span>]</span></code></pre></div>\n<p>빌드 하기</p>\n<p>gradle 을 사용하기 때문에</p>\n<p>프로젝트 루트 경로에 ./gradle build 명령어 입력</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/33441647a959270e2621166164c4da7d/d3b48/img_5.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 82.8125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsTAAALEwEAmpwYAAACNklEQVR42o2Ta5OaMBSG/SFdlauAQAjhGi4irq7bbcduO7P//5+8PcmqrdZh+uGZBBIe3pMDs67O8bbr8f3Y4OteYiMF6iyCzGNNUzCNupcn/pWMeajEGhlnWCwtzZKYlWmEvuaoChNZ4oBHHkTsI/0LcYEFV9T9gocQPCGZjaeFCd9dYVZnMQ4Nx3PloKA3T/EooTgnnJPQthzMOmHiW+Hiozbx3MwxZAZ6bqJPp+lozza3SRpiTgmV0LVdzFpa3BYe9tLFnoR7uUQvLHTpNC23MOTOjdBzVkpoYZevcGocdHSOkq6viD9jK6aEnyU7tiqZFjeU8qXgeJMBftZP+FEtcSo/UfP3eoHXeomhMB4IIywNl3A0uuSRSj5IB7/owY98gVNi4sQUlp6/EwcStPcJMxuSgvhrDstZI14zEnJDl/za2BiqOZVtoFXkhp43GR0DNa6daMqXuUmdNnW3ZxX30FcJDkOGQXroSptwNH1FCVIXVbJCeUfBVvQi+nxShiclXJyFMc+xGQ9o+xFhLCh+Aj/kV4LoMX6YIGQCLBEkNHRTtDCM6S+RPZpuRJaXCEJG4uQf1tEtal/EUjCe3QovC2V7RD8e9cNeEJ+Jrqh991IVRq3dCC+LfiTQb19Qyw5ZIVHWLSqibnrIdoOYSruXKqGzCh4L1xGDyEoM4x7b3QEjkZc1yWsapa7iUUJ3ShhQyqp/I+EeA6GSXRJykT9MOC2kLgt51Am7zU6PedXog//fhL8BBkgQYwUUJ+UAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/33441647a959270e2621166164c4da7d/a59e9/img_5.webp 192w,\n/static/33441647a959270e2621166164c4da7d/0ca9f/img_5.webp 384w,\n/static/33441647a959270e2621166164c4da7d/dc9b9/img_5.webp 768w,\n/static/33441647a959270e2621166164c4da7d/e2c2f/img_5.webp 1152w,\n/static/33441647a959270e2621166164c4da7d/f0eed/img_5.webp 1340w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/33441647a959270e2621166164c4da7d/3b721/img_5.png 192w,\n/static/33441647a959270e2621166164c4da7d/66595/img_5.png 384w,\n/static/33441647a959270e2621166164c4da7d/fe486/img_5.png 768w,\n/static/33441647a959270e2621166164c4da7d/d2d74/img_5.png 1152w,\n/static/33441647a959270e2621166164c4da7d/d3b48/img_5.png 1340w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/33441647a959270e2621166164c4da7d/fe486/img_5.png\"\n            alt=\"img_5.png\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>jar 파일이 build/libs 경로에 생성된다.</p>\n<h4 id=\"도커-이미지-빌드\" style=\"position:relative;\"><a href=\"#%EB%8F%84%EC%BB%A4-%EC%9D%B4%EB%AF%B8%EC%A7%80-%EB%B9%8C%EB%93%9C\" aria-label=\"도커 이미지 빌드 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>도커 이미지 빌드</h4>\n<p>docker build -t [dockerHub ID]/[이미지명]:[태그명] [Dockerfile 위치]</p>\n<ul>\n<li>docker build -t hanghae-plus .</li>\n<li>hanghae-plus 라는 이름으로 도커 이미지를 생성한다.</li>\n<li>마지막 . 은 현 위치라는 뜻이다.</li>\n</ul>\n<h4 id=\"이미지-실행\" style=\"position:relative;\"><a href=\"#%EC%9D%B4%EB%AF%B8%EC%A7%80-%EC%8B%A4%ED%96%89\" aria-label=\"이미지 실행 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>이미지 실행</h4>\n<p>이미지를 실행하는 명령어는 docker run - 이미지 이름이다.</p>\n<p>docker run hanghae-plus</p>\n<p>나중에 배포할 서버에서 도커 이미지를 가져오고 실행하면 될 것 같다.</p>\n<h3 id=\"github-actions\" style=\"position:relative;\"><a href=\"#github-actions\" aria-label=\"github actions permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>GitHub Actions</h3>\n<blockquote>\n<p>깃허브에서 제공하는 CI 와 CD 를 위한 서비스</p>\n</blockquote>\n<h4 id=\"ci-continuous-integration\" style=\"position:relative;\"><a href=\"#ci-continuous-integration\" aria-label=\"ci continuous integration permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>CI (Continuous Integration)</h4>\n<blockquote>\n<p>지속적 통합이라는 뜻으로 개발을 진행하면서도 품질을 관리할 수 있도록\n여러 명이 하나의 코드에 대해서 수정을 진행해도 지속적으로 통합하면서 관리할 수 있음을 의미한다.</p>\n</blockquote>\n<p>마틴 파울러가 제시하는 CI의 4가지 규칙</p>\n<ul>\n<li>모든 소스코드가 살아 있고 누구든 현재의 소스에 접근할 수 있는 단일 지점을 유지할 것</li>\n<li>빌드 프로세스를 자동화해서 누구든 소스로부터 시스템을 빌드할 수 있게 할 것</li>\n<li>테스팅을 자동화해서 언제든지 시스템에 대한 건전한 테스트 수트를 실행할 수 있게 할 것</li>\n<li>누구든 현재 실행 파일을 얻으면 지금까지 가장 완전한 실행 파일을 얻었다는 확신을 하게 할 것</li>\n</ul>\n<h4 id=\"cd-continuous-deployment\" style=\"position:relative;\"><a href=\"#cd-continuous-deployment\" aria-label=\"cd continuous deployment permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>CD (Continuous Deployment)</h4>\n<blockquote>\n<p>지속적 배포라는 뜻으로 빌드의 결과물을 프로덕션으로 릴리스하는 작업을 자동화하는 것을\n의미한다.</p>\n</blockquote>\n<p>GitHub Actions 를 사용하면 자동으로 코드 저장소에서 어떤 이벤트를\n발생했을 때 특정 작업이 일어나게 하거나 주기적으로 어떤 작업들을 반복해서\n실행시킬 수도 있다.</p>\n<h4 id=\"핵심-개념\" style=\"position:relative;\"><a href=\"#%ED%95%B5%EC%8B%AC-%EA%B0%9C%EB%85%90\" aria-label=\"핵심 개념 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>핵심 개념</h4>\n<p><code class=\"language-text\">Workflows</code></p>\n<ul>\n<li>자동화 해놓은 작업 과정</li>\n<li>워크플로우는 코드 저장소 내에서 .github/workflows 폴더 아래 yml 파일로 설정한다.</li>\n<li>하나의 코드 저장소에 여러 개의 워크 플로우. 즉 여러 개의 yml 파일을 생성할 수 있다</li>\n<li>on 속성을 통해서 해당 워크플로우가 언제 실행 되는지를 정의한다,</li>\n</ul>\n<p>예시 1) - main 브랜치에 push 이벤트가 발생할 때 마다 워크플로우 실행</p>\n<div class=\"gatsby-highlight\" data-language=\"properties\"><pre class=\"language-properties\"><code class=\"language-properties\"><span class=\"token key attr-name\">on</span><span class=\"token punctuation\">:</span>\n<span class=\"token key attr-name\">  push</span><span class=\"token punctuation\">:</span>\n<span class=\"token key attr-name\">    branches</span><span class=\"token punctuation\">:</span> <span class=\"token value attr-value\">[main]</span>\n\n<span class=\"token key attr-name\">jobs</span><span class=\"token punctuation\">:</span>\n<span class=\"token comment\">  # ...(생략)...</span></code></pre></div>\n<p>예시 2) - 매일 자정에 워크플로우 실행</p>\n<div class=\"gatsby-highlight\" data-language=\"properties\"><pre class=\"language-properties\"><code class=\"language-properties\"><span class=\"token key attr-name\">on</span><span class=\"token punctuation\">:</span>\n<span class=\"token key attr-name\">  schedule</span><span class=\"token punctuation\">:</span>\n<span class=\"token key attr-name\">    -</span> <span class=\"token value attr-value\">cron: \"0 0 * * *\"</span>\n\n<span class=\"token key attr-name\">jobs</span><span class=\"token punctuation\">:</span>\n<span class=\"token comment\">  # ...(생략)...</span></code></pre></div>\n<p><code class=\"language-text\">Jobs</code></p>\n<ul>\n<li>GitHub Actions 에서 작업(Job) 이란 독립된 가상 머신 또는 컨테이너에서 돌아가는 하나의 처리 단위</li>\n<li>하나의 워크플로우는 여러 개의 작업으로 구성되며 적어도 하나의 작업은 있어야 한다.</li>\n<li>모든 작업은 기본적으로 동시에 실행되며 필요 시 작업 간에 의존 관계를 설정하여 작업이 실행되는 순서를 제어할 수도 있다.</li>\n<li>작업은 워크프로우 yml 파일 내에서 jobs 속성을 사용하며 작업 식별자와 작업 세부 내용 간의 맵핑 형태로 명시가 된다.</li>\n</ul>\n<p>예시 ) job1, job2, job3 이라는 작업 ID 를 가진 3개의 작업</p>\n<div class=\"gatsby-highlight\" data-language=\"properties\"><pre class=\"language-properties\"><code class=\"language-properties\"><span class=\"token key attr-name\">jobs</span><span class=\"token punctuation\">:</span>\n<span class=\"token key attr-name\">  job1</span><span class=\"token punctuation\">:</span>\n<span class=\"token comment\">    # job1에 대한 세부 내용</span>\n<span class=\"token key attr-name\">  job2</span><span class=\"token punctuation\">:</span>\n<span class=\"token comment\">    # job2에 대한 세부 내용</span>\n<span class=\"token key attr-name\">  job3</span><span class=\"token punctuation\">:</span>\n<span class=\"token comment\">    # job3에 대한 세부 내용</span></code></pre></div>\n<ul>\n<li>작업의 세부 내용으로 여러 가지 내용을 명시할 수 있다. runs-on 명령어는 필수로 들어가야 한다.</li>\n<li>runs-on 은 실행 환경을 지정하는 명령어다.</li>\n</ul>\n<p>예시 ) 많이 사용되는 우분투의 최신 실행 환경에서 해당 작업 실행</p>\n<div class=\"gatsby-highlight\" data-language=\"properties\"><pre class=\"language-properties\"><code class=\"language-properties\"><span class=\"token key attr-name\">jobs</span><span class=\"token punctuation\">:</span>\n<span class=\"token key attr-name\">  job1</span><span class=\"token punctuation\">:</span>\n<span class=\"token key attr-name\">    runs-on</span><span class=\"token punctuation\">:</span> <span class=\"token value attr-value\">ubuntu-latest</span>\n<span class=\"token key attr-name\">    steps</span><span class=\"token punctuation\">:</span>\n<span class=\"token comment\">      # ...(생략)...</span></code></pre></div>\n<p><code class=\"language-text\">Steps</code></p>\n<ul>\n<li>단순한 작업이 아닌 이상 하나의 작업은 여러 단계의 명령을 순차적으로 실행한다.</li>\n<li>GitHub Actions 에서는 각 작업이 하나 이상의 단계로 모델링 된다.</li>\n<li>작업 단계는 단순한 command 나 script 가 될 수도 있고 action 이라는 복접한 명령일 수도 있다.</li>\n<li>command 나 script 를 실행할 때는 run 속성을 사용하며, action 을 사용할 때는 uses 속성을 사용한다.</li>\n<li>워크플로우 파일내에서 작업 단계를 명시해줄 때는 yml 문법에서 시퀀스 타입을 사용하기 때문에 각 단계 앞에서 반드시 ’-’ 를 붙여줘야 한다.</li>\n</ul>\n<p><code class=\"language-text\">Actions</code></p>\n<ul>\n<li>GitHub Actions 에서 빈번하게 필요한 반복 단계를 재사용하기 용이하도록 제공되는 일종의 작업 공유 매커니즘</li>\n</ul>\n<h4 id=\"실습-1\" style=\"position:relative;\"><a href=\"#%EC%8B%A4%EC%8A%B5-1\" aria-label=\"실습 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>실습</h4>\n<p>최상위 루트에 .github / workflow / [이름].yml 파일 생성 하면 된다.</p>\n<p>근데 이 작업을 직접 안하고</p>\n<p>github repository 에서 Actions 탭에 들어가서</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/645f49de0aed998f0c502b9ef6bf0599/671b0/img_6.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 51.041666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABO0lEQVR42n1S2XKEMAzj//9zH7qwsOROnKDKAdq9Ws9oPHFi2bIzTPMd423BslqsxsFZDxcSfMjwcUc/04dUnqCx1QUYH3/eDSIVIgL1JfPhamCshT2wGtORUkbbNrT2gKdz6xjwYikljOOEcZpxpb+OI6ZpgvdhL9qL/2Ij6aMN2wuhPrKU4WJBzNKrn6a5SnDik711WNjhfLnAfn1R/opKwlr3sajvINcZU1Pp9SjwRqhzWOYFMcQuUbuMMVH2DcZYOOcRuwqHeblDCu9LQantM6FKCSRoh6zChMwEzwKn1FalL0nRc3QhR7cfOzTctLWOJAGVDwsJNaYS+zYpN/BOY7rEIg3yV4eacKMUJVOikjMyoV9HCXXLVTIle8ZsjyV+t/Jfhzq/c7tdImO1tYdN7+czpuMR2Tv8BnRKEWkcLPh6AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/645f49de0aed998f0c502b9ef6bf0599/a59e9/img_6.webp 192w,\n/static/645f49de0aed998f0c502b9ef6bf0599/0ca9f/img_6.webp 384w,\n/static/645f49de0aed998f0c502b9ef6bf0599/dc9b9/img_6.webp 768w,\n/static/645f49de0aed998f0c502b9ef6bf0599/e2c2f/img_6.webp 1152w,\n/static/645f49de0aed998f0c502b9ef6bf0599/f3efb/img_6.webp 1536w,\n/static/645f49de0aed998f0c502b9ef6bf0599/e7e3c/img_6.webp 1627w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/645f49de0aed998f0c502b9ef6bf0599/3b721/img_6.png 192w,\n/static/645f49de0aed998f0c502b9ef6bf0599/66595/img_6.png 384w,\n/static/645f49de0aed998f0c502b9ef6bf0599/fe486/img_6.png 768w,\n/static/645f49de0aed998f0c502b9ef6bf0599/d2d74/img_6.png 1152w,\n/static/645f49de0aed998f0c502b9ef6bf0599/e8464/img_6.png 1536w,\n/static/645f49de0aed998f0c502b9ef6bf0599/671b0/img_6.png 1627w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/645f49de0aed998f0c502b9ef6bf0599/fe486/img_6.png\"\n            alt=\"img_6.png\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>여기서 선택하여 생성할 수 있다.</p>\n<p>Docker 를 사용하기 때문에 Docker Image 로 만들었다.</p>\n<p>생성된 yml 파일은 다음과 같다</p>\n<div class=\"gatsby-highlight\" data-language=\"properties\"><pre class=\"language-properties\"><code class=\"language-properties\"><span class=\"token key attr-name\">name</span><span class=\"token punctuation\">:</span> <span class=\"token value attr-value\">Docker Image CI</span>\n\n<span class=\"token key attr-name\">on</span><span class=\"token punctuation\">:</span>\n<span class=\"token key attr-name\">  push</span><span class=\"token punctuation\">:</span>\n<span class=\"token key attr-name\">    branches</span><span class=\"token punctuation\">:</span> <span class=\"token value attr-value\">[ \"master\" ]</span>\n<span class=\"token key attr-name\">  pull_request</span><span class=\"token punctuation\">:</span>\n<span class=\"token key attr-name\">    branches</span><span class=\"token punctuation\">:</span> <span class=\"token value attr-value\">[ \"master\" ]</span>\n\n<span class=\"token key attr-name\">jobs</span><span class=\"token punctuation\">:</span>\n\n<span class=\"token key attr-name\">  build</span><span class=\"token punctuation\">:</span>\n\n<span class=\"token key attr-name\">    runs-on</span><span class=\"token punctuation\">:</span> <span class=\"token value attr-value\">ubuntu-latest</span>\n\n<span class=\"token key attr-name\">    steps</span><span class=\"token punctuation\">:</span>\n<span class=\"token key attr-name\">    -</span> <span class=\"token value attr-value\">uses: actions/checkout@v3</span>\n<span class=\"token key attr-name\">    -</span> <span class=\"token value attr-value\">name: Build the Docker image</span>\n<span class=\"token key attr-name\">      run</span><span class=\"token punctuation\">:</span> <span class=\"token value attr-value\">docker build . --file Dockerfile --tag my-image-name:$(date +%s)</span>\n</code></pre></div>\n<p>그리고 아래 과정을 겪으며 yml 최종 변경 하였다.</p>\n<ul>\n<li>build 과정 에서 경로 관련 에러가 발생 하여 ./gradlw build 명령어 추가</li>\n<li>access denied 에러가 발생 하여 chomd +x gralew 추가</li>\n<li>버전 관련 에러가 발생 하여 actions/set-up java 명령어를 추가</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"properties\"><pre class=\"language-properties\"><code class=\"language-properties\"><span class=\"token key attr-name\">name</span><span class=\"token punctuation\">:</span> <span class=\"token value attr-value\">hanghae-plus-actions</span>\n\n<span class=\"token key attr-name\">on</span><span class=\"token punctuation\">:</span>\n<span class=\"token key attr-name\">  push</span><span class=\"token punctuation\">:</span>\n<span class=\"token key attr-name\">    branches</span><span class=\"token punctuation\">:</span> <span class=\"token value attr-value\">[ \"master\" ]</span>\n<span class=\"token key attr-name\">  pull_request</span><span class=\"token punctuation\">:</span>\n<span class=\"token key attr-name\">    branches</span><span class=\"token punctuation\">:</span> <span class=\"token value attr-value\">[ \"master\" ]</span>\n\n<span class=\"token key attr-name\">jobs</span><span class=\"token punctuation\">:</span>\n<span class=\"token key attr-name\">  build</span><span class=\"token punctuation\">:</span>\n<span class=\"token key attr-name\">    runs-on</span><span class=\"token punctuation\">:</span> <span class=\"token value attr-value\">ubuntu-latest</span>\n\n<span class=\"token key attr-name\">    steps</span><span class=\"token punctuation\">:</span>\n<span class=\"token key attr-name\">    -</span> <span class=\"token value attr-value\">uses: actions/checkout@v3</span>\n<span class=\"token key attr-name\">    -</span> <span class=\"token value attr-value\">name: Set up JDK 17</span>\n<span class=\"token key attr-name\">      uses</span><span class=\"token punctuation\">:</span> <span class=\"token value attr-value\">actions/setup-java@v1</span>\n<span class=\"token key attr-name\">      with</span><span class=\"token punctuation\">:</span>\n<span class=\"token key attr-name\">          java-version</span><span class=\"token punctuation\">:</span> <span class=\"token value attr-value\">17</span>\n<span class=\"token key attr-name\">    -</span> <span class=\"token value attr-value\">name: Grant execute permission for gradlew</span>\n<span class=\"token key attr-name\">      run</span><span class=\"token punctuation\">:</span> <span class=\"token value attr-value\">chmod +x gradlew</span>\n<span class=\"token key attr-name\">    -</span> <span class=\"token value attr-value\">name: Build with Gradle</span>\n<span class=\"token key attr-name\">      run</span><span class=\"token punctuation\">:</span> <span class=\"token value attr-value\">./gradlew build</span>\n<span class=\"token key attr-name\">    -</span> <span class=\"token value attr-value\">name: Build the Docker image</span>\n<span class=\"token key attr-name\">      run</span><span class=\"token punctuation\">:</span> <span class=\"token value attr-value\">docker build -t hanghae-plus .</span></code></pre></div>\n<p>그리고 드디어 빌드에 성공 하였다!!</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ac7b361e6bebe7a7963e36daf0d1a59e/d234e/img_7.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.166666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABPUlEQVR42qWT23LDIAxE/f+/2sYGbEBctyuSOClOn+oZDTEjr86uJkuMEcYY6Flrw19P79f3lDIkpfFd54XWIrzcrIMPAv0dc0FiyVTzXWRviAlReEqCj4JSKpaYBF/rjZQWG8tQXESnVrTWHtXhc0Pl2d6qlILDB2QOUErtXaQkEhpYq2IWzu1DrE8efabIZLuxJzCqwv57DLRcRGDXlXQG67ZhXTeKO+z7zjrg/TEGDMHWz6y0GqlCiINsvCthpaD5vlHM4JunEt6DfllWMKkdE+AYEEIgaXsRVn68WzsI7SM/zWS2HHK/bFqHRS7j2XsKOtJZkjnaPLynYD5tPOvQpfTJcmuD8Jn5sFwY6karumHNzzl3NvwSTFfB2upD8D1DXb27k2l+kZmWD4KaYftAqBG9u1mu/4iO/zw/+Q1hN+eIgu8AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/ac7b361e6bebe7a7963e36daf0d1a59e/a59e9/img_7.webp 192w,\n/static/ac7b361e6bebe7a7963e36daf0d1a59e/0ca9f/img_7.webp 384w,\n/static/ac7b361e6bebe7a7963e36daf0d1a59e/dc9b9/img_7.webp 768w,\n/static/ac7b361e6bebe7a7963e36daf0d1a59e/e2c2f/img_7.webp 1152w,\n/static/ac7b361e6bebe7a7963e36daf0d1a59e/640c8/img_7.webp 1378w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/ac7b361e6bebe7a7963e36daf0d1a59e/3b721/img_7.png 192w,\n/static/ac7b361e6bebe7a7963e36daf0d1a59e/66595/img_7.png 384w,\n/static/ac7b361e6bebe7a7963e36daf0d1a59e/fe486/img_7.png 768w,\n/static/ac7b361e6bebe7a7963e36daf0d1a59e/d2d74/img_7.png 1152w,\n/static/ac7b361e6bebe7a7963e36daf0d1a59e/d234e/img_7.png 1378w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/ac7b361e6bebe7a7963e36daf0d1a59e/fe486/img_7.png\"\n            alt=\"img_7.png\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<h2 id=\"step03-배포-환경-구축\" style=\"position:relative;\"><a href=\"#step03-%EB%B0%B0%ED%8F%AC-%ED%99%98%EA%B2%BD-%EA%B5%AC%EC%B6%95\" aria-label=\"step03 배포 환경 구축 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>STEP03 배포 환경 구축</h2>\n<h3 id=\"ecr\" style=\"position:relative;\"><a href=\"#ecr\" aria-label=\"ecr permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ECR</h3>\n<p>AWS ECR 이란?</p>\n<blockquote>\n<p>AWS 에서 제공하는 Docker Hub 와 비슷한 개념으로, Amazon Elastic Container\nRegistry 의 약자로 안전하고 확장 가능한 신뢰할 수 있는 AWS 관리형 컨테이너\n이미지 레지스트리 서비스</p>\n</blockquote>\n<ul>\n<li>ECR 은 이미지를 가용성과 확장성이 뛰어난 아키텍처에 호스팅하여 사용자는 애플리케이션을 위한 컨테이너를 안정적으로 배포할 수 있다.</li>\n<li>ECR를 사용함으로써 이미지 리포지토리를 직ㅈ버 구축하고 관리할 필요가 없습니다.</li>\n</ul>\n<p>ECR 을 사용하기 전 IAM 계정을 만들자</p>\n<h3 id=\"iam\" style=\"position:relative;\"><a href=\"#iam\" aria-label=\"iam permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>IAM</h3>\n<p>IAM (AWS Identity and Access Management) 이란?</p>\n<blockquote>\n<p>AWS 리소스에 대한 액세스를 안전하게 제어할 수 있는 웹 서비스이다.\nIAM을 사용하여 리소스를 사용하도록 인증 및 권한 부여된 대상을 제어한다.</p>\n</blockquote>\n<p>IAM 의 기능을 정리하자면 누가 , 무엇을 , 어떻게 할 것인지에 대해 인증과 인가를\n제어 하는 서비스이다.</p>\n<p>어떤 유저가 어느 AWS 서비스에 어떠한 요청을 보내면서 인증알 위한 유저의 자격 증명도\n함께 보낸다.\nAWS 서비스에서는 해당 요청을 처리하기 전에 우선 자격 증명을 IAM 에 보낸다.\n그리고 IAM 에서는 해당 자격 증명을 보고 해당 유저가 올바른 유저인지, 유저가\n올바르다면 해당 서비스와 서비스의 기능을 이용해도 되는지 등을 판별한 뒤\n문제가 없다면 서비스 이용을 허용한다.</p>\n<p>사용자 IAM 생성하기</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/afc420a8d54048efb265499baafaa36d/4b033/img_8.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 42.708333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABDUlEQVR42o2SW26EMAxF2f8Cuqt+zX/bqXgzAkIcIOFxa2cayExbqUhHiS/OxXZI3tMCaS6UePu44jPNUFQ1irI6yGVlraybJ35qSdUpkCF0qkeW56ibG9QwoFfKE/aDHmBGEzFiZB41g+TWtpysoTWhbTvM84x937Ftm1+XZWHN+jjGWutzn/VEKhBDD1fiONFGTNPksb/oYhhrEifBTNoqqgazdXDuRA5KeyEOhzURiIm1KTYUmpZnRTwbNgmImXyMZEZSlVTiDWVmZxw4DDWj+h7GmKNNaSG0FTTHM5W5ruvqWb7jO+40JDbq2JDM6BPjRy4n3v8Jv39oOdy2zOe/yO/U0wyVXTC8vuAL1fm3lKJGO/kAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/afc420a8d54048efb265499baafaa36d/a59e9/img_8.webp 192w,\n/static/afc420a8d54048efb265499baafaa36d/0ca9f/img_8.webp 384w,\n/static/afc420a8d54048efb265499baafaa36d/dc9b9/img_8.webp 768w,\n/static/afc420a8d54048efb265499baafaa36d/e2c2f/img_8.webp 1152w,\n/static/afc420a8d54048efb265499baafaa36d/f3efb/img_8.webp 1536w,\n/static/afc420a8d54048efb265499baafaa36d/c25ec/img_8.webp 1797w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/afc420a8d54048efb265499baafaa36d/3b721/img_8.png 192w,\n/static/afc420a8d54048efb265499baafaa36d/66595/img_8.png 384w,\n/static/afc420a8d54048efb265499baafaa36d/fe486/img_8.png 768w,\n/static/afc420a8d54048efb265499baafaa36d/d2d74/img_8.png 1152w,\n/static/afc420a8d54048efb265499baafaa36d/e8464/img_8.png 1536w,\n/static/afc420a8d54048efb265499baafaa36d/4b033/img_8.png 1797w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/afc420a8d54048efb265499baafaa36d/fe486/img_8.png\"\n            alt=\"img_8.png\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>ACCESS_KEY , SECRET_KEY 발급</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d94a9b8f379d2244f60862c22c3cf8bf/d539b/img_9.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 42.708333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABHklEQVR42pWR226EMAxE+f/v6be0D33qql1CIITcyAXErB1aFSSqVZGOcGQzjCdNN2h8EVKN+LjdcBct7p2EcR7WuX/T6GmCo8J5B9F1GEdNDY8QZoR5xszEWOsQAiLVf8EzjTYGxu7qLB7miJxyFYox1cFRT9XxTOd1XbEsyyUxpd1htes9lBDQbVsd5VKQc0YiXD/AUAy+V0haI9GHV7CJ5rj/RMO9lLDkmAUTOeXBSIOFflKhc6HeFbxNFTQ1Qw/vA7quh1KK1tQwFIeztopu24ZnTyn51yELsjMhJKTsa2axrAh5qblydk8FKcfTyp5uMcT9drl233C+fL7C0gajoXf7Cv/+chY01PzBuiPn3pGJYploMzN8woo3PADgWLcMcv/uXAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/d94a9b8f379d2244f60862c22c3cf8bf/a59e9/img_9.webp 192w,\n/static/d94a9b8f379d2244f60862c22c3cf8bf/0ca9f/img_9.webp 384w,\n/static/d94a9b8f379d2244f60862c22c3cf8bf/dc9b9/img_9.webp 768w,\n/static/d94a9b8f379d2244f60862c22c3cf8bf/e2c2f/img_9.webp 1152w,\n/static/d94a9b8f379d2244f60862c22c3cf8bf/db0d4/img_9.webp 1487w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/d94a9b8f379d2244f60862c22c3cf8bf/3b721/img_9.png 192w,\n/static/d94a9b8f379d2244f60862c22c3cf8bf/66595/img_9.png 384w,\n/static/d94a9b8f379d2244f60862c22c3cf8bf/fe486/img_9.png 768w,\n/static/d94a9b8f379d2244f60862c22c3cf8bf/d2d74/img_9.png 1152w,\n/static/d94a9b8f379d2244f60862c22c3cf8bf/d539b/img_9.png 1487w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/d94a9b8f379d2244f60862c22c3cf8bf/fe486/img_9.png\"\n            alt=\"img_9.png\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<h4 id=\"ecr-리포지토리-생성\" style=\"position:relative;\"><a href=\"#ecr-%EB%A6%AC%ED%8F%AC%EC%A7%80%ED%86%A0%EB%A6%AC-%EC%83%9D%EC%84%B1\" aria-label=\"ecr 리포지토리 생성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ECR 리포지토리 생성</h4>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/9efa005eb8ab8f292d576e59ff83ce59/19d94/img_10.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 30.729166666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA40lEQVR42pWPQU4DMQxFc/8DFKkSlAqB4CJMUdkhdsCuDBumEye2k7TSx8kIDRJlweIp9rcdf7u7xxusuwtcd+e42iyx6ha47M7+xep+ge3bA152r3CJj/D7jBKPQAFw+INygh96Ch5Ce7jPccCuf0f/0YMCIXKckQkWhiRpsDK8DUfTWK2mpsUB9LQGPd/CRWaMnjAMI0QEpRyMgpRyQzW1nK1PRJFzblAILVfVVmNbQmbOVSeBFRSlFWqDGHWg4o2qhxrb4vpOJvz0kZkIsV4kDfc9WM/1NDPrJyAjhl+9Nf4CtDW/UDS4n6MAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/9efa005eb8ab8f292d576e59ff83ce59/a59e9/img_10.webp 192w,\n/static/9efa005eb8ab8f292d576e59ff83ce59/0ca9f/img_10.webp 384w,\n/static/9efa005eb8ab8f292d576e59ff83ce59/dc9b9/img_10.webp 768w,\n/static/9efa005eb8ab8f292d576e59ff83ce59/e2c2f/img_10.webp 1152w,\n/static/9efa005eb8ab8f292d576e59ff83ce59/f3efb/img_10.webp 1536w,\n/static/9efa005eb8ab8f292d576e59ff83ce59/a3fe1/img_10.webp 1555w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/9efa005eb8ab8f292d576e59ff83ce59/3b721/img_10.png 192w,\n/static/9efa005eb8ab8f292d576e59ff83ce59/66595/img_10.png 384w,\n/static/9efa005eb8ab8f292d576e59ff83ce59/fe486/img_10.png 768w,\n/static/9efa005eb8ab8f292d576e59ff83ce59/d2d74/img_10.png 1152w,\n/static/9efa005eb8ab8f292d576e59ff83ce59/e8464/img_10.png 1536w,\n/static/9efa005eb8ab8f292d576e59ff83ce59/19d94/img_10.png 1555w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/9efa005eb8ab8f292d576e59ff83ce59/fe486/img_10.png\"\n            alt=\"img_10.png\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>개발 환경과 운영 환경을 분리하기 위해 repository 각각 생성</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b168a0b3422de130ce1a79cd06d908c6/247ba/image.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 57.29166666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAACToAAAk6AGCYwUcAAABX0lEQVR42o2S6XLCMAyEef/Xa4cyNEACubhy2rFjh2wlASnDH5KZnfiQP2tlLfwwoKprBNsdlj8rrNZrbGi8/g0QbLb4+l4ijPZo2naWFt57ASZpikOcIMtzpFkuEF7bhSHNs/lAR8BWKdQE5YOsoijBF7EGcsAxtu8/yljzD7xeC4RhJBnlxyOMMXC9Q0+BLOfcR1lr70BOVSlN1huCayitBWIowD7+cyU1rJtGMmJIRpbDKJK69hSgCf7cm6MJyBMeB0GAnB5GqXvWchmBb7eb1PMpnrPebU+We5pwgO49VD/A+gH8dV2HsqrQELiluIrGRVHgeDrhdD5LEuM4TpqAznkCjgQcUGqH1jgBsl1+sMvl8vhfBcYPx9m/wt6AThZa61F2lP4wClB3RiyzzWcrcawnB1p3sv76TUBN1vhgrQ3KtoM2VsrAeynV9BDH1OgZ4iTBnsbc/Nxu7734B85eUMOz+ZqxAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/b168a0b3422de130ce1a79cd06d908c6/a59e9/image.webp 192w,\n/static/b168a0b3422de130ce1a79cd06d908c6/0ca9f/image.webp 384w,\n/static/b168a0b3422de130ce1a79cd06d908c6/dc9b9/image.webp 768w,\n/static/b168a0b3422de130ce1a79cd06d908c6/e2c2f/image.webp 1152w,\n/static/b168a0b3422de130ce1a79cd06d908c6/f3efb/image.webp 1536w,\n/static/b168a0b3422de130ce1a79cd06d908c6/3eaa4/image.webp 1667w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/b168a0b3422de130ce1a79cd06d908c6/3b721/image.png 192w,\n/static/b168a0b3422de130ce1a79cd06d908c6/66595/image.png 384w,\n/static/b168a0b3422de130ce1a79cd06d908c6/fe486/image.png 768w,\n/static/b168a0b3422de130ce1a79cd06d908c6/d2d74/image.png 1152w,\n/static/b168a0b3422de130ce1a79cd06d908c6/e8464/image.png 1536w,\n/static/b168a0b3422de130ce1a79cd06d908c6/247ba/image.png 1667w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/b168a0b3422de130ce1a79cd06d908c6/fe486/image.png\"\n            alt=\"Alt text\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>Github Repository 의 Secret 이용하기</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b0ab33b9c49d4bee3947dbc4ae0e58bc/ed887/img_11.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 47.39583333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA1ElEQVR42pWS22rDMBBE8/8/1cf+RKAvpSHgGBHddnXxdBRHuHZjiMcMaA06uzv2SVNGtw8RIUaItjohSIJxivE6wgw3+CjIuSCXunKpy/mEP1JViMhSs4kLipQrEhs0T9tnmt21Aoom3O+WF/NcE+4cazaqz4t1xx26BooicO2uB6BkVE5Wa5tnXy+BznsCwwJjNu/qJdATaIxBn+VqB3ycPxl2QXvV89rzP2Dkus19NSsBX+P3I6N3tclQYDml8uNMByC7wEjY+HNBsI7/1pzhUfAvX33HSmkjF2QAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/b0ab33b9c49d4bee3947dbc4ae0e58bc/a59e9/img_11.webp 192w,\n/static/b0ab33b9c49d4bee3947dbc4ae0e58bc/0ca9f/img_11.webp 384w,\n/static/b0ab33b9c49d4bee3947dbc4ae0e58bc/dc9b9/img_11.webp 768w,\n/static/b0ab33b9c49d4bee3947dbc4ae0e58bc/e2c2f/img_11.webp 1152w,\n/static/b0ab33b9c49d4bee3947dbc4ae0e58bc/0e833/img_11.webp 1484w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/b0ab33b9c49d4bee3947dbc4ae0e58bc/3b721/img_11.png 192w,\n/static/b0ab33b9c49d4bee3947dbc4ae0e58bc/66595/img_11.png 384w,\n/static/b0ab33b9c49d4bee3947dbc4ae0e58bc/fe486/img_11.png 768w,\n/static/b0ab33b9c49d4bee3947dbc4ae0e58bc/d2d74/img_11.png 1152w,\n/static/b0ab33b9c49d4bee3947dbc4ae0e58bc/ed887/img_11.png 1484w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/b0ab33b9c49d4bee3947dbc4ae0e58bc/fe486/img_11.png\"\n            alt=\"img_11.png\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>ACCESS_KEY 와 SECRET_KEY 를 감추고</p>\n<p>이후 Github Action yml 파일을 작성할 때 사용하면 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"properties\"><pre class=\"language-properties\"><code class=\"language-properties\"><span class=\"token key attr-name\">name</span><span class=\"token punctuation\">:</span> <span class=\"token value attr-value\">hanghae-plus-actions</span>\n\n<span class=\"token key attr-name\">on</span><span class=\"token punctuation\">:</span>\n<span class=\"token key attr-name\">  push</span><span class=\"token punctuation\">:</span>\n<span class=\"token key attr-name\">    branches</span><span class=\"token punctuation\">:</span> <span class=\"token value attr-value\">[ \"master\" ]</span>\n<span class=\"token key attr-name\">  pull_request</span><span class=\"token punctuation\">:</span>\n<span class=\"token key attr-name\">    branches</span><span class=\"token punctuation\">:</span> <span class=\"token value attr-value\">[ \"master\" ]</span>\n\n<span class=\"token key attr-name\">jobs</span><span class=\"token punctuation\">:</span>\n<span class=\"token key attr-name\">  build</span><span class=\"token punctuation\">:</span>\n<span class=\"token key attr-name\">    runs-on</span><span class=\"token punctuation\">:</span> <span class=\"token value attr-value\">ubuntu-latest</span>\n\n<span class=\"token key attr-name\">    steps</span><span class=\"token punctuation\">:</span>\n<span class=\"token key attr-name\">    -</span> <span class=\"token value attr-value\">uses: actions/checkout@v3</span>\n<span class=\"token key attr-name\">    -</span> <span class=\"token value attr-value\">name: Set up JDK 17</span>\n<span class=\"token key attr-name\">      uses</span><span class=\"token punctuation\">:</span> <span class=\"token value attr-value\">actions/setup-java@v1</span>\n<span class=\"token key attr-name\">      with</span><span class=\"token punctuation\">:</span>\n<span class=\"token key attr-name\">          java-version</span><span class=\"token punctuation\">:</span> <span class=\"token value attr-value\">17</span>\n<span class=\"token key attr-name\">    -</span> <span class=\"token value attr-value\">name: Grant execute permission for gradlew</span>\n<span class=\"token key attr-name\">      run</span><span class=\"token punctuation\">:</span> <span class=\"token value attr-value\">chmod +x gradlew</span>\n<span class=\"token key attr-name\">    -</span> <span class=\"token value attr-value\">name: Build with Gradle</span>\n<span class=\"token key attr-name\">      run</span><span class=\"token punctuation\">:</span> <span class=\"token value attr-value\">./gradlew build</span>\n<span class=\"token key attr-name\">    -</span> <span class=\"token value attr-value\">name: Configure AWS credentials</span>\n<span class=\"token key attr-name\">      uses</span><span class=\"token punctuation\">:</span> <span class=\"token value attr-value\">aws-actions/configure-aws-credentials@v1</span>\n<span class=\"token key attr-name\">      with</span><span class=\"token punctuation\">:</span>\n<span class=\"token key attr-name\">        aws-access-key-id</span> <span class=\"token punctuation\">:</span> <span class=\"token value attr-value\">${{secrets.AWS_ACCESS_KEY}}</span>\n<span class=\"token key attr-name\">        aws-secret-access-key</span> <span class=\"token punctuation\">:</span> <span class=\"token value attr-value\">${{secrets.AWS_SECRET_KEY}}</span>\n<span class=\"token key attr-name\">        aws-region</span><span class=\"token punctuation\">:</span> <span class=\"token value attr-value\">ap-northeast-2</span>\n<span class=\"token key attr-name\">    -</span> <span class=\"token value attr-value\">name: Login to AWS ECR</span>\n<span class=\"token key attr-name\">      run</span><span class=\"token punctuation\">:</span> <span class=\"token value attr-value\">aws ecr get-login-password --region ap-northeast-2 | docker login --username AWS --password-stdin ${{secrets.ECR_URL}}</span>\n<span class=\"token key attr-name\">    -</span> <span class=\"token value attr-value\">name: Build the Docker image</span>\n<span class=\"token key attr-name\">      run</span><span class=\"token punctuation\">:</span> <span class=\"token value attr-value\">docker build -t hanghae-plus .</span>\n<span class=\"token key attr-name\">    -</span> <span class=\"token value attr-value\">name : ADD Tag</span>\n<span class=\"token key attr-name\">      run</span> <span class=\"token punctuation\">:</span> <span class=\"token value attr-value\">docker tag hanghae-plus:latest ${{secrets.ECR_URL}}/hanghae-plus:latest</span>\n<span class=\"token key attr-name\">    -</span> <span class=\"token value attr-value\">name: Push Docker image to ECR</span>\n<span class=\"token key attr-name\">      run</span><span class=\"token punctuation\">:</span> <span class=\"token value attr-value\">docker push ${{secrets.ECR_URL}}/hanghae-plus:latest</span>\n<span class=\"token key attr-name\">      env</span><span class=\"token punctuation\">:</span>\n<span class=\"token key attr-name\">          AWS_ACCESS_KEY_ID</span><span class=\"token punctuation\">:</span> <span class=\"token value attr-value\">${{ secrets.AWS_ACCESS_KEY }}</span>\n<span class=\"token key attr-name\">          AWS_SECRET_ACCESS_KEY</span><span class=\"token punctuation\">:</span> <span class=\"token value attr-value\">${{ secrets.AWS_SECRET_ACCESS }}</span>\n</code></pre></div>\n<p>ECR 에 나와 있는 푸시 명령을 토대로 yml 파일을 완성 하였다.</p>\n<h4 id=\"ec2-실행하기\" style=\"position:relative;\"><a href=\"#ec2-%EC%8B%A4%ED%96%89%ED%95%98%EA%B8%B0\" aria-label=\"ec2 실행하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>EC2 실행하기</h4>\n<p>EC2 인스턴스를 생성하고 ec2 에 도커를 설치한다.</p>\n<ul>\n<li>sudo yum docker -y</li>\n</ul>\n<p>도커 서비스를 실행 시키자</p>\n<ul>\n<li>sudo systemctl start docker</li>\n</ul>\n<p>자격 증명을 활성화 하자.</p>\n<ul>\n<li>aws configure</li>\n</ul>\n<p>ACCESS_KEY , SECRET_KEY 를 입력하여 자격 증명을 완료하자</p>\n<p>docker image 다운 받기 위해 권한 설정을 하자</p>\n<ul>\n<li>sudo usermode -a -G docker $USER</li>\n</ul>\n<p>ecr 에 올린 도커 이미지를 pull 받기 위해 ecr 에 로그인 하자</p>\n<ul>\n<li>aws ecr get-login-password –region ap-northeast-2 | docker login –username AWS –password-stdin [ECR URL ]</li>\n</ul>\n<p>도커 이미지를 다운 받자</p>\n<ul>\n<li>docker pull [ECR URL]</li>\n</ul>\n<p>docker image ls 명령어를 통해 이미지가 잘 다운 받아졌는지 확인 해보자</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 697px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/aad85cc2d6f2dd62261720159a836149/11663/img_12.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 60.416666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAAB6UlEQVR42p1S7W7aQBA02AYbf8TfxsaAgaSNVEttSSWkhpTWEAl+8P6vcX2Bm+6eA6kUVWqLNLqVl53d2R0tTVMRJwl835dZniFJYmR5jjiOEEYRkjRBFIXgXBzHCIIAw+EQhmlgMBhQPFCxpmkdbNsSlm3DdR1pGF2i1+uh3+/DNE2CAdMwVbGu6/Q/F8vlEovFAmVZqCY0jKpRhD++734eT0ecTkd5Pp+x3+/x5eEBVTVRxZZlKdjUlElzmv5wOKBtW6zXa6xWt0Q8wWUYbXW7EvWixmw2k9PpFPN6ribwPA+6ob9K+VsURSEqIsrSVPJ+imKMKU2n68Yfi3gdPQbJvEq9oJpWYlJVLEXyPoqyxHw+gz2yX3bYgSUZxiX+/VuHKzGRCbo0EWaSrzumCVO6bBAGcEl2RE0ScgG/cdLFDK5RuSxVDuAGijBNErGmIzw/H+S33Q7tvsXT0xbbLeHxETVdMyTbOI4Dx3Voty7FIzrSSB3rzUqyLBMVSa7rWrINuHtJssf5WFmCr8uFvDdNe90Zy+Qcx2wbdoAivHt3J97f3+ND08ivNFHTNNhsNvj0+SO8G08VsX3US9Px9cmzipCnZm/ye5UchjeCr+v5nnR9TxX4ng/bo+6m9u+2oZ94CeR/FL/BLw/QF6l1yiCsAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/aad85cc2d6f2dd62261720159a836149/a59e9/img_12.webp 192w,\n/static/aad85cc2d6f2dd62261720159a836149/0ca9f/img_12.webp 384w,\n/static/aad85cc2d6f2dd62261720159a836149/dc6fe/img_12.webp 697w\"\n              sizes=\"(max-width: 697px) 100vw, 697px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/aad85cc2d6f2dd62261720159a836149/3b721/img_12.png 192w,\n/static/aad85cc2d6f2dd62261720159a836149/66595/img_12.png 384w,\n/static/aad85cc2d6f2dd62261720159a836149/11663/img_12.png 697w\"\n            sizes=\"(max-width: 697px) 100vw, 697px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/aad85cc2d6f2dd62261720159a836149/11663/img_12.png\"\n            alt=\"img_12.png\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>ECR에 올린 이미지가 잘 다운 받아졌고 이제 컨테이너를 실행하자</p>\n<ul>\n<li>docker run –name hanghae-plus-web -p 8000:8000 [이미지 ID]</li>\n</ul>\n<p>컨테이너가 실행 되었다. 확인 해보자</p>\n<p>퍼블릭 IP 주소를 입력 해보면</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 740px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/3a9cee6e2b921788ceac97e221f10f89/b38af/img_13.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 41.14583333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAhklEQVR42uWO2wrDIBBE9///szTqGhvjBQWdrpIWUtqn9q0Dh+OKO0jutiGljJwzQozw3s95DxGXq8KiWbBYFEOJ32Gse0KlFNRapSTBrnLJFiweaB5FelppI+bpB9qwlKzYZTcckPcbnHOI8quR3vtETqf5Iy9vqPeG1tpR8n0IP84fFt4BvLN1OYY3xdMAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/3a9cee6e2b921788ceac97e221f10f89/a59e9/img_13.webp 192w,\n/static/3a9cee6e2b921788ceac97e221f10f89/0ca9f/img_13.webp 384w,\n/static/3a9cee6e2b921788ceac97e221f10f89/c30c1/img_13.webp 740w\"\n              sizes=\"(max-width: 740px) 100vw, 740px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/3a9cee6e2b921788ceac97e221f10f89/3b721/img_13.png 192w,\n/static/3a9cee6e2b921788ceac97e221f10f89/66595/img_13.png 384w,\n/static/3a9cee6e2b921788ceac97e221f10f89/b38af/img_13.png 740w\"\n            sizes=\"(max-width: 740px) 100vw, 740px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/3a9cee6e2b921788ceac97e221f10f89/b38af/img_13.png\"\n            alt=\"img_13.png\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>짠! 로컬에서 환경 설정하고 개발했던 것과 동일하게 잘 실행 된다.</p>\n<h3 id=\"단점\" style=\"position:relative;\"><a href=\"#%EB%8B%A8%EC%A0%90\" aria-label=\"단점 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>단점</h3>\n<p>도커 덕분에 환경 구성을 위해 새로 설치 해야 할 것도 없이 쉽게 실행 할 수 있었지만</p>\n<p>이 방식에 단점이 있다.</p>\n<ul>\n<li>인스턴스를 수동으로 생성하고 구성해야 한다.</li>\n<li>인스턴스를 수동으로 연결하고, 수동으로 도커를 설치한다.</li>\n</ul>\n<p>조금 더 좋은 방법이 없을까? 위에 수동으로 하는 작업도 다 자동으로 할 수 없을까??</p>\n<p>방법이 있다. !</p>\n<h3 id=\"ecs\" style=\"position:relative;\"><a href=\"#ecs\" aria-label=\"ecs permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ECS</h3>\n<blockquote>\n<p>Elastic Container Service 는 클러스트에서 컨테이너를 쉽게 실행, 중지 및 관리\n할 수 있게 해주는 컨테이너 관리 서비스이다.</p>\n</blockquote>\n<p>EC2 인스턴스를 실행하는 것 처럼 자체 머신을 실행하는 대신 관리형 서비스를 사용할 수 있다</p>\n<h4 id=\"구성-요소\" style=\"position:relative;\"><a href=\"#%EA%B5%AC%EC%84%B1-%EC%9A%94%EC%86%8C\" aria-label=\"구성 요소 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>구성 요소</h4>\n<ul>\n<li>Cluster : 작업 또는 서비스의 논리적 그룹이다. 클러스터를 실행하여 작업을 실행할 수 있다.\n<ul>\n<li>클러스터 템플릿 선택 (Fargate | EC2 | External)</li>\n<li>클러스 이름 설정</li>\n</ul>\n</li>\n<li>Service : 클러스터에서 지정된 수의 작업을 동시에 실행하고 관리할 수 있게 해주는 구성 서비스는 Task를 포함하며, Task 와 관련된 Auto Scaling 과\nLoad Balancing 을 관리한다.\n<ul>\n<li>시작 유형 선택 (Fargate | EC2 | External)</li>\n<li>작업 정의 선택</li>\n<li>클러스터 선택</li>\n<li>서비스 이름 설정</li>\n<li>작업 개수 설정</li>\n<li>배포 유형 설정</li>\n<li>네트워크 구성 (VPC , 서브넷 , 보안그룹)</li>\n<li>Load Balancing 설정</li>\n<li>Auto Scaling 설정</li>\n</ul>\n</li>\n<li>Task : 작업 정의에서 정의된 설정으로 인스턴스화 하는 것이다. Task는 Cluster 에 속한 컨테이너 인스턴스나 Fargate 에 배포하게 된다.</li>\n<li>Task Definition : 작업 정의는 애플리케이션을 구성하는 컨테이너를 설명하는 텍스트(JSON) 이다.\n<ul>\n<li>시작 유형 호환성 선택 (Fargate | EC2 | External)</li>\n<li>사용할 컨테이너 이미지 설정</li>\n<li>애플리케이션을 위해 개방할 포트 설정</li>\n<li>CPU/메모리 리소스 할당 설정</li>\n<li>작업의 컨테이너에 사용할 데이터 볼륨 설정</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"vpc-생성\" style=\"position:relative;\"><a href=\"#vpc-%EC%83%9D%EC%84%B1\" aria-label=\"vpc 생성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>VPC 생성</h4>\n<p>Amazon VPC</p>\n<blockquote>\n<p>Amazon Virtual Private Cloud 를 사용하면 정의한 논리적으로 격리된 가상 네트워크에서\nAWS 리소스를 시작할 수 있다.</p>\n</blockquote>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/eff2a93da814c8795324fad900865731/1e597/image-17.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 49.479166666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAACToAAAk6AGCYwUcAAABXklEQVR42pWSW2+DMAyF+f8/sQ+TVnUtJEDuIRfomZ3Sqt3WhyEdQZzk2P5M9zVIfJx6XITErDSc9/+Sde5F3efxiMPhgNP5AjlNEFJgIHMhJeQ4kqb2FnLc1yPtiyY+Y6x9NZyVQt8PsNYhpYT8pBgjTl/nx0Wl9Ys0xcyTmiEbTdMMFyJSLhAmQGoHl1fEXCmRxWw8dFhQaL/UioWSWeehCBF/55zpboYPAR0vMh2spSLTYZcqfCqIdUNIGcuykBJ8XLBtG/gppbRuIsXWdW2x6/XaYt1IWfpBYCRWPiZUMr0r71kbH6o0EALGwG9uURDraVbUvmnmHO+kMjhfhrbgbIUrLWy4tjbY7N1EJQ2KZ6CNuSXilg3B5ak6v7Qs3F5TSjsr91veNYYPQ66Q0HDSThuLcR8KV8dVMg/mda/wL/FlbpurYzGam6ELjZ+mSuMT+AafOP78z+56F/8GMbEBL/Ie3HMAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/eff2a93da814c8795324fad900865731/a59e9/image-17.webp 192w,\n/static/eff2a93da814c8795324fad900865731/0ca9f/image-17.webp 384w,\n/static/eff2a93da814c8795324fad900865731/dc9b9/image-17.webp 768w,\n/static/eff2a93da814c8795324fad900865731/e2c2f/image-17.webp 1152w,\n/static/eff2a93da814c8795324fad900865731/f3efb/image-17.webp 1536w,\n/static/eff2a93da814c8795324fad900865731/8fc62/image-17.webp 3257w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/eff2a93da814c8795324fad900865731/3b721/image-17.png 192w,\n/static/eff2a93da814c8795324fad900865731/66595/image-17.png 384w,\n/static/eff2a93da814c8795324fad900865731/fe486/image-17.png 768w,\n/static/eff2a93da814c8795324fad900865731/d2d74/image-17.png 1152w,\n/static/eff2a93da814c8795324fad900865731/e8464/image-17.png 1536w,\n/static/eff2a93da814c8795324fad900865731/1e597/image-17.png 3257w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/eff2a93da814c8795324fad900865731/fe486/image-17.png\"\n            alt=\"Alt text\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<h4 id=\"대상-그룹-생성\" style=\"position:relative;\"><a href=\"#%EB%8C%80%EC%83%81-%EA%B7%B8%EB%A3%B9-%EC%83%9D%EC%84%B1\" aria-label=\"대상 그룹 생성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>대상 그룹 생성</h4>\n<p>ALB(Application Load Balancer)가 요청을 분배하는 기준에 대한 설정</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d83ae2e3c70e89529e7c41a808b40623/c2ce2/image-18.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 60.9375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAACToAAAk6AGCYwUcAAABNklEQVR42oVTiXaEIAzc///Rqis3yOGRJhGpVdvFN04EnZy+rHMQpgmkkiCEZHtZV8b6AN7fth1ol1LAWAukQ3iZQ1AqGN4jjCwaYYoI5BhTfU5s034pM5R5Bloz8qOgNga8D5DRY0qJEX9xbvYBFqYIqxgL0s2HAF9dj2kr3jSWDn3l/Vkby+zQaQgTO/fIOecmtkeI4VKEdLBhXRiYynZcXK+VU031nfO6pbxHOEH/FqC15jox0okRVIrmsOIPQQsOBQehYV2W20dXget6jDCEwKAoKPWMDWA+IbXG5BZ9zoW7fRN03nNTun4AgeMjlWY0mxghJO5h446RSrUU9qnL4yhYkDzT0C7XYa5MUX1I2YLHLgtFc+gf/44zPtfQkmCEblTgcPaOOtLQ/tSw7PWqnf5P8Bv2f6Yb+FPWIwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/d83ae2e3c70e89529e7c41a808b40623/a59e9/image-18.webp 192w,\n/static/d83ae2e3c70e89529e7c41a808b40623/0ca9f/image-18.webp 384w,\n/static/d83ae2e3c70e89529e7c41a808b40623/dc9b9/image-18.webp 768w,\n/static/d83ae2e3c70e89529e7c41a808b40623/e2c2f/image-18.webp 1152w,\n/static/d83ae2e3c70e89529e7c41a808b40623/f3efb/image-18.webp 1536w,\n/static/d83ae2e3c70e89529e7c41a808b40623/53177/image-18.webp 2627w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/d83ae2e3c70e89529e7c41a808b40623/3b721/image-18.png 192w,\n/static/d83ae2e3c70e89529e7c41a808b40623/66595/image-18.png 384w,\n/static/d83ae2e3c70e89529e7c41a808b40623/fe486/image-18.png 768w,\n/static/d83ae2e3c70e89529e7c41a808b40623/d2d74/image-18.png 1152w,\n/static/d83ae2e3c70e89529e7c41a808b40623/e8464/image-18.png 1536w,\n/static/d83ae2e3c70e89529e7c41a808b40623/c2ce2/image-18.png 2627w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/d83ae2e3c70e89529e7c41a808b40623/fe486/image-18.png\"\n            alt=\"Alt text\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span>\n헬스 체크 routing point 입력</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/dd98f2f7bf78c001e996fe4df6e67017/63495/image-3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 51.5625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAACToAAAk6AGCYwUcAAABFElEQVR42pVSi27DIAzs/3/kKq3aOmkr4f0mNxtYmjVStUW62Bg4zgcnbQyMtbjdBF7OZ0gpEUKAobql+hGuR16Tc94QYwRznfjHcN53YqU1Ak3GmBDTA6iWeDPluRTU1jbw+BehMRZSqZ6nlPHfj0kPCqVUvaVaKwqdWMqMc8ytNdq4rmvHU0Im+vHTOgfnPDz55H0gvyIdGHqd1Y+D6nNC3swqmZhJWMBQgk0Ro7WVOviDQiZhsoXbJiV7wzvqBOVtP57IeXcp/dkIASGWQezcfB572GPNuWnPmL8rtOOGh7KVLqF11BnLVHaozZjJT/b2rtBoKJ9wkQnvi91w+dJ4ExZX6fH6qXr+iA/lsURAx9HyN8BCCso39zjBAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/dd98f2f7bf78c001e996fe4df6e67017/a59e9/image-3.webp 192w,\n/static/dd98f2f7bf78c001e996fe4df6e67017/0ca9f/image-3.webp 384w,\n/static/dd98f2f7bf78c001e996fe4df6e67017/dc9b9/image-3.webp 768w,\n/static/dd98f2f7bf78c001e996fe4df6e67017/e2c2f/image-3.webp 1152w,\n/static/dd98f2f7bf78c001e996fe4df6e67017/f3efb/image-3.webp 1536w,\n/static/dd98f2f7bf78c001e996fe4df6e67017/8c498/image-3.webp 2407w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/dd98f2f7bf78c001e996fe4df6e67017/3b721/image-3.png 192w,\n/static/dd98f2f7bf78c001e996fe4df6e67017/66595/image-3.png 384w,\n/static/dd98f2f7bf78c001e996fe4df6e67017/fe486/image-3.png 768w,\n/static/dd98f2f7bf78c001e996fe4df6e67017/d2d74/image-3.png 1152w,\n/static/dd98f2f7bf78c001e996fe4df6e67017/e8464/image-3.png 1536w,\n/static/dd98f2f7bf78c001e996fe4df6e67017/63495/image-3.png 2407w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/dd98f2f7bf78c001e996fe4df6e67017/fe486/image-3.png\"\n            alt=\"Alt text\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<h4 id=\"alb-생성\" style=\"position:relative;\"><a href=\"#alb-%EC%83%9D%EC%84%B1\" aria-label=\"alb 생성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ALB 생성</h4>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/930ef611004e6c7893dc9f1566564c37/4eb03/image-26.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 69.27083333333334%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAACToAAAk6AGCYwUcAAACHElEQVR42m1TC9ObIBD8/v8fbDuT1vhMFBQEFd/bWzJpY6dMGMi57L32voZxRFVVqJsGxlps2wauYRihtIYxBkpp9H2P8zwF06NtO3SdQV03mOdZ9nKSp3du+PLDgNvtJ8pHAzdMOI/jRRgWWDdgFKD3DmEO0W4Fwze0O+9jAPPyQRjCHIH7vvMDPhe9n/sKU+doyvSPfRWSdd0+cVdCphI9TQNOAfC//OCdwyI2/czxLNJoP7YFfacRwhTvOPYrIaOapglW1zDZd/jqhv04I3mX/0BbJnB1Bvf4hUWwu5BYIayTb2K/A1Mn5fiMcF5wTj3mXmG0sk2NTdLftxWzTtFbaYB6IjSJ2P+muXqFMLp4vxCyTqF7wBuFp2rxaBRa6eAhjyddQKsarWqgyjvCNEYC73qYpsKzKl9lWdcr4brtMSqmxJryZL1GKQWbdUjnrcjmLSmRSexy37t4XrrMR1a0ZUWD1KEXKZCAj2g3xkbNUSp0MshJcuI70SgDuDTFi4CzvEBRliiKEmmaCSiAgCzPUZUVknsKrdsYnRaxE0PsXex0cEmZE8GPJMyLIt6ZmvdDfJhlr8e6bWPkJM7zF46bE3SJkIRJco/ekvvrpIw4BYwsy/Jo4xhyKSFkRhy7tuuwSGmuhHIpq0fcjJJzykXPJEwlQjpktO8JGUcRdRT/+f9JMQxdakUQu8rFZpViiw2R9JnJm+Df9Un4G9RVMatPFHLmAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/930ef611004e6c7893dc9f1566564c37/a59e9/image-26.webp 192w,\n/static/930ef611004e6c7893dc9f1566564c37/0ca9f/image-26.webp 384w,\n/static/930ef611004e6c7893dc9f1566564c37/dc9b9/image-26.webp 768w,\n/static/930ef611004e6c7893dc9f1566564c37/e2c2f/image-26.webp 1152w,\n/static/930ef611004e6c7893dc9f1566564c37/f3efb/image-26.webp 1536w,\n/static/930ef611004e6c7893dc9f1566564c37/f517e/image-26.webp 2370w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/930ef611004e6c7893dc9f1566564c37/3b721/image-26.png 192w,\n/static/930ef611004e6c7893dc9f1566564c37/66595/image-26.png 384w,\n/static/930ef611004e6c7893dc9f1566564c37/fe486/image-26.png 768w,\n/static/930ef611004e6c7893dc9f1566564c37/d2d74/image-26.png 1152w,\n/static/930ef611004e6c7893dc9f1566564c37/e8464/image-26.png 1536w,\n/static/930ef611004e6c7893dc9f1566564c37/4eb03/image-26.png 2370w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/930ef611004e6c7893dc9f1566564c37/fe486/image-26.png\"\n            alt=\"Alt text\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/da6101be9e2547651b12a22ab3f9730d/9c482/image-19.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.77083333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAACToAAAk6AGCYwUcAAABiklEQVR42pVR2W7cMAzM//9diwJbBFk0TbIbX7osyToseUrRTpou9qWEB5REeTgcPVjnMS8BKSWEEBFiRCQshDlkDDbCx4R1XZFzRua87vvjLBHafgkBD1IqvL5dIJWC9wucWzhbysIGXHWghpF+yIjUNKfMzZ33hAW1FiYrpe6EngpKG1aGbaPvA5VzO6u1/oNSCqvk+pdgwkkodMMEoTSrNLOlQuQxmiJWdYzVlCXer3yeDrXNos+RR+3Q9wOklJiE4EvbF6VNTbvMyLtvbb3XcWD7q7ARKFJnnSP/3Kfhuy+FHirAmBkzKWdYC2sd1QtuY/eQxhvHicmaP7e+/E8w4aAsOhpZ0GtPQvLILT7Gaa/X1NziXuNj5AAtO1gzYiakYLAmixxnzs4KaNVD0Z099zB6ID/TfcKtOOjphMvLd8I3dNcfUNMjlHiCGB95bfUZRj7BKII8I7hnbNUfNNsNYQ1w5hf66wnD+wlj95NIznifnjHK34j+jQhesdgXzm1f4gVbWe4S/gF7dFd+GqUAewAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/da6101be9e2547651b12a22ab3f9730d/a59e9/image-19.webp 192w,\n/static/da6101be9e2547651b12a22ab3f9730d/0ca9f/image-19.webp 384w,\n/static/da6101be9e2547651b12a22ab3f9730d/dc9b9/image-19.webp 768w,\n/static/da6101be9e2547651b12a22ab3f9730d/e2c2f/image-19.webp 1152w,\n/static/da6101be9e2547651b12a22ab3f9730d/f3efb/image-19.webp 1536w,\n/static/da6101be9e2547651b12a22ab3f9730d/44abd/image-19.webp 2782w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/da6101be9e2547651b12a22ab3f9730d/3b721/image-19.png 192w,\n/static/da6101be9e2547651b12a22ab3f9730d/66595/image-19.png 384w,\n/static/da6101be9e2547651b12a22ab3f9730d/fe486/image-19.png 768w,\n/static/da6101be9e2547651b12a22ab3f9730d/d2d74/image-19.png 1152w,\n/static/da6101be9e2547651b12a22ab3f9730d/e8464/image-19.png 1536w,\n/static/da6101be9e2547651b12a22ab3f9730d/9c482/image-19.png 2782w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/da6101be9e2547651b12a22ab3f9730d/fe486/image-19.png\"\n            alt=\"Alt text\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/085e0a335af8c1b7acb0d5c6d49ab271/669c9/image-7.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 40.10416666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAACToAAAk6AGCYwUcAAAA7klEQVR42p1Q0W7CMAzk//8SEBJsg7ZpEtdJU+PziNUhnhbp6vRsn885XG83OZ3Pcrl+SSKSlJMiO7Jyeffv/FvNHKNMIcgBn6CY52hFMb0EEVMW6oLpVyRn8jsi6sChzwRLKT6x1upY11VaWy12vOf3HFyaYFSrcAgny8JejMljmIWUY2bNLZ6rChgBmItxLggCQANEW2uybZvcx0mO+q7fj0GGYbQngSDyAHqItEf7UE97wRiTAWuj2CZylSGxEFdbvQ/6BBx3iAk/94eMU7CJRV2wrtLfpq9Wigq/mj+dPytPKgaHuMPJf04XfAJgxnDDKYMgzQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/085e0a335af8c1b7acb0d5c6d49ab271/a59e9/image-7.webp 192w,\n/static/085e0a335af8c1b7acb0d5c6d49ab271/0ca9f/image-7.webp 384w,\n/static/085e0a335af8c1b7acb0d5c6d49ab271/dc9b9/image-7.webp 768w,\n/static/085e0a335af8c1b7acb0d5c6d49ab271/e2c2f/image-7.webp 1152w,\n/static/085e0a335af8c1b7acb0d5c6d49ab271/f3efb/image-7.webp 1536w,\n/static/085e0a335af8c1b7acb0d5c6d49ab271/9225b/image-7.webp 2897w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/085e0a335af8c1b7acb0d5c6d49ab271/3b721/image-7.png 192w,\n/static/085e0a335af8c1b7acb0d5c6d49ab271/66595/image-7.png 384w,\n/static/085e0a335af8c1b7acb0d5c6d49ab271/fe486/image-7.png 768w,\n/static/085e0a335af8c1b7acb0d5c6d49ab271/d2d74/image-7.png 1152w,\n/static/085e0a335af8c1b7acb0d5c6d49ab271/e8464/image-7.png 1536w,\n/static/085e0a335af8c1b7acb0d5c6d49ab271/669c9/image-7.png 2897w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/085e0a335af8c1b7acb0d5c6d49ab271/fe486/image-7.png\"\n            alt=\"Alt text\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<h4 id=\"aws-fargate\" style=\"position:relative;\"><a href=\"#aws-fargate\" aria-label=\"aws fargate permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>AWS Fargate</h4>\n<blockquote>\n<p>AWS Fargate 는 Amazon EC2 인스턴스의 서버나 클러스터를 관리할 필요 없이\n컨테이너를 실행하기 위해 Amazon ECS 에 사용할 수 있는 기술이다.\nFargate 를 사용하면 더 이상 컨테이너를 실행하기 위해 가상 머신의\n클러스터를 프로비저닝, 구성 또는 조정할 필요가 없습니다.</p>\n</blockquote>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1e2375080f1989f028e714517eb75b72/9f463/image-20.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 63.541666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAACToAAAk6AGCYwUcAAAB9klEQVR42nWTW2/TQBCF/VNbHhDhElAbqtJCioRAQoU+85cQEj+AqjwUkaax48vG9q5vOZ0zXpsUwUonu/Z6vzkzOwlmJ19wPr/A57O3+PThDNPjd3h6cIL3pwd4fvQGk9lrnE7neHU4x5Ojczx7+RF7j17gweMZ9r32JofYn8zwcHqMwDYtqqYDR5wkSERxHCNaxwjXa0SyjtNEZTYGRVnAOgtrbT87h9KvnayDyx+XuLr6iUbAhEUC4RyGIX4vFsjzHG3byn6Duq5RVVSFiuvar7028m1Q2Eo/VId0I7DMGGSZ0feE/U9d12G73ao46DTINsX4gs4SphcnWC5XCi5LScU6TU1l/4gpqmMJzOAK5GFuDMC+jilWkjJFp85VCiZEZ183qvKB2rbrgfzJi2IEriVtPhNEh05qM7pThx5YlnJBpTpjfTkKORfwBQ+NDgUYRhGur3/h5lYc5oUeZJBiR/1zqfDFzRJfv31XA0GSplqDvm1i8JkHwjBStyyJMZt7MHW3s06zDMvblXZEQBhva3AYSf0iUyIT8ADn/t+6d+P+vNaQvbPbNoxmJE1GXIlLpsGgbrhhX8uq9n3pe5F1VCBvNBaNQLoSIGFMlwEowmpC5GAjrv41FMjCshU4CGPaQ10yqV0PNOONEkgN/5R6Z+ZF3QEoCNC6Y4bg4wAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/1e2375080f1989f028e714517eb75b72/a59e9/image-20.webp 192w,\n/static/1e2375080f1989f028e714517eb75b72/0ca9f/image-20.webp 384w,\n/static/1e2375080f1989f028e714517eb75b72/dc9b9/image-20.webp 768w,\n/static/1e2375080f1989f028e714517eb75b72/e2c2f/image-20.webp 1152w,\n/static/1e2375080f1989f028e714517eb75b72/f3efb/image-20.webp 1536w,\n/static/1e2375080f1989f028e714517eb75b72/2a6bf/image-20.webp 2812w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/1e2375080f1989f028e714517eb75b72/3b721/image-20.png 192w,\n/static/1e2375080f1989f028e714517eb75b72/66595/image-20.png 384w,\n/static/1e2375080f1989f028e714517eb75b72/fe486/image-20.png 768w,\n/static/1e2375080f1989f028e714517eb75b72/d2d74/image-20.png 1152w,\n/static/1e2375080f1989f028e714517eb75b72/e8464/image-20.png 1536w,\n/static/1e2375080f1989f028e714517eb75b72/9f463/image-20.png 2812w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/1e2375080f1989f028e714517eb75b72/fe486/image-20.png\"\n            alt=\"Alt text\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<h4 id=\"태스크-정의\" style=\"position:relative;\"><a href=\"#%ED%83%9C%EC%8A%A4%ED%81%AC-%EC%A0%95%EC%9D%98\" aria-label=\"태스크 정의 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>태스크 정의</h4>\n<p>Fargate 를 선택! Fargate 는 컨테이너가 무한대로 확장되는 서버리스 실행 환경이다.\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/444444a06bcc4e6fc65ecb1928cec2ef/4e9ad/image-21.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 66.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAACToAAAk6AGCYwUcAAABfklEQVR42pVTiW6CQBTk/7+wjU0UkEOuXYTlhum8Fa3VGizJ5CVsmDfH4iRJguiU4ONwxM4NLT73PvbeEZ+7L+xdD2GSIlcKZVVtwsmyDEmawvd9eK4L3/PgcrqcB/eAIIyhqxqmMajrehOOKCy4XesSURwjTbmAisIghDENlmXGMAy/MP6B65mTUp0QVmTP85zEGqpq0PY9pmnCPM+Yl4XEP7DvHnA9s4RKK0sahBFCQlFtbQy6rsc4jtw8UgXneME8L0+YSCqPJcyLghm1ODNUgZCZprGqdXlGeb5A21mh7bondHTUi2UpJVutxvHJFiQZSp6yqG1bNCS//7iRdy9wy9BQVRRFJI2t7YClyDJpTs62SpFoBHelGNorYVoermVIdv1KsjwU8wpORsKsYCGZxvEY0KamIrHZ3koQvPusLWv0/QCltFUrxdhmVxsLW/wXoZBI8FleoKBagbQsVsXydHfP3iYUlTH/6YR/yokzV5InrwLv4rVZuehbhN/30O3I6o6mbgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/444444a06bcc4e6fc65ecb1928cec2ef/a59e9/image-21.webp 192w,\n/static/444444a06bcc4e6fc65ecb1928cec2ef/0ca9f/image-21.webp 384w,\n/static/444444a06bcc4e6fc65ecb1928cec2ef/dc9b9/image-21.webp 768w,\n/static/444444a06bcc4e6fc65ecb1928cec2ef/e2c2f/image-21.webp 1152w,\n/static/444444a06bcc4e6fc65ecb1928cec2ef/f3efb/image-21.webp 1536w,\n/static/444444a06bcc4e6fc65ecb1928cec2ef/ca790/image-21.webp 2382w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/444444a06bcc4e6fc65ecb1928cec2ef/3b721/image-21.png 192w,\n/static/444444a06bcc4e6fc65ecb1928cec2ef/66595/image-21.png 384w,\n/static/444444a06bcc4e6fc65ecb1928cec2ef/fe486/image-21.png 768w,\n/static/444444a06bcc4e6fc65ecb1928cec2ef/d2d74/image-21.png 1152w,\n/static/444444a06bcc4e6fc65ecb1928cec2ef/e8464/image-21.png 1536w,\n/static/444444a06bcc4e6fc65ecb1928cec2ef/4e9ad/image-21.png 2382w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/444444a06bcc4e6fc65ecb1928cec2ef/fe486/image-21.png\"\n            alt=\"Alt text\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>ECR 의 이미지 URI 를 등록한다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/10504113db1b8579f354f915f105aa4a/abff7/img_15.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 59.895833333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAABkUlEQVR42pWS2a7VMAxFz/9/H0I8IHhASPR0yuTM6cZ2W93DcJGotOU0jVe27T5iSlgcYdqdylBGKAM+d/jCyg2hDsR2/CHifaqy5vMhwHmPR2LgSgWzzwyOmCzhh5ELAkcWx9knGL7gd1E/4Blsee1uoDiclxnPaYL1AfKeLt3rGCOLrhhBRKoPHz/h85evcM4p7HKYdcNai5wzem+sfsbRMcbA6Gc89zuOY+j7vKwwnNdaeymZIctmsXJpPhZsxuO5Whguf2etXPZi5DBh23Z2mBT6+hzHoUDLxh45FzznDd++T5xI8DwUH5JG6xm4e70kUEStlZ0d6ugGifAKFIf7vmPbjdpP4oATai2aeLfghI03yHsOBWgMl2gDGicSRS1LYNJfaX5hmFTieWhyvhSB9/eBznk93FpXgIBkLROVRpNMli+xfK7VpnDZu53+CpQpc9KybQiBUJtM8pyoTvgq81/PX0ue50VdUioMbap2xf8G6k/J5QQpjR1Lz1SlaL9EUmatb2vR+f0cXuBWCfAneWalw7x3WuMAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/10504113db1b8579f354f915f105aa4a/a59e9/img_15.webp 192w,\n/static/10504113db1b8579f354f915f105aa4a/0ca9f/img_15.webp 384w,\n/static/10504113db1b8579f354f915f105aa4a/dc9b9/img_15.webp 768w,\n/static/10504113db1b8579f354f915f105aa4a/e2c2f/img_15.webp 1152w,\n/static/10504113db1b8579f354f915f105aa4a/3af10/img_15.webp 1267w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/10504113db1b8579f354f915f105aa4a/3b721/img_15.png 192w,\n/static/10504113db1b8579f354f915f105aa4a/66595/img_15.png 384w,\n/static/10504113db1b8579f354f915f105aa4a/fe486/img_15.png 768w,\n/static/10504113db1b8579f354f915f105aa4a/d2d74/img_15.png 1152w,\n/static/10504113db1b8579f354f915f105aa4a/abff7/img_15.png 1267w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/10504113db1b8579f354f915f105aa4a/fe486/img_15.png\"\n            alt=\"img_15.png\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>태스크 정의 생성 후 태스크 정의를 이용해 Service 생성</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/61e046ce0d366665f9e6ffab35ddcf6d/d47be/image-22.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 70.83333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAACToAAAk6AGCYwUcAAAB/UlEQVR42n1Ta2/bMAzM//9Jwz4M2JYmzdpmW9cBG9D5lTqxbEt+P2TnRsqW1wxBBRxI0SJ9R0qr4HBAIBSewxjuKcWfk8QxkfCFhHNMje9Q3OF4LOFFEhHFTlGEkxDI8hx5USxYua4Hx/Px69mBUDlURsgnKwmcIGdf5TZW0PcMVV2jadvLgn4QQCliRPYUCbR04AJN85/foCHbdR0en37i4ev3y4Ke76OmA0oplFWFYRigZwzjOFnCSD5jmDGezziERwSH0ORZ6YYhBw4vIdJUUvJ0mG1Z1ajrxnxniSaJ5J7pOy9rWfpSkBl2fU8MM0ipjGVwIcNoZshMe62hCXZdLcgMOSBEDEHTUyU3ujNt4L5xr/iHLcX4B9fWRcEg8JE1A36HdDWOsbkqfGXSWqOiImmaIo4Tw7jresPwTck+Sa70GW6cw40UXmSJIMkRFTRVPaAy/ePDpWHNssfxrYLEkCWmWYGM5KqyQt5qU6zv9TJhHpLppf4XuyqZe5jTNAXJSkhekqTEZO6dRT/3kXyDdtpfLeh5LlTVQvIroemyRK0nBiyJYVnZvcUwnynKkvIzc7VWQkQkrTPsbMP5JbyWxHt7XWyx16vX/aJi9e79B6w3d/i4vsV6e4dPNzvcbO+x2T0s2DK+7Jf9Lfn3+0d6dj+w//a05H3e7PAXZR4vtL3kyosAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/61e046ce0d366665f9e6ffab35ddcf6d/a59e9/image-22.webp 192w,\n/static/61e046ce0d366665f9e6ffab35ddcf6d/0ca9f/image-22.webp 384w,\n/static/61e046ce0d366665f9e6ffab35ddcf6d/dc9b9/image-22.webp 768w,\n/static/61e046ce0d366665f9e6ffab35ddcf6d/e2c2f/image-22.webp 1152w,\n/static/61e046ce0d366665f9e6ffab35ddcf6d/f3efb/image-22.webp 1536w,\n/static/61e046ce0d366665f9e6ffab35ddcf6d/f62ee/image-22.webp 2475w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/61e046ce0d366665f9e6ffab35ddcf6d/3b721/image-22.png 192w,\n/static/61e046ce0d366665f9e6ffab35ddcf6d/66595/image-22.png 384w,\n/static/61e046ce0d366665f9e6ffab35ddcf6d/fe486/image-22.png 768w,\n/static/61e046ce0d366665f9e6ffab35ddcf6d/d2d74/image-22.png 1152w,\n/static/61e046ce0d366665f9e6ffab35ddcf6d/e8464/image-22.png 1536w,\n/static/61e046ce0d366665f9e6ffab35ddcf6d/d47be/image-22.png 2475w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/61e046ce0d366665f9e6ffab35ddcf6d/fe486/image-22.png\"\n            alt=\"Alt text\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>서비스 생성 성공</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c9a91a2b6a14529a1d171cf5e6557ece/8ce31/image-16.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 48.958333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAACToAAAk6AGCYwUcAAABsklEQVR42oVSy47UMBDMHyM0e1vQsEJaceJDuIEQgzjwD0hI3HisdqK0M47jcRI/knTR9uwOGgmErVJ1u51OdSXV68+3eLl7htuPW7z6tBV+jut3G1y/fYLt+6e4+bD5D65ws7vCi92mcDXYAK0GHMhhtAlrBJYAsDCSYP43ODFmv2CeVmHBuKLSRqNRDTJPYYKPXngsGP0l3OgwTMM5z/FxOBbkOKNyzqHrDKbJI4RQMIYB85Ll/Vn5fPIey7Kcz+ZlRkoJaZ7BsvOqhmGQZhOY+Yx1XQtfNowXzfL6273KjXk8URYjvD+pzC8YBY+Ko9SyOv9wL+dRlE0Pdx7zuDCqVnfYNyQeGrRaQ3fdKT4ccJC4P2aPHKxwgViUz3prS565t8J9B0PfUfV9z7ozLAo4xiSILL6wvLGweMzWWhZlHHzgo3UsTVgmKM+E4HkKib1TPHx7w1U21Zcxw9mHlPI/gZPhAufkI4nxIQa0XSt2jKVexkwnb7MVaV5EobVUq5buakUyMvXGUNM0pNqWGlVTZzpSSpGWWi351x9f6Gd9R3ulaU+17Hs6SO3XnsgYQ78BakrtKfRhJc8AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/c9a91a2b6a14529a1d171cf5e6557ece/a59e9/image-16.webp 192w,\n/static/c9a91a2b6a14529a1d171cf5e6557ece/0ca9f/image-16.webp 384w,\n/static/c9a91a2b6a14529a1d171cf5e6557ece/dc9b9/image-16.webp 768w,\n/static/c9a91a2b6a14529a1d171cf5e6557ece/e2c2f/image-16.webp 1152w,\n/static/c9a91a2b6a14529a1d171cf5e6557ece/f3efb/image-16.webp 1536w,\n/static/c9a91a2b6a14529a1d171cf5e6557ece/0efc7/image-16.webp 1557w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/c9a91a2b6a14529a1d171cf5e6557ece/3b721/image-16.png 192w,\n/static/c9a91a2b6a14529a1d171cf5e6557ece/66595/image-16.png 384w,\n/static/c9a91a2b6a14529a1d171cf5e6557ece/fe486/image-16.png 768w,\n/static/c9a91a2b6a14529a1d171cf5e6557ece/d2d74/image-16.png 1152w,\n/static/c9a91a2b6a14529a1d171cf5e6557ece/e8464/image-16.png 1536w,\n/static/c9a91a2b6a14529a1d171cf5e6557ece/8ce31/image-16.png 1557w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/c9a91a2b6a14529a1d171cf5e6557ece/fe486/image-16.png\"\n            alt=\"Alt text\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>이번에는 실제 요청을 통해 서버가 정상적으로 접근 가능한지를 확인해보자\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/7f1cf8ab6a97e2973f971559aff1f7aa/db055/image-24.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 53.125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAACToAAAk6AGCYwUcAAABuElEQVR42o1S2Y7bMAz0/3/fog/t9nCcjQ9Jli0fkmzL06GSLLJAHypgQFoihzSHxdt7iW+/Kry9X/CjvOL7nwqXRqFUA256QE00xqJSFpfO0h/QKYXeDjB9n60d7v4wjig+6ga3pkXTEk2T0ekeoxvhJgf3sCODxRc7Ogdj7YPQknCEfhJWncHvWqEhST/YHCCoWUSbnjDZ3lio7VQuLHcS46Ypk4t9olBdR2fGvm3Y9z1jI479yH6MEdvLm+A4Es50MmfPbxmMW71HIW36EJi4IdAu68rHDWtYee8h5zzPL+idQW2ucN6xeELcN6QzZeKi7y20NujYqVitNSZ2vMYFS5yRUsokr6ebGpTmJ/SsGJewhAVHkj86UOhRQyDtviZKNRm25734/3NkHIUoOFB256Yv8/pXZ8/z/PVMwnkGzjIyJzC/UFS3VTpL7kQxEredplALu44MPHJyyHOOn0RScF5nmOqKvrxg/LhhnWcUk98xrpEBx2dl+bazx0DYJbKLI5NFdn+ku8JxjzAT583d9CRKD7UL2auJ+yMzFIUFgepKR3f4/OYfWF8QQuQmxLwl8j0vC/4CJc5RoJwLIO0AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/7f1cf8ab6a97e2973f971559aff1f7aa/a59e9/image-24.webp 192w,\n/static/7f1cf8ab6a97e2973f971559aff1f7aa/0ca9f/image-24.webp 384w,\n/static/7f1cf8ab6a97e2973f971559aff1f7aa/dc9b9/image-24.webp 768w,\n/static/7f1cf8ab6a97e2973f971559aff1f7aa/e2c2f/image-24.webp 1152w,\n/static/7f1cf8ab6a97e2973f971559aff1f7aa/f3efb/image-24.webp 1536w,\n/static/7f1cf8ab6a97e2973f971559aff1f7aa/1d76d/image-24.webp 2912w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/7f1cf8ab6a97e2973f971559aff1f7aa/3b721/image-24.png 192w,\n/static/7f1cf8ab6a97e2973f971559aff1f7aa/66595/image-24.png 384w,\n/static/7f1cf8ab6a97e2973f971559aff1f7aa/fe486/image-24.png 768w,\n/static/7f1cf8ab6a97e2973f971559aff1f7aa/d2d74/image-24.png 1152w,\n/static/7f1cf8ab6a97e2973f971559aff1f7aa/e8464/image-24.png 1536w,\n/static/7f1cf8ab6a97e2973f971559aff1f7aa/db055/image-24.png 2912w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/7f1cf8ab6a97e2973f971559aff1f7aa/fe486/image-24.png\"\n            alt=\"Alt text\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/2f6ab5b2d685c12f0fa3593dad82c849/00944/image-23.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 42.1875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAACToAAAk6AGCYwUcAAABQ0lEQVR42nVSXW+DMAzk//+67Wl96Ira8k0DJIGQhMDNTqGrNC3SyeRyts42yfV6w9c5xcfpG5+nM86XFOntjrKsUFSMeo//gHR5USIj3PMCSdO2kbxlWRRIpWBmg8kcmN6+/4K14zjGPEbSNC2U1hBCwHuPZVli9M4/4xsWQqD3cGgIs7Vwzu25/umQKw+DhCfhcaSRcIt93bdtwzBZ9MYTFqwbEEKAJnchrC9d0u4FNblc198HRZzouxdH+aiHEZlQaLTDZKkoFRykhOHWCfNsueUmWiYL0cVxuBA7ODgO+UPiUgqkzQBFTpkMrNu1jKSuG4zTBGNnWJoHk+suWnYR3xndoPDoFc3cwPE8w9Pl8R5b7vseoutR0NpzWnvFm5Yqbo7HoDVFat9SF7rrIOlvGEmriwKK9DLPobIc+iHiDn4Axi1oTRfvmwcAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/2f6ab5b2d685c12f0fa3593dad82c849/a59e9/image-23.webp 192w,\n/static/2f6ab5b2d685c12f0fa3593dad82c849/0ca9f/image-23.webp 384w,\n/static/2f6ab5b2d685c12f0fa3593dad82c849/dc9b9/image-23.webp 768w,\n/static/2f6ab5b2d685c12f0fa3593dad82c849/e2c2f/image-23.webp 1152w,\n/static/2f6ab5b2d685c12f0fa3593dad82c849/f3efb/image-23.webp 1536w,\n/static/2f6ab5b2d685c12f0fa3593dad82c849/9855f/image-23.webp 3050w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/2f6ab5b2d685c12f0fa3593dad82c849/3b721/image-23.png 192w,\n/static/2f6ab5b2d685c12f0fa3593dad82c849/66595/image-23.png 384w,\n/static/2f6ab5b2d685c12f0fa3593dad82c849/fe486/image-23.png 768w,\n/static/2f6ab5b2d685c12f0fa3593dad82c849/d2d74/image-23.png 1152w,\n/static/2f6ab5b2d685c12f0fa3593dad82c849/e8464/image-23.png 1536w,\n/static/2f6ab5b2d685c12f0fa3593dad82c849/00944/image-23.png 3050w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/2f6ab5b2d685c12f0fa3593dad82c849/fe486/image-23.png\"\n            alt=\"Alt text\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>ALB 주소를 이용해서 접근 하면</p>\n<p>Target Group 에 의해 포트포워딩되어 ECS 의 서비스에 연결할 수 있게 된다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c4519ada447e51ecafad0676073b8195/4acd5/image-25.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 46.35416666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAACToAAAk6AGCYwUcAAAAY0lEQVR42u3MSw5AMABF0e5/lQjil6gq1Z9L0wWYGBh4ycmbXbFtO8YYlkUhpaIbZop6oGxGqnaiSn9re0k3qkdCrytaa6x1OB840ruAdT6zmfeREM5HIsZI8tYEL+8PfjB4AdVhx8dbe23pAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/c4519ada447e51ecafad0676073b8195/a59e9/image-25.webp 192w,\n/static/c4519ada447e51ecafad0676073b8195/0ca9f/image-25.webp 384w,\n/static/c4519ada447e51ecafad0676073b8195/dc9b9/image-25.webp 768w,\n/static/c4519ada447e51ecafad0676073b8195/e2c2f/image-25.webp 1152w,\n/static/c4519ada447e51ecafad0676073b8195/f3efb/image-25.webp 1536w,\n/static/c4519ada447e51ecafad0676073b8195/84df7/image-25.webp 2892w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/c4519ada447e51ecafad0676073b8195/3b721/image-25.png 192w,\n/static/c4519ada447e51ecafad0676073b8195/66595/image-25.png 384w,\n/static/c4519ada447e51ecafad0676073b8195/fe486/image-25.png 768w,\n/static/c4519ada447e51ecafad0676073b8195/d2d74/image-25.png 1152w,\n/static/c4519ada447e51ecafad0676073b8195/e8464/image-25.png 1536w,\n/static/c4519ada447e51ecafad0676073b8195/4acd5/image-25.png 2892w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/c4519ada447e51ecafad0676073b8195/fe486/image-25.png\"\n            alt=\"Alt text\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<h3 id=\"github-actions-배포-자동화\" style=\"position:relative;\"><a href=\"#github-actions-%EB%B0%B0%ED%8F%AC-%EC%9E%90%EB%8F%99%ED%99%94\" aria-label=\"github actions 배포 자동화 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Github Actions 배포 자동화</h3>\n<p>앞서 생성한 task definition 의 json 을 복사 한 다음에</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/5eabf0d8e33c4dfc98cf422ce5f677e2/1f9d1/image-27.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 51.041666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAACToAAAk6AGCYwUcAAABeElEQVR42o2SCZOCMAyF+f9/b9cDZVfEA6UHlJariG+T6t7HLDNvYsrLZ9IQ7XMFUUgc9jvMljHi1RrL1QoPcYL5fIk4XmO2SLCg+Ej5bBFjuU6QPG/wtEmDkud02h1yjlmUZhmMtfDeQ0oJY2q0bYeu6zD4geQxDAP86OFcg6oyFB1q64K3plrKp548xpgsGvoe1+s1AAohbiA6Y8hNPXrKu76DawjkCNA0sBTt/XfTtNM4XmCtyyJhWvDDRdyhJYMuzlD7DOqcQ5QSslR3SahKvYnz0pTc5TSMI8csck0bOnwF8giVMdD5EYd8i1ydoKlIBrCkPxAotAhn7GWZup74aihmUUsjjkT/CKQXKGl8dcohqbhQBXSl6dyguos9PwL5Dl5HFrwUMgYzj05jH9MNTgQ39h3wVZ+AfT/8COSxS0GdKb6nKmz1X0DXtrhcLmGzb0Ay6eMOYptC65K2+TvsG1BRgfdj+EQ+AtUuxXmTEFD/CfsKfAGJ+viWeb0eUAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/5eabf0d8e33c4dfc98cf422ce5f677e2/a59e9/image-27.webp 192w,\n/static/5eabf0d8e33c4dfc98cf422ce5f677e2/0ca9f/image-27.webp 384w,\n/static/5eabf0d8e33c4dfc98cf422ce5f677e2/dc9b9/image-27.webp 768w,\n/static/5eabf0d8e33c4dfc98cf422ce5f677e2/e2c2f/image-27.webp 1152w,\n/static/5eabf0d8e33c4dfc98cf422ce5f677e2/f3efb/image-27.webp 1536w,\n/static/5eabf0d8e33c4dfc98cf422ce5f677e2/4cbbf/image-27.webp 3305w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/5eabf0d8e33c4dfc98cf422ce5f677e2/3b721/image-27.png 192w,\n/static/5eabf0d8e33c4dfc98cf422ce5f677e2/66595/image-27.png 384w,\n/static/5eabf0d8e33c4dfc98cf422ce5f677e2/fe486/image-27.png 768w,\n/static/5eabf0d8e33c4dfc98cf422ce5f677e2/d2d74/image-27.png 1152w,\n/static/5eabf0d8e33c4dfc98cf422ce5f677e2/e8464/image-27.png 1536w,\n/static/5eabf0d8e33c4dfc98cf422ce5f677e2/1f9d1/image-27.png 3305w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/5eabf0d8e33c4dfc98cf422ce5f677e2/fe486/image-27.png\"\n            alt=\"Alt text\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>프로젝트에 task-definition.json 파일을 생성하자</p>\n<p>task-definition.json</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"taskDefinitionArn\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"arn:aws:ecs:ap-northeast-2:490538782156:task-definition/hhp-ecommerce-dev:1\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"containerDefinitions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ecommerce\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"image\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"490538782156.dkr.ecr.ap-northeast-2.amazonaws.com/hhplus-dev\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"cpu\"</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"portMappings\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token punctuation\">{</span>\n          <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ecommerce-8080-tcp\"</span><span class=\"token punctuation\">,</span>\n          <span class=\"token property\">\"containerPort\"</span><span class=\"token operator\">:</span> <span class=\"token number\">8080</span><span class=\"token punctuation\">,</span>\n          <span class=\"token property\">\"hostPort\"</span><span class=\"token operator\">:</span> <span class=\"token number\">8080</span><span class=\"token punctuation\">,</span>\n          <span class=\"token property\">\"protocol\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"tcp\"</span><span class=\"token punctuation\">,</span>\n          <span class=\"token property\">\"appProtocol\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"http\"</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"essential\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"environment\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"environmentFiles\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"mountPoints\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"volumesFrom\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"ulimits\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"logConfiguration\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"logDriver\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"awslogs\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"options\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token property\">\"awslogs-create-group\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"true\"</span><span class=\"token punctuation\">,</span>\n          <span class=\"token property\">\"awslogs-group\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/ecs/hhp-ecommerce-dev\"</span><span class=\"token punctuation\">,</span>\n          <span class=\"token property\">\"awslogs-region\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ap-northeast-2\"</span><span class=\"token punctuation\">,</span>\n          <span class=\"token property\">\"awslogs-stream-prefix\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ecs\"</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"secretOptions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"family\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"hhp-ecommerce-dev\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"taskRoleArn\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"arn:aws:iam::490538782156:role/role-ecs-tasks\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"executionRoleArn\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"arn:aws:iam::490538782156:role/role-ecs-tasks\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"networkMode\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"awsvpc\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"revision\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"volumes\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"status\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ACTIVE\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"requiresAttributes\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"com.amazonaws.ecs.capability.logging-driver.awslogs\"</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ecs.capability.execution-role-awslogs\"</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"com.amazonaws.ecs.capability.ecr-auth\"</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"com.amazonaws.ecs.capability.docker-remote-api.1.19\"</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"com.amazonaws.ecs.capability.task-iam-role\"</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ecs.capability.execution-role-ecr-pull\"</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"com.amazonaws.ecs.capability.docker-remote-api.1.18\"</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ecs.capability.task-eni\"</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"com.amazonaws.ecs.capability.docker-remote-api.1.29\"</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"placementConstraints\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"compatibilities\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"EC2\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"FARGATE\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"requiresCompatibilities\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"FARGATE\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"cpu\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"1024\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"memory\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"3072\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"runtimePlatform\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"cpuArchitecture\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"X86_64\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"operatingSystemFamily\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"LINUX\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"registeredAt\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2024-01-11T07:03:08.235Z\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"registeredBy\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"arn:aws:iam::490538782156:root\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"tags\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ci-dev 파이프라인의 step 을 위의 task definition 맞게 변경 한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"properties\"><pre class=\"language-properties\"><code class=\"language-properties\"><span class=\"token key attr-name\">name</span><span class=\"token punctuation\">:</span> <span class=\"token value attr-value\">Docker Image CI to ECR - dev</span>\n\n<span class=\"token key attr-name\">on</span><span class=\"token punctuation\">:</span>\n<span class=\"token key attr-name\">  push</span><span class=\"token punctuation\">:</span>\n<span class=\"token key attr-name\">    branches</span><span class=\"token punctuation\">:</span> <span class=\"token value attr-value\">[ \"dev\" ]</span>\n<span class=\"token key attr-name\">  pull_request</span><span class=\"token punctuation\">:</span>\n<span class=\"token key attr-name\">    branches</span><span class=\"token punctuation\">:</span> <span class=\"token value attr-value\">[ \"dev\" ]</span>\n\n<span class=\"token key attr-name\">env</span><span class=\"token punctuation\">:</span>\n<span class=\"token key attr-name\">  AWS_REGION</span><span class=\"token punctuation\">:</span> <span class=\"token value attr-value\">ap-northeast-2</span>\n<span class=\"token key attr-name\">  ECS_CLUSTER_NAME</span><span class=\"token punctuation\">:</span> <span class=\"token value attr-value\">cluster-hhplus-dev</span>\n\n\n<span class=\"token key attr-name\">jobs</span><span class=\"token punctuation\">:</span>\n<span class=\"token key attr-name\">  build</span><span class=\"token punctuation\">:</span>\n<span class=\"token key attr-name\">    runs-on</span><span class=\"token punctuation\">:</span> <span class=\"token value attr-value\">ubuntu-latest</span>\n\n<span class=\"token key attr-name\">    steps</span><span class=\"token punctuation\">:</span>\n<span class=\"token key attr-name\">    -</span> <span class=\"token value attr-value\">uses: actions/checkout@v3</span>\n<span class=\"token key attr-name\">    -</span> <span class=\"token value attr-value\">name: Set up JDK 17</span>\n<span class=\"token key attr-name\">      uses</span><span class=\"token punctuation\">:</span> <span class=\"token value attr-value\">actions/setup-java@v1</span>\n<span class=\"token key attr-name\">      with</span><span class=\"token punctuation\">:</span>\n<span class=\"token key attr-name\">          java-version</span><span class=\"token punctuation\">:</span> <span class=\"token value attr-value\">17</span>\n<span class=\"token key attr-name\">    -</span> <span class=\"token value attr-value\">name: Grant execute permission for gradlew</span>\n<span class=\"token key attr-name\">      run</span><span class=\"token punctuation\">:</span> <span class=\"token value attr-value\">chmod +x gradlew</span>\n<span class=\"token key attr-name\">    -</span> <span class=\"token value attr-value\">name: Build with Gradle</span>\n<span class=\"token key attr-name\">      run</span><span class=\"token punctuation\">:</span> <span class=\"token value attr-value\">./gradlew bootjar</span>\n\n<span class=\"token key attr-name\">    -</span> <span class=\"token value attr-value\">name: Configure AWS credentials</span>\n<span class=\"token key attr-name\">      uses</span><span class=\"token punctuation\">:</span> <span class=\"token value attr-value\">aws-actions/configure-aws-credentials@v1</span>\n<span class=\"token key attr-name\">      with</span><span class=\"token punctuation\">:</span>\n<span class=\"token key attr-name\">        aws-access-key-id</span> <span class=\"token punctuation\">:</span> <span class=\"token value attr-value\">${{secrets.AWS_ACCESS_KEY}}</span>\n<span class=\"token key attr-name\">        aws-secret-access-key</span> <span class=\"token punctuation\">:</span> <span class=\"token value attr-value\">${{secrets.AWS_SECRET_KEY}}</span>\n<span class=\"token key attr-name\">        aws-region</span><span class=\"token punctuation\">:</span> <span class=\"token value attr-value\">${{ env.AWS_REGION }}</span>\n\n<span class=\"token key attr-name\">    -</span> <span class=\"token value attr-value\">name: Login to AWS ECR</span>\n<span class=\"token key attr-name\">      id</span><span class=\"token punctuation\">:</span> <span class=\"token value attr-value\">login-ecr</span>\n<span class=\"token key attr-name\">      run</span><span class=\"token punctuation\">:</span> <span class=\"token value attr-value\">aws ecr get-login-password --region ap-northeast-2 | docker login --username AWS --password-stdin ${{secrets.ECR_DEV_URL}}</span>\n\n<span class=\"token key attr-name\">    -</span> <span class=\"token value attr-value\">name: Build the Docker image</span>\n<span class=\"token key attr-name\">      id</span><span class=\"token punctuation\">:</span> <span class=\"token value attr-value\">build-image</span>\n<span class=\"token key attr-name\">      run</span><span class=\"token punctuation\">:</span> <span class=\"token value attr-value\">|</span>\n<span class=\"token key attr-name\">       docker</span> <span class=\"token value attr-value\">build -t hhplus-dev:latest .</span>\n<span class=\"token key attr-name\">       echo</span> <span class=\"token value attr-value\">\"::set-output name=image::${{ secrets.ECR_DEV_URL }}/hhplus-dev:latest\"</span>\n\n<span class=\"token key attr-name\">    -</span> <span class=\"token value attr-value\">name : ADD Tag</span>\n<span class=\"token key attr-name\">      run</span> <span class=\"token punctuation\">:</span> <span class=\"token value attr-value\">docker tag hhplus-dev:latest ${{secrets.ECR_DEV_URL}}/hhplus-dev:latest</span>\n<span class=\"token key attr-name\">    -</span> <span class=\"token value attr-value\">name: Push Docker image to ECR</span>\n<span class=\"token key attr-name\">      run</span><span class=\"token punctuation\">:</span> <span class=\"token value attr-value\">docker push ${{secrets.ECR_DEV_URL}}/hhplus-dev:latest</span>\n<span class=\"token key attr-name\">      env</span><span class=\"token punctuation\">:</span>\n<span class=\"token key attr-name\">          AWS_ACCESS_KEY_ID</span><span class=\"token punctuation\">:</span> <span class=\"token value attr-value\">${{ secrets.AWS_ACCESS_KEY }}</span>\n<span class=\"token key attr-name\">          AWS_SECRET_ACCESS_KEY</span><span class=\"token punctuation\">:</span> <span class=\"token value attr-value\">${{ secrets.AWS_SECRET_ACCESS }}</span>\n<span class=\"token key attr-name\">    -</span> <span class=\"token value attr-value\">name: Render ECS task-definition</span>\n<span class=\"token key attr-name\">      id</span><span class=\"token punctuation\">:</span> <span class=\"token value attr-value\">render-task-definition</span>\n<span class=\"token key attr-name\">      uses</span><span class=\"token punctuation\">:</span> <span class=\"token value attr-value\">aws-actions/amazon-ecs-render-task-definition@v1</span>\n<span class=\"token key attr-name\">      with</span><span class=\"token punctuation\">:</span>\n<span class=\"token key attr-name\">       task-definition</span><span class=\"token punctuation\">:</span> <span class=\"token value attr-value\">task-definition-dev.json</span>\n<span class=\"token key attr-name\">       container-name</span><span class=\"token punctuation\">:</span> <span class=\"token value attr-value\">ecommerce</span>\n<span class=\"token key attr-name\">       image</span><span class=\"token punctuation\">:</span> <span class=\"token value attr-value\">${{ steps.build-image.outputs.image }}</span>\n\n<span class=\"token key attr-name\">    -</span> <span class=\"token value attr-value\">name: Deploy Amazon ECS task-definition</span>\n<span class=\"token key attr-name\">      uses</span><span class=\"token punctuation\">:</span> <span class=\"token value attr-value\">aws-actions/amazon-ecs-deploy-task-definition@v1</span>\n<span class=\"token key attr-name\">      with</span><span class=\"token punctuation\">:</span>\n<span class=\"token key attr-name\">        task-definition</span><span class=\"token punctuation\">:</span> <span class=\"token value attr-value\">${{ steps.render-task-definition.outputs.task-definition }}</span>\n<span class=\"token key attr-name\">        cluster</span><span class=\"token punctuation\">:</span> <span class=\"token value attr-value\">${{env.ECS_CLUSTER_NAME}}</span>\n<span class=\"token key attr-name\">        service</span><span class=\"token punctuation\">:</span> <span class=\"token value attr-value\">hhp-ecommerce-service</span>\n<span class=\"token key attr-name\">        wait-for-service-stability</span><span class=\"token punctuation\">:</span> <span class=\"token value attr-value\">true</span></code></pre></div>\n<h3 id=\"자동-배포-확인\" style=\"position:relative;\"><a href=\"#%EC%9E%90%EB%8F%99-%EB%B0%B0%ED%8F%AC-%ED%99%95%EC%9D%B8\" aria-label=\"자동 배포 확인 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>자동 배포 확인</h3>\n<p>설정을 변경 했으니</p>\n<p>ci-dev 을 트리깅 해서 내 ECR에 빌드된 이미지를 업로드 하고, 정상적 자동 배포 되는지 확인 해보자</p>\n<p>확인을 위해 API 응답을 변경 “hello world !!!!!!!! => “안녕 !!!!“;</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\">  <span class=\"token annotation punctuation\">@GetMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">hello</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token string\">\"안녕 !!!!\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<p>변경 된 코드 Push 후 dev 브랜치에 PR</p>\n<p>Github Actions 정상 동작</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/119a29586ad492b02d852f609c3bf409/b78b7/image-15.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 60.9375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAACToAAAk6AGCYwUcAAABFklEQVR42qWS206DQBCGeRWFlkOB5VQo0tbjA1flwugDeWHihW2xdAm/O5NorIlAwiZ/ZjeZ/fLPQavrI2QjQadpGo5Pzy9Ii2ulK8SLNaJs2aswLZCv76C9vr/hoKD1UaL6PDBwc1/i3PThRgvotlB3j3U2dTtFOdrHdgspJdq25cjAx5JBYbqEp6C2n8BQ74kTdIpytN1uj31VnZS8eShherEq+QYiucAsSFn0oU8aOSP9BeqWQDAv4IYZTDf6cdALxK9z6jBBtrpFkl/CEfNBsE4g9ZDKJRi50y1/vENaHRoKQUcDDTvgHookZ+joHk5nEU85yla8Po6a8hCX/wInTsggP85hqRUa7dBQgFhN+LuHQ4FfRkUR0v+C1AMAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/119a29586ad492b02d852f609c3bf409/a59e9/image-15.webp 192w,\n/static/119a29586ad492b02d852f609c3bf409/0ca9f/image-15.webp 384w,\n/static/119a29586ad492b02d852f609c3bf409/dc9b9/image-15.webp 768w,\n/static/119a29586ad492b02d852f609c3bf409/e2c2f/image-15.webp 1152w,\n/static/119a29586ad492b02d852f609c3bf409/f3efb/image-15.webp 1536w,\n/static/119a29586ad492b02d852f609c3bf409/c56d9/image-15.webp 3012w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/119a29586ad492b02d852f609c3bf409/3b721/image-15.png 192w,\n/static/119a29586ad492b02d852f609c3bf409/66595/image-15.png 384w,\n/static/119a29586ad492b02d852f609c3bf409/fe486/image-15.png 768w,\n/static/119a29586ad492b02d852f609c3bf409/d2d74/image-15.png 1152w,\n/static/119a29586ad492b02d852f609c3bf409/e8464/image-15.png 1536w,\n/static/119a29586ad492b02d852f609c3bf409/b78b7/image-15.png 3012w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/119a29586ad492b02d852f609c3bf409/fe486/image-15.png\"\n            alt=\"Alt text\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>자동 배포 완료\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/8a22e984552ec7f6cd1c228c64ff7f6a/6bde6/image-1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 53.125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAACToAAAk6AGCYwUcAAAAhUlEQVR42u2O2wrCMBBE8///KNZik17SbJrQGCHJuMYXaUUQfOzAYWZfDivILvDewzkPIkJYA4x1OLUK5+uIppuY937tVs07LlInkXNCjHeWrpVpduhHghoIndJQdZt6y95A8h70AuvjDnK3JEIIeKaU8gFs+juZvxMF/wtLk8AhPIQ/Cx8KO2OLQY4FKQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/8a22e984552ec7f6cd1c228c64ff7f6a/a59e9/image-1.webp 192w,\n/static/8a22e984552ec7f6cd1c228c64ff7f6a/0ca9f/image-1.webp 384w,\n/static/8a22e984552ec7f6cd1c228c64ff7f6a/dc9b9/image-1.webp 768w,\n/static/8a22e984552ec7f6cd1c228c64ff7f6a/e2c2f/image-1.webp 1152w,\n/static/8a22e984552ec7f6cd1c228c64ff7f6a/f3efb/image-1.webp 1536w,\n/static/8a22e984552ec7f6cd1c228c64ff7f6a/37e2a/image-1.webp 2100w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/8a22e984552ec7f6cd1c228c64ff7f6a/3b721/image-1.png 192w,\n/static/8a22e984552ec7f6cd1c228c64ff7f6a/66595/image-1.png 384w,\n/static/8a22e984552ec7f6cd1c228c64ff7f6a/fe486/image-1.png 768w,\n/static/8a22e984552ec7f6cd1c228c64ff7f6a/d2d74/image-1.png 1152w,\n/static/8a22e984552ec7f6cd1c228c64ff7f6a/e8464/image-1.png 1536w,\n/static/8a22e984552ec7f6cd1c228c64ff7f6a/6bde6/image-1.png 2100w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/8a22e984552ec7f6cd1c228c64ff7f6a/fe486/image-1.png\"\n            alt=\"Alt text\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<h2 id=\"회고\" style=\"position:relative;\"><a href=\"#%ED%9A%8C%EA%B3%A0\" aria-label=\"회고 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>회고</h2>\n<p>CI CD 를 경험 한적도 없었고, Phase 를 구성한 적도 없어서\n개념을 이해하고 적용하는 데 시간이 많이 걸려 과제를 수행 하는 것이 쉽지 않았다.</p>\n<p>블로그와 문서 , 강의를 통해서 개념들을 익히고 현재 요구사항에 필요한 최소한의 조건으로 설정하였다.</p>\n<p>완벽하게 이해한 것도 아니고 설정 파일도 수정할 것이 있지만 하나의 cycle 다 경험 할 수 있어서 좋았다.</p>\n<p>Dockefile , Github Actions workflow 파일 , phase 설정 들은 개선할 것이 많아 보인다.\n앞으로 과제를 진행 하면서 점차 개선해야 겠다.</p>","frontmatter":{"title":"Docker , ECR ,ECS , Github Actions을 활용한 CI/CD  파이프라인 구축","summary":"Docker 와 Github Actions , ECR , ECS 로 CI/ CD 구축하였습니다.","date":"2023.12.09.","categories":["항해플러스"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABPUlEQVR42qWT23LDIAxE/f+/2sYGbEBctyuSOClOn+oZDTEjr86uJkuMEcYY6Flrw19P79f3lDIkpfFd54XWIrzcrIMPAv0dc0FiyVTzXWRviAlReEqCj4JSKpaYBF/rjZQWG8tQXESnVrTWHtXhc0Pl2d6qlILDB2QOUErtXaQkEhpYq2IWzu1DrE8efabIZLuxJzCqwv57DLRcRGDXlXQG67ZhXTeKO+z7zjrg/TEGDMHWz6y0GqlCiINsvCthpaD5vlHM4JunEt6DfllWMKkdE+AYEEIgaXsRVn68WzsI7SM/zWS2HHK/bFqHRS7j2XsKOtJZkjnaPLynYD5tPOvQpfTJcmuD8Jn5sFwY6karumHNzzl3NvwSTFfB2upD8D1DXb27k2l+kZmWD4KaYftAqBG9u1mu/4iO/zw/+Q1hN+eIgu8AAAAASUVORK5CYII="},"images":{"fallback":{"src":"/static/ac7b361e6bebe7a7963e36daf0d1a59e/78f23/img_7.png","srcSet":"/static/ac7b361e6bebe7a7963e36daf0d1a59e/bd759/img_7.png 345w,\n/static/ac7b361e6bebe7a7963e36daf0d1a59e/dec9e/img_7.png 689w,\n/static/ac7b361e6bebe7a7963e36daf0d1a59e/78f23/img_7.png 1378w","sizes":"(min-width: 1378px) 1378px, 100vw"},"sources":[{"srcSet":"/static/ac7b361e6bebe7a7963e36daf0d1a59e/f9263/img_7.webp 345w,\n/static/ac7b361e6bebe7a7963e36daf0d1a59e/faaa8/img_7.webp 689w,\n/static/ac7b361e6bebe7a7963e36daf0d1a59e/ba328/img_7.webp 1378w","type":"image/webp","sizes":"(min-width: 1378px) 1378px, 100vw"}]},"width":1378,"height":743}},"publicURL":"/static/ac7b361e6bebe7a7963e36daf0d1a59e/img_7.png"}}}}]}},"pageContext":{"slug":"/항해플러스/CI-CD/"}},"staticQueryHashes":[],"slicesMap":{}}