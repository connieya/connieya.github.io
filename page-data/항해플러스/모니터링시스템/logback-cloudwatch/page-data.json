{"componentChunkName":"component---src-templates-post-template-tsx","path":"/항해플러스/모니터링시스템/logback-cloudwatch/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"tableOfContents":"<ul>\n<li>\n<p><a href=\"#%ED%86%B5%ED%95%A9-%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81-%EC%8B%9C%EC%8A%A4%ED%85%9C-%EA%B5%AC%EC%B6%95\">통합 모니터링 시스템 구축</a></p>\n<ul>\n<li>\n<p><a href=\"#%EC%84%9C%EB%B2%84-%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81%EC%9D%84-%ED%95%B4%EC%95%BC-%ED%95%98%EB%8A%94-%EC%9D%B4%EC%9C%A0\">서버 모니터링을 해야 하는 이유</a></p>\n</li>\n<li>\n<p><a href=\"#%EB%A1%9C%EA%B7%B8\">로그</a></p>\n<ul>\n<li><a href=\"#%EB%A1%9C%EA%B7%B8%EB%9E%80\">로그란?</a></li>\n<li><a href=\"#%EB%A1%9C%EA%B7%B8-%EA%B4%80%EB%A6%AC\">로그 관리</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#logback\">Logback</a></p>\n<ul>\n<li>\n<p><a href=\"#%ED%8A%B9%EC%A7%95\">특징</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%84%A4%EC%A0%95\">설정</a></p>\n<ul>\n<li><a href=\"#appender\">appender</a></li>\n<li><a href=\"#encoder\">encoder</a></li>\n<li><a href=\"#pattern\">pattern</a></li>\n<li><a href=\"#root\">root</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%A1%9C%EA%B7%B8-%EB%A0%88%EB%B2%A8\">로그 레벨</a></p>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#cloudwatch-%EB%A5%BC-%ED%99%9C%EC%9A%A9%ED%95%9C-%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81-%ED%99%98%EA%B2%BD\">CloudWatch 를 활용한 모니터링 환경</a></p>\n<ul>\n<li>\n<p><a href=\"#%EB%A1%9C%EA%B7%B8-%EA%B7%B8%EB%A3%B9-%EC%83%9D%EC%84%B1\">로그 그룹 생성</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%9D%98%EC%A1%B4%EC%84%B1-%EC%84%A4%EC%A0%95\">의존성 설정</a></p>\n<ul>\n<li><a href=\"#%EC%8B%A4%ED%96%89\">실행</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#json-%ED%98%95%ED%83%9C%EB%A1%9C-%EC%A0%80%EC%9E%A5%ED%95%98%EA%B8%B0\">JSON 형태로 저장하기</a></p>\n<ul>\n<li><a href=\"#%EC%9D%98%EC%A1%B4%EC%84%B1-%EC%B6%94%EA%B0%80\">의존성 추가</a></li>\n<li><a href=\"#%EB%A1%9C%EA%B7%B8%EB%B0%B1-%EC%84%A4%EC%A0%95-%EC%B6%94%EA%B0%80\">로그백 설정 추가</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#slack-webhook-api%EB%A5%BC-%ED%99%9C%EC%9A%A9%ED%95%9C-alert-%EC%84%9C%EB%B9%84%EC%8A%A4\">Slack Webhook API를 활용한 Alert 서비스</a></p>\n<ul>\n<li>\n<p><a href=\"#error-log-lambda-%EC%83%9D%EC%84%B1\">Error Log Lambda 생성</a></p>\n<ul>\n<li><a href=\"#%EB%9E%8C%EB%8B%A4-%ED%95%A8%EC%88%98-%EC%83%9D%EC%84%B1\">람다 함수 생성</a></li>\n<li><a href=\"#%ED%99%98%EA%B2%BD-%EB%B3%80%EC%88%98-%EC%83%9D%EC%84%B1\">환경 변수 생성</a></li>\n<li><a href=\"#error-log-%EC%95%8C%EB%A6%BC-%EB%B3%B4%EB%82%B4%EA%B8%B0\">Error Log 알림 보내기</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%B0%B8%EA%B3%A0\">참고</a></p>\n</li>\n</ul>\n</li>\n</ul>","html":"<h1 id=\"통합-모니터링-시스템-구축\" style=\"position:relative;\"><a href=\"#%ED%86%B5%ED%95%A9-%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81-%EC%8B%9C%EC%8A%A4%ED%85%9C-%EA%B5%AC%EC%B6%95\" aria-label=\"통합 모니터링 시스템 구축 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>통합 모니터링 시스템 구축</h1>\n<p>서버에서 발생하는 로그를 통합 모니터링 시스템을 구축하여 조회한다.</p>\n<h2 id=\"서버-모니터링을-해야-하는-이유\" style=\"position:relative;\"><a href=\"#%EC%84%9C%EB%B2%84-%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81%EC%9D%84-%ED%95%B4%EC%95%BC-%ED%95%98%EB%8A%94-%EC%9D%B4%EC%9C%A0\" aria-label=\"서버 모니터링을 해야 하는 이유 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>서버 모니터링을 해야 하는 이유</h2>\n<ul>\n<li>사전 분석을 통해 장애를 방지할 수 있다.\n<ul>\n<li>시스템을 지속적으로 모니터링하고 있다면 자동 또는 수동으로 설정된 경고 신호를 통해 문제가 발생하기 전에 조치를 취할 수 있다.</li>\n</ul>\n</li>\n<li>다운타임을 줄이고 비즈니스 손실을 방지할 수 있다.\n<ul>\n<li>다운타임은 비즈니스에 있어 매우 중요한 요소이다.</li>\n<li>장애를 발견하고 10분만에 문제가 해결되었다 해도 5시간 동안 장애를 인지 못하고 있었으면 다운타임은 5시간 10분이 된다.</li>\n<li>서버 모니터링은 문제의 범위를 줄여줄 수 있기 때문에 다운타임을 줄이는 데 도움이 된다.</li>\n</ul>\n</li>\n<li>생산성과 성능을 향상시킬 수 있다.\n<ul>\n<li>서버 모니터링을 통해 서버 자원과 네트워크의 상관관계를 분석할 수 있다.</li>\n<li>클라우드 서비스를 사용하는 경우 모니터링 분석 결과를 기반으로 서버와 네트워크를 조정해 보는 것도 좋은 방법이다.</li>\n</ul>\n</li>\n<li>모니터링을 통해 IT 업그레이드 계획 및 예산을 정한다.\n<ul>\n<li>모든 서버는 생명 주기를 가지고 있다. 매년 필요한 서버의 규모는 다르다.</li>\n<li>모니터링으로 예측하고 전략을 변경하는 것은 효과적인 서버의 운영방법이다.</li>\n</ul>\n</li>\n<li>데이터 기반의 통찰력과 의사결정을 가능하게 한다.\n<ul>\n<li>클라우드로 IT 환경에서 성능과 비용이 실시간으로 교환 가능하기 때문에 서버 모니터링의 비즈니스적 요소는 더 중요해진다.</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"로그\" style=\"position:relative;\"><a href=\"#%EB%A1%9C%EA%B7%B8\" aria-label=\"로그 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>로그</h2>\n<h3 id=\"로그란\" style=\"position:relative;\"><a href=\"#%EB%A1%9C%EA%B7%B8%EB%9E%80\" aria-label=\"로그란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>로그란?</h3>\n<blockquote>\n<p>컴퓨터가 개별적인 작업이나 이벤트에 대해 생성하는 기록으로 타임 스탬프가 찍혀있다.</p>\n</blockquote>\n<p>로그가 일반적으로 기록하는 데이터는 함수 호출, 오류, HTTP 요청 , 데이터베이스 트랜잭션 등이며, 로그는 발생하는 상황에 대한 단계별 상세 정보를 제공한다.</p>\n<h3 id=\"로그-관리\" style=\"position:relative;\"><a href=\"#%EB%A1%9C%EA%B7%B8-%EA%B4%80%EB%A6%AC\" aria-label=\"로그 관리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>로그 관리</h3>\n<blockquote>\n<p>로그의 생성에서 집계, 저장, 분석, 보관 및 폐기까지 로그 데이터의 처리와 관련된 모든 프로세스를 의미한다.</p>\n</blockquote>\n<p>로그 관리 시스템은 애플리케이션, 네트워크 또는 서버에서 이뤄지는 모든 것을 기록해야 한다. 이렇게 기록된 로그 데이터는 문제 해결과 분석에 사용할 수 있다.</p>\n<p>모니터링을 왜 해야하는 지, 로그가 무엇인지 알아보았으니\n직접 로그를 남겨 보자.</p>\n<p>SpringBoot 로 개발하고 있는 서버에 로그를 남기기 위해</p>\n<h2 id=\"logback\" style=\"position:relative;\"><a href=\"#logback\" aria-label=\"logback permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Logback</h2>\n<blockquote>\n<p>Log4J 를 기반으로 개발된 로깅(Logging) 라이브러리\nlog4j에 비해 약 10배 정도 빠른 퍼포먼스, 메모리 효율성 증대</p>\n</blockquote>\n<p>스프링부트의 경우 기본적으로 지원하고 있기 때문에 별도의 dependency 를 설정해줄 필요가 없다.</p>\n<h3 id=\"특징\" style=\"position:relative;\"><a href=\"#%ED%8A%B9%EC%A7%95\" aria-label=\"특징 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>특징</h3>\n<ul>\n<li>로그에 특정 레벨을 설정할 수 있다. (Trace -> Debug -> Info -> Warn -> Error)</li>\n<li>실운영과 테스트 상황에서 각각 다른 출력 레벨을 설정하여 로그를 확인할 수 있다.</li>\n<li>출력 방식에 대해 설정할 수 있다.</li>\n<li>설정 파일을 일정 시간마다 스캔하여 어플리케이션 중단 없이 설정 변경 가능</li>\n<li>별도의 프로그램 없이 자체적으로 로그 압축을 지원</li>\n<li>로그 보관 기간 설정 가능</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/e14492c98efd54134acdcc48383bd70b/dd14e/img.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 51.041666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABQElEQVR42n1SV7KEQAj0NjrmHNewplI/vP9t2GmmTLv13geFA9h0A5ppmvQ0wV4IQUEQUN/3tCwLZVlGv7W/pl0g4gGo6zo5jkNN09A0jRTHMcfQ6G9AoQBRdDfLsihNEyqKnMqyZNA8V9+e556gyovTn4C2bUk2NhvehmEwQF3X1HUdzfPMoG3bMuuDKRof/5+ShTDI931KkkRazNI8z5MMUzawBDDyeGOuyIdhyPFhGGRNcQdUw0cQrCA1DNX7/e5oXVfa950XA5ZRFMl8xM27rqVxnOj1qp4zvOZhnrKDIJQNCul9zoER2AJIybQZAPKvhZoXIIKYCVhCBpjBYwTIQ2aeZ7Rtm2Q1shLEvreufa8eQ0chtgkPJvjJdV1mWVUV3yTmfrD8F1CdjnGekDoLg8Fw5GAHw0Jc17kxVP4DOpM4p2ezv/wAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/e14492c98efd54134acdcc48383bd70b/a59e9/img.webp 192w,\n/static/e14492c98efd54134acdcc48383bd70b/0ca9f/img.webp 384w,\n/static/e14492c98efd54134acdcc48383bd70b/dc9b9/img.webp 768w,\n/static/e14492c98efd54134acdcc48383bd70b/5e9fb/img.webp 1050w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/e14492c98efd54134acdcc48383bd70b/3b721/img.png 192w,\n/static/e14492c98efd54134acdcc48383bd70b/66595/img.png 384w,\n/static/e14492c98efd54134acdcc48383bd70b/fe486/img.png 768w,\n/static/e14492c98efd54134acdcc48383bd70b/dd14e/img.png 1050w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/e14492c98efd54134acdcc48383bd70b/fe486/img.png\"\n            alt=\"img.png\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<h3 id=\"설정\" style=\"position:relative;\"><a href=\"#%EC%84%A4%EC%A0%95\" aria-label=\"설정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>설정</h3>\n<p>일반적으로 Classpath에 있는 logback 설정 파일을 참조하게 된다</p>\n<ul>\n<li>Java Legacy , Spring 의 경우에는 logback.xml 파일을 참조</li>\n<li>Spring Boot 의 경우에 logback-spring.xml 파일을 참조</li>\n</ul>\n<p>application.yml 에 설정할 수 있지만, 세부적인 설정이 불편하기 때문에\nlogback-spring.xml 로 설정하였다.</p>\n<h4 id=\"appender\" style=\"position:relative;\"><a href=\"#appender\" aria-label=\"appender permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>appender</h4>\n<p>Log의 형태 및 어디에 출력 할지 설정 하기 위한 영역</p>\n<ul>\n<li>ConsoleAppender : 콘솔에 로그를 출력</li>\n<li>FileAppender : 파일에 로그를 저장</li>\n<li>RollingFileAppender : 여러 개의 파일을 순회하면서 로그를 저장</li>\n<li>SMTPAppender : 로그를 메일로 보냄</li>\n<li>DBAppender : 데이터베이스에 로그를 저장</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"xml\"><pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token prolog\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>configuration</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>appender</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>console<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>ch.qos.logback.core.ConsoleAppender<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>filter</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>ch.qos.logback.classic.filter.ThresholdFilter<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>level</span><span class=\"token punctuation\">></span></span>DEBUG<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>level</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>filter</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>encoder</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>pattern</span><span class=\"token punctuation\">></span></span>[%d{yyyy-MM-dd HH:mm:ss.SSS}] [%-5level] [%thread] %highlight(%level) %M %logger %msg%n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>pattern</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>encoder</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>appender</span><span class=\"token punctuation\">></span></span>\n\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>root</span> <span class=\"token attr-name\">level</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>INFO<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>appender-ref</span> <span class=\"token attr-name\">ref</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>console<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>root</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>configuration</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<h4 id=\"encoder\" style=\"position:relative;\"><a href=\"#encoder\" aria-label=\"encoder permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>encoder</h4>\n<p>Appender 내에 포함되는 항목이며, pattern 을 사용하여 원하는 형식으로 로그를 표현할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"xml\"><pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>encoder</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>pattern</span><span class=\"token punctuation\">></span></span>%green(%d{yyyy-MM-dd'T'HH:mm:ss}) %magenta([%thread]) %highlight(%level) %cyan(%logger{15})%msg%n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>pattern</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>encoder</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<h4 id=\"pattern\" style=\"position:relative;\"><a href=\"#pattern\" aria-label=\"pattern permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>pattern</h4>\n<ul>\n<li>%Logger{length} : Logger Name</li>\n<li>%-5level : 로그 레벨, -5는 출력의 고정폭 값</li>\n<li>%msg : 로그 메시지 영역 (==%message)</li>\n<li>${PID:-} : 프로세스 id</li>\n<li>%d : 로그 기록 시간</li>\n<li>%p : 로깅 레벨</li>\n<li>%F : 로깅일 발생한 프로그램 파일명</li>\n<li>%M : 로깅이 발생한 메소드의 이름</li>\n<li>%I : 로깅이 발생한 호출지의 정보</li>\n<li>%L : 로깅이 발생한 호출지의 라인 수</li>\n<li>%thread : 현재 Thread 명</li>\n<li>%t : 로깅이 발생한 Thread 명</li>\n<li>%c : 로깅이 발생한 카테고리</li>\n<li>%C : 로깅이 발생한 클래스 명</li>\n<li>%m : 로그 메시지</li>\n<li>%n : 줄바꿈</li>\n<li>%% : %출력</li>\n<li>%r : 어플리케이션 실행 후 로깅이 발생한 시점까지의 시간</li>\n</ul>\n<h4 id=\"root\" style=\"position:relative;\"><a href=\"#root\" aria-label=\"root permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>root</h4>\n<p>설정한 Appender를 참조하여 로그의 레벨을 설정할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"xml\"><pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>root</span> <span class=\"token attr-name\">level</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>INFO<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>appender-ref</span> <span class=\"token attr-name\">ref</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>CONSOLE<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>root</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<h3 id=\"로그-레벨\" style=\"position:relative;\"><a href=\"#%EB%A1%9C%EA%B7%B8-%EB%A0%88%EB%B2%A8\" aria-label=\"로그 레벨 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>로그 레벨</h3>\n<p>TRACE -> DEBUG -> INFO -> WARN -> ERROR</p>\n<ul>\n<li>ERROR : 로직 수행 숭에 오류가 발생한 경우, 시스템적으로 심각한 문제가 발생하여 작동이 불가한 경우</li>\n<li>WARN : 시스템 에러의 원인이 될 수 있는 경고 레벨, 처리 가능한 사항</li>\n<li>INFO : 상태 변경과 같은 정보성 메시지</li>\n<li>DEBUG : 어플리케이션의 디버깅을 위한 메시지 레벨</li>\n<li>TRACE : DEBUG 레벨보다 더 디테일한 메시지를 표현하기 위한 레벨</li>\n</ul>\n<p>※ 예를 들어, 로그 레벨을 ‘INFO’라고 설정했을 경우 ‘TRACE’ ,‘DEBUG’ 레벨은 출력되지 않음</p>\n<h2 id=\"cloudwatch-를-활용한-모니터링-환경\" style=\"position:relative;\"><a href=\"#cloudwatch-%EB%A5%BC-%ED%99%9C%EC%9A%A9%ED%95%9C-%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81-%ED%99%98%EA%B2%BD\" aria-label=\"cloudwatch 를 활용한 모니터링 환경 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>CloudWatch 를 활용한 모니터링 환경</h2>\n<p>Amazon CloudWatch</p>\n<blockquote>\n<p>AWS 리소스와 AWS 에서 실시간으로 실행 중인 애플리케이션을 모니터링 하는 서비스</p>\n</blockquote>\n<p>지표를 감시해 알림을 보내거나 임계값을 위반한 경우 모니터링 리소스를 자동으로 변경하는 경보를 생성할 수 있다.</p>\n<p>예를 들어 경보는 인스턴스 중지, auto scaling 및 Amazon SNS 작업 시작, 종료 등으로 구성할 수 있다.</p>\n<h3 id=\"로그-그룹-생성\" style=\"position:relative;\"><a href=\"#%EB%A1%9C%EA%B7%B8-%EA%B7%B8%EB%A3%B9-%EC%83%9D%EC%84%B1\" aria-label=\"로그 그룹 생성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>로그 그룹 생성</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/6e38c5cfaa246c90b1b53223279292ab/a0a10/image-1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 63.541666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABz0lEQVR42oVT23LTMBT0/7/CSynNtJNAmykDHXjiW4CHJoUk9U03S7JkezlHzqUu06KZnSNZymp3j5JdX1zi6vwLvi9vcXdzhYvFJ8w/3OBuucD54pb25vg8W+L9x6+Yzb/hzdkMb99dTnF2QtZKgWg1eGhjUAmFbV7iT1GjFgKuLGBtQ7sDhqHD/0ZWlBWRCLRti8fHHLvdDuv1Cuv7e2w2WyjTwFmLpmkIXM0ERpt0cbVH1liHEGJiL0iNMBa5diiVRUm1ajykDSe4AOEiahupdjBtl5wprRMybzSGfrRSFAUq4/CraPBjp/AzN1jVFlvlsJEjtsrjQUWsZcCDjqh8Ty6eEJrfK7RaHQk1fWQLhiwOw/AiDoPnZkJI+bQhnAhJsZAKzjn0Q4+O1MeuozrOx3U/IZxY1hS6P2ZYQiqZqvWBCId/wMQxxtcITVIwKiyTZd5w1PWOvvdE8Bxd171MKCivsLeck2XOzhNZs48i0I+PIGUJTy5ixRNCDpTfIG+WZJVzLKsqvTs+yJkeDpu0PoEvZxz2E6FSKnX1cJOktZASrLyua1QERU1S9BIsqeZmcbVunHvvpwqTEj3+9fgAW+UXz82Ke4uvjecZ/gUBy91L62xOmAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/6e38c5cfaa246c90b1b53223279292ab/a59e9/image-1.webp 192w,\n/static/6e38c5cfaa246c90b1b53223279292ab/0ca9f/image-1.webp 384w,\n/static/6e38c5cfaa246c90b1b53223279292ab/dc9b9/image-1.webp 768w,\n/static/6e38c5cfaa246c90b1b53223279292ab/e2c2f/image-1.webp 1152w,\n/static/6e38c5cfaa246c90b1b53223279292ab/d59e9/image-1.webp 1281w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/6e38c5cfaa246c90b1b53223279292ab/3b721/image-1.png 192w,\n/static/6e38c5cfaa246c90b1b53223279292ab/66595/image-1.png 384w,\n/static/6e38c5cfaa246c90b1b53223279292ab/fe486/image-1.png 768w,\n/static/6e38c5cfaa246c90b1b53223279292ab/d2d74/image-1.png 1152w,\n/static/6e38c5cfaa246c90b1b53223279292ab/a0a10/image-1.png 1281w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/6e38c5cfaa246c90b1b53223279292ab/fe486/image-1.png\"\n            alt=\"Alt text\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<h3 id=\"의존성-설정\" style=\"position:relative;\"><a href=\"#%EC%9D%98%EC%A1%B4%EC%84%B1-%EC%84%A4%EC%A0%95\" aria-label=\"의존성 설정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>의존성 설정</h3>\n<div class=\"gatsby-highlight\" data-language=\"groovy\"><pre class=\"language-groovy\"><code class=\"language-groovy\">implementation <span class=\"token interpolation-string\"><span class=\"token string\">\"ca.pjer:logback-awslogs-appender:1.6.0\"</span></span>\nimplementation <span class=\"token string\">'org.codehaus.janino:janino:3.1.9'</span></code></pre></div>\n<p>위의 ca.pjer:logback-awslogs-appender 는 Spring 에서 CloudWatch 로 log 를 전송할 수 있도록 해주는 라이브러리이고</p>\n<p>밑에 org.codehaus.janino 는 logback 의 조건부 처리 기능을 위한 라이브러리이다.\nspring profile 에 따른 로그 레벨을 설정할 때 사용할 것 같다.</p>\n<p>logback-spring.xml 파일 작성</p>\n<div class=\"gatsby-highlight\" data-language=\"xml\"><pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token prolog\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>configuration</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>appender</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>console<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>ch.qos.logback.core.ConsoleAppender<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>filter</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>ch.qos.logback.classic.filter.ThresholdFilter<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>level</span><span class=\"token punctuation\">></span></span>TRACE<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>level</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>filter</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>encoder</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>pattern</span><span class=\"token punctuation\">></span></span>[%d{yyyy-MM-dd HH:mm:ss.SSS}] [%-5level] [%thread] %highlight(%level) %M %logger %msg%n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>pattern</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>encoder</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>appender</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>appender</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>ASYNC_AWS_LOGS<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>ca.pjer.logback.AwsLogsAppender<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>filter</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>ch.qos.logback.classic.filter.ThresholdFilter<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>level</span><span class=\"token punctuation\">></span></span>INFO<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>level</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>filter</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>layout</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>pattern</span><span class=\"token punctuation\">></span></span>%d{yyyyMMdd'T'HHmmss} %thread %level %logger{15} %msg%n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>pattern</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>layout</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>logGroupName</span><span class=\"token punctuation\">></span></span>hhplus-ecommerce<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>logGroupName</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>logStreamUuidPrefix</span><span class=\"token punctuation\">></span></span>error-<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>logStreamUuidPrefix</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>logRegion</span><span class=\"token punctuation\">></span></span>ap-northeast-2<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>logRegion</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>maxBatchLogEvents</span><span class=\"token punctuation\">></span></span>50<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>maxBatchLogEvents</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>maxFlushTimeMillis</span><span class=\"token punctuation\">></span></span>30000<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>maxFlushTimeMillis</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>maxBlockTimeMillis</span><span class=\"token punctuation\">></span></span>5000<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>maxBlockTimeMillis</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>retentionTimeDays</span><span class=\"token punctuation\">></span></span>0<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>retentionTimeDays</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>appender</span><span class=\"token punctuation\">></span></span>\n\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>springProfile</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>dev<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>logger</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>org.springframework<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">level</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>INFO<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>root</span> <span class=\"token attr-name\">level</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>INFO<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>appender-ref</span> <span class=\"token attr-name\">ref</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>ASYNC_AWS_LOGS<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>root</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>springProfile</span><span class=\"token punctuation\">></span></span>\n\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>root</span> <span class=\"token attr-name\">level</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>INFO<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>appender-ref</span> <span class=\"token attr-name\">ref</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>console<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>appender-ref</span> <span class=\"token attr-name\">ref</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>ASYNC_AWS_LOGS<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>root</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>configuration</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>aws cloudwatch 로 log 를 전송하기 위해 aws appender 를 추가하고</p>\n<p>위에서 생성한 로그 그룹을 지정해주었다.\n로그 레벨은 INFO 이기 때문에 INFO , WARN ,ERROR 로 설정한 것은 모두 CloudWatch에 전송된다.</p>\n<p>내가 남긴 로그가 CloudWath 로 잘 전송되는지 확인하기 위해</p>\n<p>로그를 위한 Filter 를 생성하였다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">LogFilter</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">Filter</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">Logger</span> <span class=\"token constant\">LOGGER</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">LoggerFactory</span><span class=\"token punctuation\">.</span><span class=\"token function\">getLogger</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">LogFilter</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@Override</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">doFilter</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ServletRequest</span> request<span class=\"token punctuation\">,</span> <span class=\"token class-name\">ServletResponse</span> response<span class=\"token punctuation\">,</span> <span class=\"token class-name\">FilterChain</span> chain<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">IOException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">ServletException</span> <span class=\"token punctuation\">{</span>\n\n        <span class=\"token class-name\">HttpServletRequest</span> httpRequest <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpServletRequest</span><span class=\"token punctuation\">)</span> request<span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">String</span> requestURI <span class=\"token operator\">=</span> httpRequest<span class=\"token punctuation\">.</span><span class=\"token function\">getRequestURI</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">String</span> method <span class=\"token operator\">=</span> httpRequest<span class=\"token punctuation\">.</span><span class=\"token function\">getMethod</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token constant\">MDC</span><span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"traceId\"</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">UUID</span><span class=\"token punctuation\">.</span><span class=\"token function\">randomUUID</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">substring</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">8</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">HttpServletResponse</span> httpResponse <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpServletResponse</span><span class=\"token punctuation\">)</span> response<span class=\"token punctuation\">;</span>\n\n        <span class=\"token constant\">LOGGER</span><span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"[{}]  request URI = {} \"</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">MDC</span><span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"traceId\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> requestURI<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token constant\">LOGGER</span><span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"[{}]  method = {}\"</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">MDC</span><span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"traceId\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> method<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        chain<span class=\"token punctuation\">.</span><span class=\"token function\">doFilter</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">,</span> response<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token constant\">LOGGER</span><span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"[{}]  response status = {}\"</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">MDC</span><span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"traceId\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> httpResponse<span class=\"token punctuation\">.</span><span class=\"token function\">getStatus</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token constant\">MDC</span><span class=\"token punctuation\">.</span><span class=\"token function\">clear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>로그를 남길 때 traceId 를 넣어주었다. traceId 서비스의 고유한 추적 id 라고 보면 될 것 같다.</p>\n<p>그리고 이 traceId 는 MDC 에 넣어서 사용하였다.</p>\n<p>MDC 는 Mapped Diagnostic Context 로 멀티 클라이언트 환경에서 다른 클라이언트와 값을 구별하여 로그를 추적할 수 있도록 제공되는 map 이다.</p>\n<p>ThreadLocal 을 사용하기 때문에 Thread 단위로 생성된다.\n그렇기 때문에 각각의 스레드에 대해 독립적인 MDC 값을 설정하고 사용할 수 있다. 이를 통해 멀티 스레드 환경에서\n로그 메시지에 대한 정확한 컨텍스트 정보를 유지할 수 있다.</p>\n<h4 id=\"실행\" style=\"position:relative;\"><a href=\"#%EC%8B%A4%ED%96%89\" aria-label=\"실행 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>실행</h4>\n<p>필터에 로그를 남기고 로컬 서버를 실행하면</p>\n<p>아래와 같이 CloudWatch 로그 그룹로 로그가 전송되는 것을 확인할 수 있다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1abe773c03695d4d24893fe50b49c0dd/a0cba/image.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 61.45833333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAACToAAAk6AGCYwUcAAABbUlEQVR42o2TiY7DIAxE+f/v3DYn5IQm6eH1c46mUqXdSCMMGHs8dtw0TbLc75LSTW63HZNw/nw+5T8ffvjz1oWmkaquhbVpW6m9t7VpWumHYbUVITTS9b0kEvL4hKhnXt+3XSeuKEsLmOWF5EWhay5lVVkQHPb1L3Sbr+s1a9ty0BsjLllBTOmwYTfGaKVN8/wBWA5jNLgYk9Ue1RkM+phHj8fDtLmrvtj7/tv3er1kWRYL7pKyGLdgMAIkIOhM9s0+NNM95wTYwX1Qzbt+EHfNMgGX64qfy0WuqqNpWXvVszZN0bpUrUFAV6Q6YW+eaWja6QYdVz0VfWesqeCM92i9wbk1RmO5ShlkWW6dZmTotPfBbBxqWJaVVMqS0aFsyqTsM2yWbQ7DaQ6bzzkcxnUOuYM5NknQed6asIOgMHXrDJ4ZluIDDIOVYefKck9KA78Ntw04Ac9/R7vZsEDPYRyPwSYYe+uslvcNBP0FOhqb2ANJMqkAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/1abe773c03695d4d24893fe50b49c0dd/a59e9/image.webp 192w,\n/static/1abe773c03695d4d24893fe50b49c0dd/0ca9f/image.webp 384w,\n/static/1abe773c03695d4d24893fe50b49c0dd/dc9b9/image.webp 768w,\n/static/1abe773c03695d4d24893fe50b49c0dd/e2c2f/image.webp 1152w,\n/static/1abe773c03695d4d24893fe50b49c0dd/f3efb/image.webp 1536w,\n/static/1abe773c03695d4d24893fe50b49c0dd/17c99/image.webp 2165w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/1abe773c03695d4d24893fe50b49c0dd/3b721/image.png 192w,\n/static/1abe773c03695d4d24893fe50b49c0dd/66595/image.png 384w,\n/static/1abe773c03695d4d24893fe50b49c0dd/fe486/image.png 768w,\n/static/1abe773c03695d4d24893fe50b49c0dd/d2d74/image.png 1152w,\n/static/1abe773c03695d4d24893fe50b49c0dd/e8464/image.png 1536w,\n/static/1abe773c03695d4d24893fe50b49c0dd/a0cba/image.png 2165w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/1abe773c03695d4d24893fe50b49c0dd/fe486/image.png\"\n            alt=\"Alt text\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<h3 id=\"json-형태로-저장하기\" style=\"position:relative;\"><a href=\"#json-%ED%98%95%ED%83%9C%EB%A1%9C-%EC%A0%80%EC%9E%A5%ED%95%98%EA%B8%B0\" aria-label=\"json 형태로 저장하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>JSON 형태로 저장하기</h3>\n<p>로그를 텍스트 형식으로 저장했는데,</p>\n<p>로그 수집 과 분석을 위해서는 텍스트 형식 보다는 구조화 된 포맷을 사용하는 것이 좋다.</p>\n<p>구조화된 로그 형식 중 가장 일반적인 것이 JSON 이다.</p>\n<p>로그백에서 JSON으로 로그를 저장할 수 있다.</p>\n<h4 id=\"의존성-추가\" style=\"position:relative;\"><a href=\"#%EC%9D%98%EC%A1%B4%EC%84%B1-%EC%B6%94%EA%B0%80\" aria-label=\"의존성 추가 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>의존성 추가</h4>\n<div class=\"gatsby-highlight\" data-language=\"groovy\"><pre class=\"language-groovy\"><code class=\"language-groovy\">implementation <span class=\"token string\">'ch.qos.logback:logback-classic'</span>\nimplementation <span class=\"token string\">'ch.qos.logback.contrib:logback-json-classic:0.1.5'</span>\nimplementation <span class=\"token string\">'ch.qos.logback.contrib:logback-jackson:0.1.5'</span></code></pre></div>\n<h4 id=\"로그백-설정-추가\" style=\"position:relative;\"><a href=\"#%EB%A1%9C%EA%B7%B8%EB%B0%B1-%EC%84%A4%EC%A0%95-%EC%B6%94%EA%B0%80\" aria-label=\"로그백 설정 추가 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>로그백 설정 추가</h4>\n<div class=\"gatsby-highlight\" data-language=\"xml\"><pre class=\"language-xml\"><code class=\"language-xml\"> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>encoder</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>ch.qos.logback.core.encoder.LayoutWrappingEncoder<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>layout</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>ch.qos.logback.contrib.json.classic.JsonLayout<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>timestampFormat</span><span class=\"token punctuation\">></span></span>yyyy-MM-dd'T'HH:mm:ss.SSSX<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>timestampFormat</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>timestampFormatTimezoneId</span><span class=\"token punctuation\">></span></span>Etc/UTC<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>timestampFormatTimezoneId</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>jsonFormatter</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>ch.qos.logback.contrib.jackson.JacksonJsonFormatter<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>prettyPrint</span><span class=\"token punctuation\">></span></span>true<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>prettyPrint</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>jsonFormatter</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>layout</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>encoder</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>설정을 추가하고 CloudWatch 에 로그를 전송해보자</p>\n<p>결과</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/2357dce00343b4f1dbc8218fd2b709b4/2b42d/image-7.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 21.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAACToAAAk6AGCYwUcAAAAh0lEQVR42pXPSQ7DIAwF0Nz/jpVQSkvADGFqIAv/QnddpV08W7Ity15SzrDOY9s2EBmY4GH85LCniNn/x1JqhdIaQgiop4S09Fm4x4Q8BnIpI5ffF47AhojFuvJda76pB0syPC5kPbnJstsDx5QuLf084UOAGi97R0i1oLaGehxfXqPWer/0BpWsMY7EOwPHAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/2357dce00343b4f1dbc8218fd2b709b4/a59e9/image-7.webp 192w,\n/static/2357dce00343b4f1dbc8218fd2b709b4/0ca9f/image-7.webp 384w,\n/static/2357dce00343b4f1dbc8218fd2b709b4/dc9b9/image-7.webp 768w,\n/static/2357dce00343b4f1dbc8218fd2b709b4/e2c2f/image-7.webp 1152w,\n/static/2357dce00343b4f1dbc8218fd2b709b4/f3efb/image-7.webp 1536w,\n/static/2357dce00343b4f1dbc8218fd2b709b4/8bc18/image-7.webp 2287w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/2357dce00343b4f1dbc8218fd2b709b4/3b721/image-7.png 192w,\n/static/2357dce00343b4f1dbc8218fd2b709b4/66595/image-7.png 384w,\n/static/2357dce00343b4f1dbc8218fd2b709b4/fe486/image-7.png 768w,\n/static/2357dce00343b4f1dbc8218fd2b709b4/d2d74/image-7.png 1152w,\n/static/2357dce00343b4f1dbc8218fd2b709b4/e8464/image-7.png 1536w,\n/static/2357dce00343b4f1dbc8218fd2b709b4/2b42d/image-7.png 2287w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/2357dce00343b4f1dbc8218fd2b709b4/fe486/image-7.png\"\n            alt=\"Alt text\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<h2 id=\"slack-webhook-api를-활용한-alert-서비스\" style=\"position:relative;\"><a href=\"#slack-webhook-api%EB%A5%BC-%ED%99%9C%EC%9A%A9%ED%95%9C-alert-%EC%84%9C%EB%B9%84%EC%8A%A4\" aria-label=\"slack webhook api를 활용한 alert 서비스 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Slack Webhook API를 활용한 Alert 서비스</h2>\n<p>슬랙 채널에 특정 메시지를 외부에서 전송하기 위해 Webhook 설정을 진행하자</p>\n<p><a href=\"https://api.slack.com/\" target=\"_blank\" rel=\"nofollow\">https://api.slack.com/</a></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/418b22d0c47be84673c827a6cdd1817a/b967e/img_2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 59.375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAACyklEQVR42n2P2U9TQRTG77MxQRaXyB4FFTQEMQZZvbctlPa2dGMngLZAoRQoCMGaGEmE+MSDf4F/jC/Gl6vSGgu0IGhLN9oA7eXC8DktxA3jSX7znZkz53wzTDgUFFzLy0Lwe0CQkqIgiZIgJpJCPBYXkvtJmotCku5TiLSeIpVLSUlI7CaEYDBEe/2C/6NL2P+66WZseivGm/oxy/ZiTtaHWa4fM9wAprlHFDOmWDMcskE4mug9dhj2h1S5UdhlNkw1jWFGYcU8b8OiegRLxkkw3fUdxGmykTl5H5lp6CaOui4yUdNFRu6ZyJxymDzTjBE6kMzwY2Sc6mijhUxrn5AJfoo8Nc2RSXaILJnniZM1E2suS5hh7SBeDTqxYLLjBT+MpcdOvGxz4LnWhoGbPEy5HEUO3VUF9IUt0BWpwBdpoS7WwXDNgO4bRpjL2zBSZoCjvBWMtkKNfortrgbmUgVsVXoMVbSir0QJ/aU6tGRUg8+uhSqnHsqcRihyOMhzZBQ51JcVMOU1o5caDZWoMVmmBePosuPN4mtYbzdjoKgB7ReroTlfiZZzleAz7kN14QFUmTVQZ9VCmVkPRRYLeSYHjqLM5mC4okAPHWopUsJ+XQXGSr+8YHHCckuJvkKWurHozG1ERx6L9nwZ2gqbYMxXUJphyG+BPl8FXYEamgIexmINekp1sNDv2u/oMVvVCSaw5cfW6jrC37bThCiRQAjRQDitEX8IYUp0O0L34VMiJ9Cz1HksRTCKeDACJhwOY3VtFesbG1jzeuFZWUnnvnUfvJRUzevzQhRFpOL4+Bj/C+ZQOsTu7h6iOzuIx+OIxWLYoXlsJ4a9vf20RiNRJBKJdAMh5OfQlP4N49lcx/uVL2fcJekAbp8H4tHRSe239a3HjXjAh9OmP1/odn3CZ9e7M+5JUYLLvQzxYO+X2WnNs7EG/+qHfw78AWOrrGfnu0TbAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/418b22d0c47be84673c827a6cdd1817a/a59e9/img_2.webp 192w,\n/static/418b22d0c47be84673c827a6cdd1817a/0ca9f/img_2.webp 384w,\n/static/418b22d0c47be84673c827a6cdd1817a/dc9b9/img_2.webp 768w,\n/static/418b22d0c47be84673c827a6cdd1817a/e2c2f/img_2.webp 1152w,\n/static/418b22d0c47be84673c827a6cdd1817a/f3efb/img_2.webp 1536w,\n/static/418b22d0c47be84673c827a6cdd1817a/fe4f2/img_2.webp 3185w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/418b22d0c47be84673c827a6cdd1817a/3b721/img_2.png 192w,\n/static/418b22d0c47be84673c827a6cdd1817a/66595/img_2.png 384w,\n/static/418b22d0c47be84673c827a6cdd1817a/fe486/img_2.png 768w,\n/static/418b22d0c47be84673c827a6cdd1817a/d2d74/img_2.png 1152w,\n/static/418b22d0c47be84673c827a6cdd1817a/e8464/img_2.png 1536w,\n/static/418b22d0c47be84673c827a6cdd1817a/b967e/img_2.png 3185w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/418b22d0c47be84673c827a6cdd1817a/fe486/img_2.png\"\n            alt=\"img_2.png\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>슬랙 APP을 생성한다.</p>\n<p>Workspace의 특정 채널 (Webhook 을 받을) 에 대한 API를 생성해 둔다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/87731cf78c3edaa79e123cb06613130d/ca019/img_1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 72.39583333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAACHUlEQVR42nWTS4vaUBzF55vNoqtCH9OORmOMj2jia+FHEHz1BV0UWlqoLgRBrcps+hG67kLERVcuiqDGmPEV6+P0/q+TojUKx/snIb+cc27uVSgUQjQaBa1+vx8+nw/BYBDhcJiLrpNoVpjkYACPXj7D9c0TPBcFaFEVSiSCyIOuAoEABxJEFEUOVFUViUSCK5lMIpVKIR6PIxaLIcruPfa6cP3iqTNQlmU+EFSSJFSrVfT7fXS7XfR6Pa5Op4PBYIDpdApjMsHcvMeb4iuEmAl6LnIMpD9FUfjbb10u1Go1LBYLmKaJ9XqNzWbDtdvtcPzL5/OQA/I5kGA0EPDm1o16o4EtAxiGgfl8zqGk7XZ70GaL/X6PQqEAu64TIJVNA/VG/bWaTVh/LExYNILaq6NDWb4M1DQNgiCg+a2B+eqeg9aWhdVqdaLlcsmd5nI5ZyBdVJQD0C14UKs3YDHQcDiEPtah6zqH2ysBbYeOke0OVVVjkUW0Wi3+wGw24x3ShlBnO9Juz+ZDZOrQ0aE9aKxDr9fLHNb5JoxGI67xeMydTYwpdHMGg2mxtJDNZvlBOAPSKbA7JGC73eYOjjdh/2DrtzlB4cd33P36idfFIiS/dDky3aBOMpkMKpUKSqUSyuXyP5W+lvDpy2dk3r/Fu48fkE6nYR9bx8g2lGK42Ad+JrcbApPEUogeDz+q/8NOIh9DKf4l0fdKcoIR8C9gEPEXjAXkewAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/87731cf78c3edaa79e123cb06613130d/a59e9/img_1.webp 192w,\n/static/87731cf78c3edaa79e123cb06613130d/0ca9f/img_1.webp 384w,\n/static/87731cf78c3edaa79e123cb06613130d/dc9b9/img_1.webp 768w,\n/static/87731cf78c3edaa79e123cb06613130d/6606d/img_1.webp 1070w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/87731cf78c3edaa79e123cb06613130d/3b721/img_1.png 192w,\n/static/87731cf78c3edaa79e123cb06613130d/66595/img_1.png 384w,\n/static/87731cf78c3edaa79e123cb06613130d/fe486/img_1.png 768w,\n/static/87731cf78c3edaa79e123cb06613130d/ca019/img_1.png 1070w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/87731cf78c3edaa79e123cb06613130d/fe486/img_1.png\"\n            alt=\"img_1.png\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>Webhook API</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/192d125b2c0bd3c021cf4c19351f66ff/5205e/img_3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 68.75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAACTklEQVR42m1UWW7bMBTM/Y8SoJdoETRB0Y98OImTxktsa6UWSpRIavF0Hh27DRIBBC2KnDfLo6+89xiGAca0iOMYzjmc1wbOXt6dh7MO1lpM0wR5jsdjmCNdIW81pnEMZ6/OAE3TYL3eoNY6fBDANFPY7CLs9hG22y1WryvkeY7OGLQcnkV+rZ+xUgmO0xwKXgDbtuXBPepahw/jOEAVJVknSJMUURzxvUBd1ciVgiprZEUF03aBqWB8YGgajcPuDbYzmAdPwJGsNaqKh8im7/tQyJP56TDtGEb0ntZwvgBaK/I8q9X4vfiDVVxgk1bhgCHruq4DYEuPOxYTa9q2CXNQQk/nef4fkEZT3ste4fr7Atc/Fvj28xmmd9C6RpKmSNMMWZbTPxXeVaFQliUUpRe0QdSI5xcPHdF7VlfJAYapHefThlBV0iW49ZTnBrjhX8rCTIb8/uShSHhdrbDZvlFeF6qWZUF2aWBXvTNKkjjsndk1AXCaP0o+A0orRIcopGe5JikLYH6IyTwjUBIkC7Bma7Wdg+k6hkUfh5OiC6C81ExzuVyGQxKIrMnBgn2n2Solv0viUvzMRhI/P19KXm82KMjgXKTRTZAZQuGIyVIJSwJLKKKgYdGOLfUxFHe6VsKko4wL67IiQM5gbBiW8uQqyrpmOyl6Kxdi+spDQzaNKkLiAh4YErwgA5kbsqikL+m1jI77SmNhuLfn+idAzVuRUJZ/BxxZtXl5QXJzg+zuDuntLZr7e/SLBdzjI4anJ3jO/uEBAzvBy5+DtfgLxzQxVQH7rcIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/192d125b2c0bd3c021cf4c19351f66ff/a59e9/img_3.webp 192w,\n/static/192d125b2c0bd3c021cf4c19351f66ff/0ca9f/img_3.webp 384w,\n/static/192d125b2c0bd3c021cf4c19351f66ff/dc9b9/img_3.webp 768w,\n/static/192d125b2c0bd3c021cf4c19351f66ff/e2c2f/img_3.webp 1152w,\n/static/192d125b2c0bd3c021cf4c19351f66ff/92c1e/img_3.webp 1222w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/192d125b2c0bd3c021cf4c19351f66ff/3b721/img_3.png 192w,\n/static/192d125b2c0bd3c021cf4c19351f66ff/66595/img_3.png 384w,\n/static/192d125b2c0bd3c021cf4c19351f66ff/fe486/img_3.png 768w,\n/static/192d125b2c0bd3c021cf4c19351f66ff/d2d74/img_3.png 1152w,\n/static/192d125b2c0bd3c021cf4c19351f66ff/5205e/img_3.png 1222w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/192d125b2c0bd3c021cf4c19351f66ff/fe486/img_3.png\"\n            alt=\"img_3.png\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>생성한 Webhook API가 잘 동작하는지, postman 으로 호출 해보자</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/49608884c3da88d2e634eb637a3b7928/16ed4/img_4.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 50.52083333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAsUlEQVR42rVQyw4DIQj0/z+2qYovQCmw3aaHbfZiTSaDAsNggFIkxujIOcsYQxBJY5Deu5R33jil5G+TWdZalwg4qszJLmJNBlDh3puwNhKREFt+aIzKeIjOeYlQaxMAdZGi1KZikCXFp+T4cGFzVQq449pI7k4gYhk6EXXV3nX6QHdmrs+pdme2eP1c9bPy2WBM2sTKmnF8F+rDrZgLHsX7zn7BaR9j+2zCXxyC8ja8ANAwFrk7uLcNAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/49608884c3da88d2e634eb637a3b7928/a59e9/img_4.webp 192w,\n/static/49608884c3da88d2e634eb637a3b7928/0ca9f/img_4.webp 384w,\n/static/49608884c3da88d2e634eb637a3b7928/dc9b9/img_4.webp 768w,\n/static/49608884c3da88d2e634eb637a3b7928/e2c2f/img_4.webp 1152w,\n/static/49608884c3da88d2e634eb637a3b7928/f3efb/img_4.webp 1536w,\n/static/49608884c3da88d2e634eb637a3b7928/9ce72/img_4.webp 2545w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/49608884c3da88d2e634eb637a3b7928/3b721/img_4.png 192w,\n/static/49608884c3da88d2e634eb637a3b7928/66595/img_4.png 384w,\n/static/49608884c3da88d2e634eb637a3b7928/fe486/img_4.png 768w,\n/static/49608884c3da88d2e634eb637a3b7928/d2d74/img_4.png 1152w,\n/static/49608884c3da88d2e634eb637a3b7928/e8464/img_4.png 1536w,\n/static/49608884c3da88d2e634eb637a3b7928/16ed4/img_4.png 2545w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/49608884c3da88d2e634eb637a3b7928/fe486/img_4.png\"\n            alt=\"img_4.png\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>알림이 잘 온다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1266af8b54d4bc014455197f331efd66/9c259/img_5.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 37.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABDUlEQVR42pVRXU+EMBDk//8e35XLvfmAJAinxMshhK8aDLGU0q9xwTvUGM9zN5PdppvpdNYDJJ6z3BVFgbKswBijWiLLMjRNA6UUnHOw1uFMLJc013kDf8H+ab8Q1nW9EFZEnOfzuQHnHIOQGCd9GeHccCH+fv4YxphF8a+EahoxVrXTfQ8nBBx98TThPoa+QUq5kp5gj35Q7bw0CsHC0PHdDjJNMT48QsTU38cwVYUL41PhoWnRtEx33asRfLBSSCv6NztJZacgMGYQhgQYu6b50q+pZ0qqbPHQKP3TFU1LoE3Duf8pRBJue39zzaPolmeHZMrzxLRtMgV3sS6KjQV8UuWTP+dwQ9gSrt4BQltqyPzFU4AAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/1266af8b54d4bc014455197f331efd66/a59e9/img_5.webp 192w,\n/static/1266af8b54d4bc014455197f331efd66/0ca9f/img_5.webp 384w,\n/static/1266af8b54d4bc014455197f331efd66/dc9b9/img_5.webp 768w,\n/static/1266af8b54d4bc014455197f331efd66/e2c2f/img_5.webp 1152w,\n/static/1266af8b54d4bc014455197f331efd66/fcda8/img_5.webp 1272w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/1266af8b54d4bc014455197f331efd66/3b721/img_5.png 192w,\n/static/1266af8b54d4bc014455197f331efd66/66595/img_5.png 384w,\n/static/1266af8b54d4bc014455197f331efd66/fe486/img_5.png 768w,\n/static/1266af8b54d4bc014455197f331efd66/d2d74/img_5.png 1152w,\n/static/1266af8b54d4bc014455197f331efd66/9c259/img_5.png 1272w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/1266af8b54d4bc014455197f331efd66/fe486/img_5.png\"\n            alt=\"img_5.png\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<h3 id=\"error-log-lambda-생성\" style=\"position:relative;\"><a href=\"#error-log-lambda-%EC%83%9D%EC%84%B1\" aria-label=\"error log lambda 생성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Error Log Lambda 생성</h3>\n<h4 id=\"람다-함수-생성\" style=\"position:relative;\"><a href=\"#%EB%9E%8C%EB%8B%A4-%ED%95%A8%EC%88%98-%EC%83%9D%EC%84%B1\" aria-label=\"람다 함수 생성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>람다 함수 생성</h4>\n<p>언어는 Java 로 하려고 했는데 java 는 런타임 환경을 제공해주지 않아서 (소스 코드를 jar 빌드한 것을 업로드 하거나 S3에서 가져와야 한다.)</p>\n<p>Node.js 로 설정하였다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a1f041bf9cc15ee635d15ae5d7125344/39733/image-8.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 47.39583333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAACToAAAk6AGCYwUcAAABFUlEQVR42o1Si27DIAzM///ipKlqk22BhVcgQBJyNSRts7SbhnSysOw7n6H6+GpxujQ41w1axiGVgjYapjeEHr21Jd6gze/5jKpuGd5OF7yfazSsA5MaXBmo3kFpDSHV2lCacvNKJKQkcX0ntM4Vkao1Hp/ag1HkNkL4GdInCBcLIf/uqNDBhwDvA0KIcMMArQ0sEYScJ0zzXGKlqYltVqdpwjiNiOMDI+VK3BBjLPdSu6vL+YGEqmwjT2G3KfIEWS0tCSn9jQU/Txav8iJ5JzF4v2LwRW0m0iOOhHhFaGmhkh7B02ShTBju+/IkcEO2tydf7Y/PhIJeincCIT72lLEsq6F9fIVny/QNFNlO6dj4P5Ij4RVH6r0/9z3e7AAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/a1f041bf9cc15ee635d15ae5d7125344/a59e9/image-8.webp 192w,\n/static/a1f041bf9cc15ee635d15ae5d7125344/0ca9f/image-8.webp 384w,\n/static/a1f041bf9cc15ee635d15ae5d7125344/dc9b9/image-8.webp 768w,\n/static/a1f041bf9cc15ee635d15ae5d7125344/e2c2f/image-8.webp 1152w,\n/static/a1f041bf9cc15ee635d15ae5d7125344/f3efb/image-8.webp 1536w,\n/static/a1f041bf9cc15ee635d15ae5d7125344/33036/image-8.webp 3505w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/a1f041bf9cc15ee635d15ae5d7125344/3b721/image-8.png 192w,\n/static/a1f041bf9cc15ee635d15ae5d7125344/66595/image-8.png 384w,\n/static/a1f041bf9cc15ee635d15ae5d7125344/fe486/image-8.png 768w,\n/static/a1f041bf9cc15ee635d15ae5d7125344/d2d74/image-8.png 1152w,\n/static/a1f041bf9cc15ee635d15ae5d7125344/e8464/image-8.png 1536w,\n/static/a1f041bf9cc15ee635d15ae5d7125344/39733/image-8.png 3505w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/a1f041bf9cc15ee635d15ae5d7125344/fe486/image-8.png\"\n            alt=\"Alt text\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<h4 id=\"환경-변수-생성\" style=\"position:relative;\"><a href=\"#%ED%99%98%EA%B2%BD-%EB%B3%80%EC%88%98-%EC%83%9D%EC%84%B1\" aria-label=\"환경 변수 생성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>환경 변수 생성</h4>\n<p>위에서 설정한 slack webhook API를 환경 변수로 등록하였다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/50169a7cba1fc999e21e017c5016e4cb/cba9f/image-2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 61.45833333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAA7DAAAOwwHHb6hkAAABXElEQVR42p2S606DQBCF++I+mL99Av2jUqpdFkws0LIXWJZLjzNbrNTSmEhyMsNO5tszA6ssS/EUCbzGAi8b1haP6wRR/Ib1OsZzFFNtAykzJDKFkB+kjJQuauV8i3chwss2kRAsKRERbJfnaJyDrWvYpkEdVE9xWStHDZ+7HYRIINMUCQGNsWioyLW2bW+qaRyU0lD6RwH4u7HrOvR9HyLLe4reU/Qh97NcG3OhlSOAsRZFUaAs98gp8qicF0WJPcVyf0BeGZS6DheygTAB5TeB386GYcAwDiHnEU6uPVp2FpxzrQc/4zheA7lBa3Nyc6jo9jY0MFgTkGvGTKKLuW5tjeN4JOCw4HDaYVgqLbiq1NnBX8+iQ4ZxUikVxODwIbr58meic0cr8M7AmZx69SWwmdzND+e/wZVUhfxgUUX3UA930KqkHnsGLwL/FgF0BaPL65H/B5ygQZfALy3KmBb8LdWkAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/50169a7cba1fc999e21e017c5016e4cb/a59e9/image-2.webp 192w,\n/static/50169a7cba1fc999e21e017c5016e4cb/0ca9f/image-2.webp 384w,\n/static/50169a7cba1fc999e21e017c5016e4cb/dc9b9/image-2.webp 768w,\n/static/50169a7cba1fc999e21e017c5016e4cb/e2c2f/image-2.webp 1152w,\n/static/50169a7cba1fc999e21e017c5016e4cb/f3efb/image-2.webp 1536w,\n/static/50169a7cba1fc999e21e017c5016e4cb/d13e6/image-2.webp 2704w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/50169a7cba1fc999e21e017c5016e4cb/3b721/image-2.png 192w,\n/static/50169a7cba1fc999e21e017c5016e4cb/66595/image-2.png 384w,\n/static/50169a7cba1fc999e21e017c5016e4cb/fe486/image-2.png 768w,\n/static/50169a7cba1fc999e21e017c5016e4cb/d2d74/image-2.png 1152w,\n/static/50169a7cba1fc999e21e017c5016e4cb/e8464/image-2.png 1536w,\n/static/50169a7cba1fc999e21e017c5016e4cb/cba9f/image-2.png 2704w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/50169a7cba1fc999e21e017c5016e4cb/fe486/image-2.png\"\n            alt=\"Alt text\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>작성한 람다 함수가 잘 동작하는지 테스트 해보자</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> axios <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'axios'</span><span class=\"token punctuation\">)</span>\n\nexports<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">handler</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token parameter\">event</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> slackWebhookUrl <span class=\"token operator\">=</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span>slack_webhook_url\n\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>slackWebhookUrl<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Slack webhook URL not found in environment variables'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">const</span> response <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> axios<span class=\"token punctuation\">.</span><span class=\"token function\">post</span><span class=\"token punctuation\">(</span>slackWebhookUrl<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">text</span><span class=\"token operator\">:</span> <span class=\"token string\">'람다 테스트 테스트'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">statusCode</span><span class=\"token operator\">:</span> <span class=\"token number\">200</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">body</span><span class=\"token operator\">:</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Successfully sent message to Slack!'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Error sending message to Slack:'</span><span class=\"token punctuation\">,</span> error<span class=\"token punctuation\">.</span>message<span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">statusCode</span><span class=\"token operator\">:</span> <span class=\"token number\">500</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">body</span><span class=\"token operator\">:</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Error sending message to Slack'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>환경 변수에 등록 slack webhook API 에 post 요청을 보내는 코드이다.</p>\n<p>코드 Deploy 한다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ade94be1ce301c1d775c4f3148faee8f/cf8f0/image-11.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 58.854166666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAACToAAAk6AGCYwUcAAABuUlEQVR42oWTyW7bQBBE9f8fkz/IxQYcIEAuibyc4tgSLJLD4ewzFEmh0jVyCBsy4kOhQar5unrRxjmHXikMxsL7gBCoiJwitI34+hCw3Xl4Z9A0Lba39/j56w6/H5+Qc0ZK6Z02TDKDRt/30FpXtW2L/e4Z+6bHlx8a17cv2D09CuQPbr59x9X1DbZ394gxXAKttWgGh8PhALpN4sxYeW57ebaYijiOBlGSl3nG6bRgWc46Ho+YpmmN1CbGiFSOFcYfxnGsLjvNIg32Ly3UYGGdr+NwUoyjmae5QmcpQhAjVYGn14p8QagxQy2ihoBO9bDewiUBJYEmgUr0r0o5XQIJ40vGUgq6rkMuo3ycEGXwXqKPHswNMrdcMspYqtgRRSPUCiSdkZtrm0Y27HEQcG96KGOgtFzCYOo42DoLl1zWTTNSF0AmcuPOBbSKm3fiTDY4ygeiNIrrwrmntc0PW34HVB20K+LQyn0OsEGiH2Ak1tlJ+3xPR//G9V+gpsOQ5XTU2aG0VOhOXNElZ8i5cdOfOmRiJ/+cerSyQbbLHEJCDrKkc7tcwKctUwR679cC1NtjXt6c2EfAv25ynB3wpv55AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/ade94be1ce301c1d775c4f3148faee8f/a59e9/image-11.webp 192w,\n/static/ade94be1ce301c1d775c4f3148faee8f/0ca9f/image-11.webp 384w,\n/static/ade94be1ce301c1d775c4f3148faee8f/dc9b9/image-11.webp 768w,\n/static/ade94be1ce301c1d775c4f3148faee8f/e2c2f/image-11.webp 1152w,\n/static/ade94be1ce301c1d775c4f3148faee8f/f3efb/image-11.webp 1536w,\n/static/ade94be1ce301c1d775c4f3148faee8f/3b3b3/image-11.webp 2402w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/ade94be1ce301c1d775c4f3148faee8f/3b721/image-11.png 192w,\n/static/ade94be1ce301c1d775c4f3148faee8f/66595/image-11.png 384w,\n/static/ade94be1ce301c1d775c4f3148faee8f/fe486/image-11.png 768w,\n/static/ade94be1ce301c1d775c4f3148faee8f/d2d74/image-11.png 1152w,\n/static/ade94be1ce301c1d775c4f3148faee8f/e8464/image-11.png 1536w,\n/static/ade94be1ce301c1d775c4f3148faee8f/cf8f0/image-11.png 2402w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/ade94be1ce301c1d775c4f3148faee8f/fe486/image-11.png\"\n            alt=\"Alt text\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>Deploy 한 람다 함수가 잘 동작하는지 테스트 하기 위해 이벤트를 생성한다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/335a0a0a05b5edf67f73836d22dc668f/d6468/image-9.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 77.60416666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAACToAAAk6AGCYwUcAAAB8UlEQVR42o2T2XLcIBBF9eF5z5/5xZ+Q8oMzW8ZCYhGLAGk6t1vLjFPxoqpTDQguvdH8OrxQqxUFP5A1hobBkfcedhArY+cw90IIQdZSSvTvd3w7UXPuT9QPhq7a00Vp0j5RKDPFeoO97TbXiSJEwkoax3fkXEg5RQ3f6uNIB50gOtDVBNKxkoOIkBcbccDAUw0se8+ergzwmC+L0GmMs7LYti1prcX1eZpoAvMj80y3220B4/k/sE5jcSPnxRhLvTZkLc+jECOTljnG3geEluWyxwu3Oe9pHIpghkB/2h6CmpwbqNYqN07TBg7Mi503L8EE6szjpSirIPIBLyxEubKlVPFifIDnuRT8K+/WQp5IpyqiuyAnmFsgIBz2kEMcxyxsFdznaRuPOyFXEWVx1hEPOYd931PXddJr00NevqKuFKRpD5mTLu0DL2UTftaHzR+y7YPlSO6CGBi8ktffr6RUh8rNEk7e8vcBfK7rNbU4k8a0tA0LcmMqpUh1lrS11NmOMgQLDn0G7+G8MfnuoSdundPpTIeLocO1pZfLEVWP5PAMv8sQ0j1k9rBtleSSKxkT35a+wbovFYrjWhQW4yo7vBjOS1n77StqLXsuS9RUgQgezxc8t2F5w/wCYD+Dv4ReXKJAMZGa9PyT4tMPab2/4irbDao+fYkAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/335a0a0a05b5edf67f73836d22dc668f/a59e9/image-9.webp 192w,\n/static/335a0a0a05b5edf67f73836d22dc668f/0ca9f/image-9.webp 384w,\n/static/335a0a0a05b5edf67f73836d22dc668f/dc9b9/image-9.webp 768w,\n/static/335a0a0a05b5edf67f73836d22dc668f/e2c2f/image-9.webp 1152w,\n/static/335a0a0a05b5edf67f73836d22dc668f/f3efb/image-9.webp 1536w,\n/static/335a0a0a05b5edf67f73836d22dc668f/40abd/image-9.webp 2387w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/335a0a0a05b5edf67f73836d22dc668f/3b721/image-9.png 192w,\n/static/335a0a0a05b5edf67f73836d22dc668f/66595/image-9.png 384w,\n/static/335a0a0a05b5edf67f73836d22dc668f/fe486/image-9.png 768w,\n/static/335a0a0a05b5edf67f73836d22dc668f/d2d74/image-9.png 1152w,\n/static/335a0a0a05b5edf67f73836d22dc668f/e8464/image-9.png 1536w,\n/static/335a0a0a05b5edf67f73836d22dc668f/d6468/image-9.png 2387w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/335a0a0a05b5edf67f73836d22dc668f/fe486/image-9.png\"\n            alt=\"Alt text\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>테스트 해보면\naxios 모듈을 찾을 수 없다는 에러가 발생한다.</p>\n<p>axios 모듈을 사용하려면 node_modules 가 필요하고 node_modules 는 AWS lambda layer 에서 모듈화 해야 한다.</p>\n<p>아래 링크를 참고하여 layer 를 추가하였다.</p>\n<p><a href=\"https://medium.com/@sunjang/aws-lambda-layer-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0-node-js-8c299a1d0a6f\" target=\"_blank\" rel=\"nofollow\">https://medium.com/@sunjang/aws-lambda-layer-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0-node-js-8c299a1d0a6f</a> <br/></p>\n<p>layer 추가 후에 다시 테스트 해보면</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/9989865a36379674b78ac509bc6bc7b3/7383e/image-12.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 32.8125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAACToAAAk6AGCYwUcAAABBklEQVR42pWRWW+DMBCE+f8/DRrRvKScCojDOIRDHOJmuuuGqFFfUkujteXRt+O1pus6Th8nGIaB2y3HMAzoug5937+ttm33aZp4LzXP8xDHMZqmxbZtWJbl3yLYDlrzPEstuF4hpeQDxnFUBgav6/qsh94CMiyKIog0RRAESJIEZVmiqkpkdFcUBQo63+/3Z0NufugPsGkadH2HYRywLuuLmefyG/CT9DX1w/cATlIzTRPn8ycsy1JpEpqnzCR9kIQQKVJKnmWZqpyyritKX6Ekb13XaiwEVUBqIDXHceD7PlzHRRiG+LpcwB/leS5s24ZFYg83TAjKzxdCqLHkeX7UneFU5TdiDhZH4xnp3QAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/9989865a36379674b78ac509bc6bc7b3/a59e9/image-12.webp 192w,\n/static/9989865a36379674b78ac509bc6bc7b3/0ca9f/image-12.webp 384w,\n/static/9989865a36379674b78ac509bc6bc7b3/dc9b9/image-12.webp 768w,\n/static/9989865a36379674b78ac509bc6bc7b3/e2c2f/image-12.webp 1152w,\n/static/9989865a36379674b78ac509bc6bc7b3/33007/image-12.webp 1535w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/9989865a36379674b78ac509bc6bc7b3/3b721/image-12.png 192w,\n/static/9989865a36379674b78ac509bc6bc7b3/66595/image-12.png 384w,\n/static/9989865a36379674b78ac509bc6bc7b3/fe486/image-12.png 768w,\n/static/9989865a36379674b78ac509bc6bc7b3/d2d74/image-12.png 1152w,\n/static/9989865a36379674b78ac509bc6bc7b3/7383e/image-12.png 1535w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/9989865a36379674b78ac509bc6bc7b3/fe486/image-12.png\"\n            alt=\"Alt text\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>요청에 성공하였고</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 690px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/635555e399121321bd07dd85baddee3d/97114/image-13.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 26.041666666666668%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAACToAAAk6AGCYwUcAAAAlUlEQVR42pWQOw4CMQxE9/6n4gRUNIiICEHFVuTn/AfHuyAaBBvJGhfJm5lMh+sDu/0Rt8sZJ6WgtcZ9nhFCQIwRf562qpooZjjnkPgxETGE0FpD71201vpzSikCZFVTLQXEaUaiAQwf+2KwGKWUvg7fESDvDGSHkdAYIyDv/bvqSLm58qhlrRWoVGfH1/8N3QLMOasnE3+HUs022g0AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/635555e399121321bd07dd85baddee3d/a59e9/image-13.webp 192w,\n/static/635555e399121321bd07dd85baddee3d/0ca9f/image-13.webp 384w,\n/static/635555e399121321bd07dd85baddee3d/ffce4/image-13.webp 690w\"\n              sizes=\"(max-width: 690px) 100vw, 690px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/635555e399121321bd07dd85baddee3d/3b721/image-13.png 192w,\n/static/635555e399121321bd07dd85baddee3d/66595/image-13.png 384w,\n/static/635555e399121321bd07dd85baddee3d/97114/image-13.png 690w\"\n            sizes=\"(max-width: 690px) 100vw, 690px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/635555e399121321bd07dd85baddee3d/97114/image-13.png\"\n            alt=\"Alt text\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>슬랙에도 알림이 왔다.</p>\n<h4 id=\"error-log-알림-보내기\" style=\"position:relative;\"><a href=\"#error-log-%EC%95%8C%EB%A6%BC-%EB%B3%B4%EB%82%B4%EA%B8%B0\" aria-label=\"error log 알림 보내기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Error Log 알림 보내기</h4>\n<p>CloudWatch 로그 그룹을 트리거에 추가한다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/4d05f6f05cdb85e18b24e0d9512d1d89/01d29/image-4.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 71.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACCUlEQVR42nWT227aQBCG/cR9nz5BUhVEgVJBq6rKTe97UaVNHEJSAthg48Pa6/Vh/8wMRrgJWenTrNfjf+dk50N/hsvLGcYXPcxGPUwmX/BxOMVwPMHVbIj+aIr+5ymmgym+jb6iN/6OT5OfuOgNiOErnEwreL6Hf6s1wigBL2sbNNbCNFb2TNVibY2mKXFa9j+cJEmx8jwsl094eFjgab1BonJorYkcea4FndNZuz9w8EmSBOE+wj6KBUepDNnSRxoniNOUnAqUZUlUrS1RVdVZSiIj4ZhEE/qWcRQdhD9+IVj7CONYBA2JFIWRSFiY02+aQxm6nBfMMuziiA4P0WVZjjRVyCmdwhgYUxJG0EUh5/KOLqyqmmzxWjCi3D1/i/Vmgw3Vc0V19LdbBEGIINwjJPZRJJexvyJrrRXOCoZhKAXl8DMpdiEF5+jqupZI2HLaR6Hj0m9FuKNo2Fb84bFOXLcOVc3WorvOCsbUDE5rFwTSkJrmrW5OdEW70b0pyLViUaVSKb6k2cG0IyKX0bNtM+BBLqg0LwSVNGQbRljtImqKD6+Dv92Bh587n6Ynq5RCUdbIKcKIgmFRxinaUdDUAKWN/AG5PqIlpao+RMj2uOeBb6IbmHhJfkb+Km6kc3t3j9s5M4dL1r1fkF2cLCE+Lexz/dfF7+s/uBm8g3v1Hu6jB/duLr7PUp4nisDQzfwAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/4d05f6f05cdb85e18b24e0d9512d1d89/a59e9/image-4.webp 192w,\n/static/4d05f6f05cdb85e18b24e0d9512d1d89/0ca9f/image-4.webp 384w,\n/static/4d05f6f05cdb85e18b24e0d9512d1d89/dc9b9/image-4.webp 768w,\n/static/4d05f6f05cdb85e18b24e0d9512d1d89/e2c2f/image-4.webp 1152w,\n/static/4d05f6f05cdb85e18b24e0d9512d1d89/f3efb/image-4.webp 1536w,\n/static/4d05f6f05cdb85e18b24e0d9512d1d89/e4e1d/image-4.webp 2536w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/4d05f6f05cdb85e18b24e0d9512d1d89/3b721/image-4.png 192w,\n/static/4d05f6f05cdb85e18b24e0d9512d1d89/66595/image-4.png 384w,\n/static/4d05f6f05cdb85e18b24e0d9512d1d89/fe486/image-4.png 768w,\n/static/4d05f6f05cdb85e18b24e0d9512d1d89/d2d74/image-4.png 1152w,\n/static/4d05f6f05cdb85e18b24e0d9512d1d89/e8464/image-4.png 1536w,\n/static/4d05f6f05cdb85e18b24e0d9512d1d89/01d29/image-4.png 2536w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/4d05f6f05cdb85e18b24e0d9512d1d89/fe486/image-4.png\"\n            alt=\"Alt text\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>그리고 CloudWatch 로그 그룹에 있는 로그 스트림의 마지막 event 에 있는 로그 메세지를\n가져와서 slack webhook API에 전송하는 코드를 작성한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// imports</span>\n<span class=\"token keyword\">const</span> https <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'https'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> <span class=\"token constant\">AWS</span> <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'aws-sdk'</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// get envarionment variables</span>\n<span class=\"token keyword\">const</span> <span class=\"token constant\">ENV</span> <span class=\"token operator\">=</span> process<span class=\"token punctuation\">.</span>env\n<span class=\"token keyword\">const</span> webhookUrl <span class=\"token operator\">=</span> <span class=\"token constant\">ENV</span><span class=\"token punctuation\">.</span>slack_webhook_url\n\nexports<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">handler</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">event<span class=\"token punctuation\">,</span> context</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> cloudwatchlogs <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">AWS<span class=\"token punctuation\">.</span>CloudWatchLogs</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">const</span> logGroupName <span class=\"token operator\">=</span> <span class=\"token string\">'hhplus-ecommerce'</span>\n  <span class=\"token keyword\">const</span> logStreamPrefix <span class=\"token operator\">=</span> <span class=\"token string\">'error'</span>\n  <span class=\"token keyword\">const</span> logStreamName <span class=\"token operator\">=</span> <span class=\"token string\">'error'</span> <span class=\"token comment\">// 여기에 로그 스트림 이름을 입력하세요</span>\n\n  <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> logStreamsResponse <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> cloudwatchlogs\n      <span class=\"token punctuation\">.</span><span class=\"token function\">describeLogStreams</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n        logGroupName<span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">logStreamNamePrefix</span><span class=\"token operator\">:</span> logStreamPrefix<span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">descending</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">limit</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>\n      logStreamsResponse<span class=\"token punctuation\">.</span>logStreams <span class=\"token operator\">&amp;&amp;</span>\n      logStreamsResponse<span class=\"token punctuation\">.</span>logStreams<span class=\"token punctuation\">.</span>length <span class=\"token operator\">></span> <span class=\"token number\">0</span>\n    <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">const</span> latestLogStream <span class=\"token operator\">=</span> logStreamsResponse<span class=\"token punctuation\">.</span>logStreams<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\n      <span class=\"token keyword\">const</span> latestLogStreamName <span class=\"token operator\">=</span> latestLogStream<span class=\"token punctuation\">.</span>logStreamName\n\n      <span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> cloudwatchlogs\n        <span class=\"token punctuation\">.</span><span class=\"token function\">getLogEvents</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n          logGroupName<span class=\"token punctuation\">,</span>\n          <span class=\"token literal-property property\">logStreamName</span><span class=\"token operator\">:</span> latestLogStreamName<span class=\"token punctuation\">,</span>\n          <span class=\"token literal-property property\">startFromHead</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n          <span class=\"token literal-property property\">limit</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'event data ==> '</span><span class=\"token punctuation\">,</span> data<span class=\"token punctuation\">)</span>\n\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>data <span class=\"token operator\">&amp;&amp;</span> data<span class=\"token punctuation\">.</span>events <span class=\"token operator\">&amp;&amp;</span> data<span class=\"token punctuation\">.</span>events<span class=\"token punctuation\">.</span>length <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">const</span> latestLog <span class=\"token operator\">=</span> data<span class=\"token punctuation\">.</span>events<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>message\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'latestLog => '</span><span class=\"token punctuation\">,</span> latestLog<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">await</span> exports<span class=\"token punctuation\">.</span><span class=\"token function\">handleLogMessage</span><span class=\"token punctuation\">(</span>latestLog<span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'No log events found.'</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'No log events found.'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Error fetching log events:'</span><span class=\"token punctuation\">,</span> err<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// set handle event func</span>\nexports<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">handleLogMessage</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token parameter\">logMessage</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> slackMessage <span class=\"token operator\">=</span> exports<span class=\"token punctuation\">.</span><span class=\"token function\">createSlackMessage</span><span class=\"token punctuation\">(</span>logMessage<span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">await</span> exports<span class=\"token punctuation\">.</span><span class=\"token function\">sendToSlack</span><span class=\"token punctuation\">(</span>slackMessage<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token comment\">// create slack message</span>\nexports<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">createSlackMessage</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">message</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> time <span class=\"token operator\">=</span> exports<span class=\"token punctuation\">.</span><span class=\"token function\">formatDate</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">.</span>StateChangeTime<span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">attachments</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n      <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">title</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">:warning: *[error]*</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">fields</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n          <span class=\"token punctuation\">{</span>\n            <span class=\"token literal-property property\">title</span><span class=\"token operator\">:</span> <span class=\"token string\">'발생시각'</span><span class=\"token punctuation\">,</span>\n            <span class=\"token literal-property property\">value</span><span class=\"token operator\">:</span> time<span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">{</span>\n            <span class=\"token literal-property property\">title</span><span class=\"token operator\">:</span> <span class=\"token string\">'로그'</span><span class=\"token punctuation\">,</span>\n            <span class=\"token literal-property property\">value</span><span class=\"token operator\">:</span> message<span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token comment\">// request slack webhook api</span>\nexports<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">sendToSlack</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token parameter\">message</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> options <span class=\"token operator\">=</span> <span class=\"token function\">getSlackOptions</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">const</span> response <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">requestSlackWebhook</span><span class=\"token punctuation\">(</span>options<span class=\"token punctuation\">,</span> message<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Error sending message to Slack:'</span><span class=\"token punctuation\">,</span> error<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">getSlackOptions</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> host<span class=\"token punctuation\">,</span> pathname <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">URL</span><span class=\"token punctuation\">(</span>webhookUrl<span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">hostname</span><span class=\"token operator\">:</span> host<span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">path</span><span class=\"token operator\">:</span> pathname<span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">method</span><span class=\"token operator\">:</span> <span class=\"token string\">'POST'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">headers</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token string-property property\">'Content-Type'</span><span class=\"token operator\">:</span> <span class=\"token string\">'application/json'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">requestSlackWebhook</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">options<span class=\"token punctuation\">,</span> payload</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve<span class=\"token punctuation\">,</span> reject</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> request <span class=\"token operator\">=</span> https<span class=\"token punctuation\">.</span><span class=\"token function\">request</span><span class=\"token punctuation\">(</span>options<span class=\"token punctuation\">,</span> <span class=\"token parameter\">response</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      response<span class=\"token punctuation\">.</span><span class=\"token function\">setEncoding</span><span class=\"token punctuation\">(</span><span class=\"token string\">'utf8'</span><span class=\"token punctuation\">)</span>\n      <span class=\"token keyword\">let</span> responseBody <span class=\"token operator\">=</span> <span class=\"token string\">''</span>\n      response<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'data'</span><span class=\"token punctuation\">,</span> <span class=\"token parameter\">chunk</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        responseBody <span class=\"token operator\">+=</span> chunk\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n      response<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'end'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>responseBody<span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n    request<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'error'</span><span class=\"token punctuation\">,</span> <span class=\"token parameter\">e</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span>\n      <span class=\"token function\">reject</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n    request<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span><span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>payload<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    request<span class=\"token punctuation\">.</span><span class=\"token function\">end</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// util - current timestamp</span>\nexports<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">formatDate</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">function</span> <span class=\"token function\">zerofill</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">n</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> n <span class=\"token operator\">&lt;</span> <span class=\"token number\">10</span> <span class=\"token operator\">?</span> <span class=\"token string\">'0'</span> <span class=\"token operator\">+</span> n <span class=\"token operator\">:</span> n\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">const</span> kstDate <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">9</span> <span class=\"token operator\">*</span> <span class=\"token number\">60</span> <span class=\"token operator\">*</span> <span class=\"token number\">60</span> <span class=\"token operator\">*</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    kstDate<span class=\"token punctuation\">.</span><span class=\"token function\">getFullYear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span>\n    <span class=\"token string\">'-'</span> <span class=\"token operator\">+</span>\n    <span class=\"token function\">zerofill</span><span class=\"token punctuation\">(</span>kstDate<span class=\"token punctuation\">.</span><span class=\"token function\">getMonth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span>\n    <span class=\"token string\">'-'</span> <span class=\"token operator\">+</span>\n    <span class=\"token function\">zerofill</span><span class=\"token punctuation\">(</span>kstDate<span class=\"token punctuation\">.</span><span class=\"token function\">getDate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span>\n    <span class=\"token string\">'-'</span> <span class=\"token operator\">+</span>\n    <span class=\"token function\">zerofill</span><span class=\"token punctuation\">(</span>kstDate<span class=\"token punctuation\">.</span><span class=\"token function\">getHours</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span>\n    <span class=\"token string\">':'</span> <span class=\"token operator\">+</span>\n    <span class=\"token function\">zerofill</span><span class=\"token punctuation\">(</span>kstDate<span class=\"token punctuation\">.</span><span class=\"token function\">getMinutes</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span>\n    <span class=\"token string\">':'</span> <span class=\"token operator\">+</span>\n    <span class=\"token function\">zerofill</span><span class=\"token punctuation\">(</span>kstDate<span class=\"token punctuation\">.</span><span class=\"token function\">getSeconds</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>코드를 작성하고 Deploy 한 뒤에 테스트를 해보면</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/978035292ff044fd29dedff76c1aab3c/78d47/image-14.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 46.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAACToAAAk6AGCYwUcAAAA2UlEQVR42qWRzW6DQAyE80jt64S+c29RbhyhsATY/8VeJs4mqXqIFERXGtnrw6cZ+1B9VqCFkTlgUjWM8fjHS4fjRwWmjBQtzqdvKDXAWYtlWXYCxSGLwxijwC5gZgTvS90FvEcmAZAAewyDwjiO0MZgnmdo0e2/0fFfIKNtGnR9j5+ug9ZaYPoXtK7rVuAXKBFyzhiUgpX9FTlXZhtBr4HTNCOEACPujDbwwcPLPmOIMr/1oYiI3kR+AOu6lthtqeXa3sEaW47kxPFTm4CcubhJMcE/4u658hUB4bEsI44rogAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/978035292ff044fd29dedff76c1aab3c/a59e9/image-14.webp 192w,\n/static/978035292ff044fd29dedff76c1aab3c/0ca9f/image-14.webp 384w,\n/static/978035292ff044fd29dedff76c1aab3c/dc9b9/image-14.webp 768w,\n/static/978035292ff044fd29dedff76c1aab3c/cf465/image-14.webp 800w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/978035292ff044fd29dedff76c1aab3c/3b721/image-14.png 192w,\n/static/978035292ff044fd29dedff76c1aab3c/66595/image-14.png 384w,\n/static/978035292ff044fd29dedff76c1aab3c/fe486/image-14.png 768w,\n/static/978035292ff044fd29dedff76c1aab3c/78d47/image-14.png 800w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/978035292ff044fd29dedff76c1aab3c/fe486/image-14.png\"\n            alt=\"Alt text\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>슬랙에 알림이 온다.</p>\n<h2 id=\"참고\" style=\"position:relative;\"><a href=\"#%EC%B0%B8%EA%B3%A0\" aria-label=\"참고 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>참고</h2>\n<p><a href=\"https://www.whatap.io/ko/blog/5/\" target=\"_blank\" rel=\"nofollow\">https://www.whatap.io/ko/blog/5/</a> <br/>\n<a href=\"https://newrelic.com/kr/blog/how-to-relic/what-is-log-management\" target=\"_blank\" rel=\"nofollow\">https://newrelic.com/kr/blog/how-to-relic/what-is-log-management</a> <br/>\n<a href=\"https://tecoble.techcourse.co.kr/post/2021-08-07-logback-tutorial/\" target=\"_blank\" rel=\"nofollow\">https://tecoble.techcourse.co.kr/post/2021-08-07-logback-tutorial/</a><br/>\n<a href=\"https://055055.tistory.com/96\" target=\"_blank\" rel=\"nofollow\">https://055055.tistory.com/96</a> <br/>\n<a href=\"https://0soo.tistory.com/246\" target=\"_blank\" rel=\"nofollow\">https://0soo.tistory.com/246</a> <br/>\n<a href=\"https://newrelic.com/kr/resources/white-papers/log-management-best-practices\" target=\"_blank\" rel=\"nofollow\">https://newrelic.com/kr/resources/white-papers/log-management-best-practices</a> <br/></p>\n<p><a href=\"https://www.youtube.com/watch?v=fkwb8coxBJM\" target=\"_blank\" rel=\"nofollow\">https://www.youtube.com/watch?v=fkwb8coxBJM</a></p>","frontmatter":{"title":"logback 과 CloudWatch 로 모니터링 시스템 구축","summary":"logback 과 CloudWatch 를 통해 모니터링 시스템을 구축하였습니다.","date":"2024.01.06.","categories":["항해플러스"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAACToAAAk6AGCYwUcAAABbUlEQVR42o2TiY7DIAxE+f/v3DYn5IQm6eH1c46mUqXdSCMMGHs8dtw0TbLc75LSTW63HZNw/nw+5T8ffvjz1oWmkaquhbVpW6m9t7VpWumHYbUVITTS9b0kEvL4hKhnXt+3XSeuKEsLmOWF5EWhay5lVVkQHPb1L3Sbr+s1a9ty0BsjLllBTOmwYTfGaKVN8/wBWA5jNLgYk9Ue1RkM+phHj8fDtLmrvtj7/tv3er1kWRYL7pKyGLdgMAIkIOhM9s0+NNM95wTYwX1Qzbt+EHfNMgGX64qfy0WuqqNpWXvVszZN0bpUrUFAV6Q6YW+eaWja6QYdVz0VfWesqeCM92i9wbk1RmO5ShlkWW6dZmTotPfBbBxqWJaVVMqS0aFsyqTsM2yWbQ7DaQ6bzzkcxnUOuYM5NknQed6asIOgMHXrDJ4ZluIDDIOVYefKck9KA78Ntw04Ac9/R7vZsEDPYRyPwSYYe+uslvcNBP0FOhqb2ANJMqkAAAAASUVORK5CYII="},"images":{"fallback":{"src":"/static/1abe773c03695d4d24893fe50b49c0dd/95126/image.png","srcSet":"/static/1abe773c03695d4d24893fe50b49c0dd/7a5a8/image.png 541w,\n/static/1abe773c03695d4d24893fe50b49c0dd/24bf1/image.png 1083w,\n/static/1abe773c03695d4d24893fe50b49c0dd/95126/image.png 2165w","sizes":"(min-width: 2165px) 2165px, 100vw"},"sources":[{"srcSet":"/static/1abe773c03695d4d24893fe50b49c0dd/ba0ab/image.webp 541w,\n/static/1abe773c03695d4d24893fe50b49c0dd/9c64f/image.webp 1083w,\n/static/1abe773c03695d4d24893fe50b49c0dd/c24b7/image.webp 2165w","type":"image/webp","sizes":"(min-width: 2165px) 2165px, 100vw"}]},"width":2165,"height":1332}},"publicURL":"/static/1abe773c03695d4d24893fe50b49c0dd/image.png"}}}}]}},"pageContext":{"slug":"/항해플러스/모니터링시스템/logback-cloudwatch/"}},"staticQueryHashes":[],"slicesMap":{}}